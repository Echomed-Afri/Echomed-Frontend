function sg(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Sn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ig(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ri(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var og={exports:{}},qa={},ag={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oi=Symbol.for("react.element"),nb=Symbol.for("react.portal"),sb=Symbol.for("react.fragment"),ib=Symbol.for("react.strict_mode"),ob=Symbol.for("react.profiler"),ab=Symbol.for("react.provider"),lb=Symbol.for("react.context"),cb=Symbol.for("react.forward_ref"),ub=Symbol.for("react.suspense"),db=Symbol.for("react.memo"),hb=Symbol.for("react.lazy"),zh=Symbol.iterator;function fb(e){return e===null||typeof e!="object"?null:(e=zh&&e[zh]||e["@@iterator"],typeof e=="function"?e:null)}var lg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cg=Object.assign,ug={};function ys(e,t,r){this.props=e,this.context=t,this.refs=ug,this.updater=r||lg}ys.prototype.isReactComponent={};ys.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ys.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dg(){}dg.prototype=ys.prototype;function ad(e,t,r){this.props=e,this.context=t,this.refs=ug,this.updater=r||lg}var ld=ad.prototype=new dg;ld.constructor=ad;cg(ld,ys.prototype);ld.isPureReactComponent=!0;var Hh=Array.isArray,hg=Object.prototype.hasOwnProperty,cd={current:null},fg={key:!0,ref:!0,__self:!0,__source:!0};function pg(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)hg.call(t,n)&&!fg.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Oi,type:e,key:i,ref:o,props:s,_owner:cd.current}}function pb(e,t){return{$$typeof:Oi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ud(e){return typeof e=="object"&&e!==null&&e.$$typeof===Oi}function mb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var qh=/\/+/g;function Ol(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mb(""+e.key):t.toString(36)}function Ro(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Oi:case nb:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Ol(o,0):n,Hh(s)?(r="",e!=null&&(r=e.replace(qh,"$&/")+"/"),Ro(s,t,r,"",function(u){return u})):s!=null&&(ud(s)&&(s=pb(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(qh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Hh(e))for(var a=0;a<e.length;a++){i=e[a];var c=n+Ol(i,a);o+=Ro(i,t,r,c,s)}else if(c=fb(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=n+Ol(i,a++),o+=Ro(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Zi(e,t,r){if(e==null)return e;var n=[],s=0;return Ro(e,n,"","",function(i){return t.call(r,i,s++)}),n}function gb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ze={current:null},Oo={transition:null},yb={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:Oo,ReactCurrentOwner:cd};function mg(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:Zi,forEach:function(e,t,r){Zi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Zi(e,function(){t++}),t},toArray:function(e){return Zi(e,function(t){return t})||[]},only:function(e){if(!ud(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=ys;z.Fragment=sb;z.Profiler=ob;z.PureComponent=ad;z.StrictMode=ib;z.Suspense=ub;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yb;z.act=mg;z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=cg({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=cd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)hg.call(t,c)&&!fg.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Oi,type:e.type,key:s,ref:i,props:n,_owner:o}};z.createContext=function(e){return e={$$typeof:lb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ab,_context:e},e.Consumer=e};z.createElement=pg;z.createFactory=function(e){var t=pg.bind(null,e);return t.type=e,t};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:cb,render:e}};z.isValidElement=ud;z.lazy=function(e){return{$$typeof:hb,_payload:{_status:-1,_result:e},_init:gb}};z.memo=function(e,t){return{$$typeof:db,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=Oo.transition;Oo.transition={};try{e()}finally{Oo.transition=t}};z.unstable_act=mg;z.useCallback=function(e,t){return ze.current.useCallback(e,t)};z.useContext=function(e){return ze.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return ze.current.useDeferredValue(e)};z.useEffect=function(e,t){return ze.current.useEffect(e,t)};z.useId=function(){return ze.current.useId()};z.useImperativeHandle=function(e,t,r){return ze.current.useImperativeHandle(e,t,r)};z.useInsertionEffect=function(e,t){return ze.current.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return ze.current.useLayoutEffect(e,t)};z.useMemo=function(e,t){return ze.current.useMemo(e,t)};z.useReducer=function(e,t,r){return ze.current.useReducer(e,t,r)};z.useRef=function(e){return ze.current.useRef(e)};z.useState=function(e){return ze.current.useState(e)};z.useSyncExternalStore=function(e,t,r){return ze.current.useSyncExternalStore(e,t,r)};z.useTransition=function(){return ze.current.useTransition()};z.version="18.3.1";ag.exports=z;var S=ag.exports;const Ii=ig(S),vb=sg({__proto__:null,default:Ii},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb=S,wb=Symbol.for("react.element"),bb=Symbol.for("react.fragment"),jb=Object.prototype.hasOwnProperty,Sb=xb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_b={key:!0,ref:!0,__self:!0,__source:!0};function gg(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)jb.call(t,n)&&!_b.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:wb,type:e,key:i,ref:o,props:s,_owner:Sb.current}}qa.Fragment=bb;qa.jsx=gg;qa.jsxs=gg;og.exports=qa;var l=og.exports,yg={exports:{}},ct={},vg={exports:{}},xg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,M){var F=P.length;P.push(M);e:for(;0<F;){var D=F-1>>>1,G=P[D];if(0<s(G,M))P[D]=M,P[F]=G,F=D;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var M=P[0],F=P.pop();if(F!==M){P[0]=F;e:for(var D=0,G=P.length,bt=G>>>1;D<bt;){var $e=2*(D+1)-1,Ht=P[$e],rt=$e+1,$r=P[rt];if(0>s(Ht,F))rt<G&&0>s($r,Ht)?(P[D]=$r,P[rt]=F,D=rt):(P[D]=Ht,P[$e]=F,D=$e);else if(rt<G&&0>s($r,F))P[D]=$r,P[rt]=F,D=rt;else break e}}return M}function s(P,M){var F=P.sortIndex-M.sortIndex;return F!==0?F:P.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,h=null,f=3,y=!1,m=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=P)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function b(P){if(w=!1,v(P),!m)if(r(c)!==null)m=!0,H(E);else{var M=r(u);M!==null&&Ue(b,M.startTime-P)}}function E(P,M){m=!1,w&&(w=!1,p(k),k=-1),y=!0;var F=f;try{for(v(M),h=r(c);h!==null&&(!(h.expirationTime>M)||P&&!B());){var D=h.callback;if(typeof D=="function"){h.callback=null,f=h.priorityLevel;var G=D(h.expirationTime<=M);M=e.unstable_now(),typeof G=="function"?h.callback=G:h===r(c)&&n(c),v(M)}else n(c);h=r(c)}if(h!==null)var bt=!0;else{var $e=r(u);$e!==null&&Ue(b,$e.startTime-M),bt=!1}return bt}finally{h=null,f=F,y=!1}}var _=!1,j=null,k=-1,C=5,A=-1;function B(){return!(e.unstable_now()-A<C)}function q(){if(j!==null){var P=e.unstable_now();A=P;var M=!0;try{M=j(!0,P)}finally{M?J():(_=!1,j=null)}}else _=!1}var J;if(typeof g=="function")J=function(){g(q)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,tt=Q.port2;Q.port1.onmessage=q,J=function(){tt.postMessage(null)}}else J=function(){x(q,0)};function H(P){j=P,_||(_=!0,J())}function Ue(P,M){k=x(function(){P(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){m||y||(m=!0,H(E))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var F=f;f=M;try{return P()}finally{f=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,M){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var F=f;f=P;try{return M()}finally{f=F}},e.unstable_scheduleCallback=function(P,M,F){var D=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?D+F:D):F=D,P){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=F+G,P={id:d++,callback:M,priorityLevel:P,startTime:F,expirationTime:G,sortIndex:-1},F>D?(P.sortIndex=F,t(u,P),r(c)===null&&P===r(u)&&(w?(p(k),k=-1):w=!0,Ue(b,F-D))):(P.sortIndex=G,t(c,P),m||y||(m=!0,H(E))),P},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(P){var M=f;return function(){var F=f;f=M;try{return P.apply(this,arguments)}finally{f=F}}}})(xg);vg.exports=xg;var Eb=vg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kb=S,at=Eb;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wg=new Set,oi={};function vn(e,t){ns(e,t),ns(e+"Capture",t)}function ns(e,t){for(oi[e]=t,e=0;e<t.length;e++)wg.add(t[e])}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pc=Object.prototype.hasOwnProperty,Nb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wh={},Kh={};function Cb(e){return Pc.call(Kh,e)?!0:Pc.call(Wh,e)?!1:Nb.test(e)?Kh[e]=!0:(Wh[e]=!0,!1)}function Tb(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Pb(e,t,r,n){if(t===null||typeof t>"u"||Tb(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function He(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new He(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new He(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new He(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new He(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new He(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new He(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new He(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new He(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new He(e,5,!1,e.toLowerCase(),null,!1,!1)});var dd=/[\-:]([a-z])/g;function hd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(dd,hd);Ce[t]=new He(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(dd,hd);Ce[t]=new He(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(dd,hd);Ce[t]=new He(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new He(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new He(e,1,!1,e.toLowerCase(),null,!0,!0)});function fd(e,t,r,n){var s=Ce.hasOwnProperty(t)?Ce[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Pb(t,r,s,n)&&(r=null),n||s===null?Cb(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var or=kb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eo=Symbol.for("react.element"),Rn=Symbol.for("react.portal"),On=Symbol.for("react.fragment"),pd=Symbol.for("react.strict_mode"),Ac=Symbol.for("react.profiler"),bg=Symbol.for("react.provider"),jg=Symbol.for("react.context"),md=Symbol.for("react.forward_ref"),Rc=Symbol.for("react.suspense"),Oc=Symbol.for("react.suspense_list"),gd=Symbol.for("react.memo"),ur=Symbol.for("react.lazy"),Sg=Symbol.for("react.offscreen"),Gh=Symbol.iterator;function Cs(e){return e===null||typeof e!="object"?null:(e=Gh&&e[Gh]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,Il;function $s(e){if(Il===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Il=t&&t[1]||""}return`
`+Il+e}var Ll=!1;function Dl(e,t){if(!e||Ll)return"";Ll=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{Ll=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?$s(e):""}function Ab(e){switch(e.tag){case 5:return $s(e.type);case 16:return $s("Lazy");case 13:return $s("Suspense");case 19:return $s("SuspenseList");case 0:case 2:case 15:return e=Dl(e.type,!1),e;case 11:return e=Dl(e.type.render,!1),e;case 1:return e=Dl(e.type,!0),e;default:return""}}function Ic(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case On:return"Fragment";case Rn:return"Portal";case Ac:return"Profiler";case pd:return"StrictMode";case Rc:return"Suspense";case Oc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jg:return(e.displayName||"Context")+".Consumer";case bg:return(e._context.displayName||"Context")+".Provider";case md:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gd:return t=e.displayName||null,t!==null?t:Ic(e.type)||"Memo";case ur:t=e._payload,e=e._init;try{return Ic(e(t))}catch{}}return null}function Rb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ic(t);case 8:return t===pd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _g(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ob(e){var t=_g(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function to(e){e._valueTracker||(e._valueTracker=Ob(e))}function Eg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=_g(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Zo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lc(e,t){var r=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Jh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Pr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kg(e,t){t=t.checked,t!=null&&fd(e,"checked",t,!1)}function Dc(e,t){kg(e,t);var r=Pr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Mc(e,t.type,Pr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Mc(e,t,r){(t!=="number"||Zo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Fs=Array.isArray;function Gn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Pr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Uc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(T(92));if(Fs(r)){if(1<r.length)throw Error(T(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Pr(r)}}function Ng(e,t){var r=Pr(t.value),n=Pr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Yh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $c(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ro,Tg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ro=ro||document.createElement("div"),ro.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ro.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ai(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ib=["Webkit","ms","Moz","O"];Object.keys(Ws).forEach(function(e){Ib.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ws[t]=Ws[e]})});function Pg(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ws.hasOwnProperty(e)&&Ws[e]?(""+t).trim():t+"px"}function Ag(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Pg(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Lb=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fc(e,t){if(t){if(Lb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Vc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bc=null;function yd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zc=null,Jn=null,Xn=null;function Zh(e){if(e=Mi(e)){if(typeof zc!="function")throw Error(T(280));var t=e.stateNode;t&&(t=Xa(t),zc(e.stateNode,e.type,t))}}function Rg(e){Jn?Xn?Xn.push(e):Xn=[e]:Jn=e}function Og(){if(Jn){var e=Jn,t=Xn;if(Xn=Jn=null,Zh(e),t)for(e=0;e<t.length;e++)Zh(t[e])}}function Ig(e,t){return e(t)}function Lg(){}var Ml=!1;function Dg(e,t,r){if(Ml)return e(t,r);Ml=!0;try{return Ig(e,t,r)}finally{Ml=!1,(Jn!==null||Xn!==null)&&(Lg(),Og())}}function li(e,t){var r=e.stateNode;if(r===null)return null;var n=Xa(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(T(231,t,typeof r));return r}var Hc=!1;if(er)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){Hc=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{Hc=!1}function Db(e,t,r,n,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ks=!1,ea=null,ta=!1,qc=null,Mb={onError:function(e){Ks=!0,ea=e}};function Ub(e,t,r,n,s,i,o,a,c){Ks=!1,ea=null,Db.apply(Mb,arguments)}function $b(e,t,r,n,s,i,o,a,c){if(Ub.apply(this,arguments),Ks){if(Ks){var u=ea;Ks=!1,ea=null}else throw Error(T(198));ta||(ta=!0,qc=u)}}function xn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Mg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ef(e){if(xn(e)!==e)throw Error(T(188))}function Fb(e){var t=e.alternate;if(!t){if(t=xn(e),t===null)throw Error(T(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return ef(s),e;if(i===n)return ef(s),t;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?e:t}function Ug(e){return e=Fb(e),e!==null?$g(e):null}function $g(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$g(e);if(t!==null)return t;e=e.sibling}return null}var Fg=at.unstable_scheduleCallback,tf=at.unstable_cancelCallback,Vb=at.unstable_shouldYield,Bb=at.unstable_requestPaint,he=at.unstable_now,zb=at.unstable_getCurrentPriorityLevel,vd=at.unstable_ImmediatePriority,Vg=at.unstable_UserBlockingPriority,ra=at.unstable_NormalPriority,Hb=at.unstable_LowPriority,Bg=at.unstable_IdlePriority,Wa=null,$t=null;function qb(e){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Wa,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Gb,Wb=Math.log,Kb=Math.LN2;function Gb(e){return e>>>=0,e===0?32:31-(Wb(e)/Kb|0)|0}var no=64,so=4194304;function Vs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function na(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Vs(a):(i&=o,i!==0&&(n=Vs(i)))}else o=r&~s,o!==0?n=Vs(o):i!==0&&(n=Vs(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pt(t),s=1<<r,n|=e[r],t&=~s;return n}function Jb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xb(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Pt(i),a=1<<o,c=s[o];c===-1?(!(a&r)||a&n)&&(s[o]=Jb(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Wc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zg(){var e=no;return no<<=1,!(no&4194240)&&(no=64),e}function Ul(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Li(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=r}function Qb(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Pt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function xd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var X=0;function Hg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qg,wd,Wg,Kg,Gg,Kc=!1,io=[],br=null,jr=null,Sr=null,ci=new Map,ui=new Map,fr=[],Yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rf(e,t){switch(e){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":ci.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ui.delete(t.pointerId)}}function Ps(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Mi(t),t!==null&&wd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Zb(e,t,r,n,s){switch(t){case"focusin":return br=Ps(br,e,t,r,n,s),!0;case"dragenter":return jr=Ps(jr,e,t,r,n,s),!0;case"mouseover":return Sr=Ps(Sr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ci.set(i,Ps(ci.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ui.set(i,Ps(ui.get(i)||null,e,t,r,n,s)),!0}return!1}function Jg(e){var t=en(e.target);if(t!==null){var r=xn(t);if(r!==null){if(t=r.tag,t===13){if(t=Mg(r),t!==null){e.blockedOn=t,Gg(e.priority,function(){Wg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Io(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Bc=n,r.target.dispatchEvent(n),Bc=null}else return t=Mi(r),t!==null&&wd(t),e.blockedOn=r,!1;t.shift()}return!0}function nf(e,t,r){Io(e)&&r.delete(t)}function e1(){Kc=!1,br!==null&&Io(br)&&(br=null),jr!==null&&Io(jr)&&(jr=null),Sr!==null&&Io(Sr)&&(Sr=null),ci.forEach(nf),ui.forEach(nf)}function As(e,t){e.blockedOn===t&&(e.blockedOn=null,Kc||(Kc=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,e1)))}function di(e){function t(s){return As(s,e)}if(0<io.length){As(io[0],e);for(var r=1;r<io.length;r++){var n=io[r];n.blockedOn===e&&(n.blockedOn=null)}}for(br!==null&&As(br,e),jr!==null&&As(jr,e),Sr!==null&&As(Sr,e),ci.forEach(t),ui.forEach(t),r=0;r<fr.length;r++)n=fr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<fr.length&&(r=fr[0],r.blockedOn===null);)Jg(r),r.blockedOn===null&&fr.shift()}var Qn=or.ReactCurrentBatchConfig,sa=!0;function t1(e,t,r,n){var s=X,i=Qn.transition;Qn.transition=null;try{X=1,bd(e,t,r,n)}finally{X=s,Qn.transition=i}}function r1(e,t,r,n){var s=X,i=Qn.transition;Qn.transition=null;try{X=4,bd(e,t,r,n)}finally{X=s,Qn.transition=i}}function bd(e,t,r,n){if(sa){var s=Gc(e,t,r,n);if(s===null)Gl(e,t,n,ia,r),rf(e,n);else if(Zb(s,e,t,r,n))n.stopPropagation();else if(rf(e,n),t&4&&-1<Yb.indexOf(e)){for(;s!==null;){var i=Mi(s);if(i!==null&&qg(i),i=Gc(e,t,r,n),i===null&&Gl(e,t,n,ia,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Gl(e,t,n,null,r)}}var ia=null;function Gc(e,t,r,n){if(ia=null,e=yd(n),e=en(e),e!==null)if(t=xn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Mg(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ia=e,null}function Xg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zb()){case vd:return 1;case Vg:return 4;case ra:case Hb:return 16;case Bg:return 536870912;default:return 16}default:return 16}}var yr=null,jd=null,Lo=null;function Qg(){if(Lo)return Lo;var e,t=jd,r=t.length,n,s="value"in yr?yr.value:yr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Lo=s.slice(e,1<n?1-n:void 0)}function Do(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oo(){return!0}function sf(){return!1}function ut(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?oo:sf,this.isPropagationStopped=sf,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),t}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sd=ut(vs),Di=ce({},vs,{view:0,detail:0}),n1=ut(Di),$l,Fl,Rs,Ka=ce({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_d,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rs&&(Rs&&e.type==="mousemove"?($l=e.screenX-Rs.screenX,Fl=e.screenY-Rs.screenY):Fl=$l=0,Rs=e),$l)},movementY:function(e){return"movementY"in e?e.movementY:Fl}}),of=ut(Ka),s1=ce({},Ka,{dataTransfer:0}),i1=ut(s1),o1=ce({},Di,{relatedTarget:0}),Vl=ut(o1),a1=ce({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),l1=ut(a1),c1=ce({},vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),u1=ut(c1),d1=ce({},vs,{data:0}),af=ut(d1),h1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=p1[e])?!!t[e]:!1}function _d(){return m1}var g1=ce({},Di,{key:function(e){if(e.key){var t=h1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Do(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?f1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_d,charCode:function(e){return e.type==="keypress"?Do(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Do(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),y1=ut(g1),v1=ce({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lf=ut(v1),x1=ce({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_d}),w1=ut(x1),b1=ce({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),j1=ut(b1),S1=ce({},Ka,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_1=ut(S1),E1=[9,13,27,32],Ed=er&&"CompositionEvent"in window,Gs=null;er&&"documentMode"in document&&(Gs=document.documentMode);var k1=er&&"TextEvent"in window&&!Gs,Yg=er&&(!Ed||Gs&&8<Gs&&11>=Gs),cf=" ",uf=!1;function Zg(e,t){switch(e){case"keyup":return E1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ey(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var In=!1;function N1(e,t){switch(e){case"compositionend":return ey(t);case"keypress":return t.which!==32?null:(uf=!0,cf);case"textInput":return e=t.data,e===cf&&uf?null:e;default:return null}}function C1(e,t){if(In)return e==="compositionend"||!Ed&&Zg(e,t)?(e=Qg(),Lo=jd=yr=null,In=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yg&&t.locale!=="ko"?null:t.data;default:return null}}var T1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function df(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!T1[e.type]:t==="textarea"}function ty(e,t,r,n){Rg(n),t=oa(t,"onChange"),0<t.length&&(r=new Sd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Js=null,hi=null;function P1(e){hy(e,0)}function Ga(e){var t=Mn(e);if(Eg(t))return e}function A1(e,t){if(e==="change")return t}var ry=!1;if(er){var Bl;if(er){var zl="oninput"in document;if(!zl){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),zl=typeof hf.oninput=="function"}Bl=zl}else Bl=!1;ry=Bl&&(!document.documentMode||9<document.documentMode)}function ff(){Js&&(Js.detachEvent("onpropertychange",ny),hi=Js=null)}function ny(e){if(e.propertyName==="value"&&Ga(hi)){var t=[];ty(t,hi,e,yd(e)),Dg(P1,t)}}function R1(e,t,r){e==="focusin"?(ff(),Js=t,hi=r,Js.attachEvent("onpropertychange",ny)):e==="focusout"&&ff()}function O1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ga(hi)}function I1(e,t){if(e==="click")return Ga(t)}function L1(e,t){if(e==="input"||e==="change")return Ga(t)}function D1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:D1;function fi(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Pc.call(t,s)||!Rt(e[s],t[s]))return!1}return!0}function pf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mf(e,t){var r=pf(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pf(r)}}function sy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iy(){for(var e=window,t=Zo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Zo(e.document)}return t}function kd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function M1(e){var t=iy(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&sy(r.ownerDocument.documentElement,r)){if(n!==null&&kd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=mf(r,i);var o=mf(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var U1=er&&"documentMode"in document&&11>=document.documentMode,Ln=null,Jc=null,Xs=null,Xc=!1;function gf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xc||Ln==null||Ln!==Zo(n)||(n=Ln,"selectionStart"in n&&kd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xs&&fi(Xs,n)||(Xs=n,n=oa(Jc,"onSelect"),0<n.length&&(t=new Sd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ln)))}function ao(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Dn={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionend:ao("Transition","TransitionEnd")},Hl={},oy={};er&&(oy=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function Ja(e){if(Hl[e])return Hl[e];if(!Dn[e])return e;var t=Dn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in oy)return Hl[e]=t[r];return e}var ay=Ja("animationend"),ly=Ja("animationiteration"),cy=Ja("animationstart"),uy=Ja("transitionend"),dy=new Map,yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){dy.set(e,t),vn(t,[e])}for(var ql=0;ql<yf.length;ql++){var Wl=yf[ql],$1=Wl.toLowerCase(),F1=Wl[0].toUpperCase()+Wl.slice(1);Ir($1,"on"+F1)}Ir(ay,"onAnimationEnd");Ir(ly,"onAnimationIteration");Ir(cy,"onAnimationStart");Ir("dblclick","onDoubleClick");Ir("focusin","onFocus");Ir("focusout","onBlur");Ir(uy,"onTransitionEnd");ns("onMouseEnter",["mouseout","mouseover"]);ns("onMouseLeave",["mouseout","mouseover"]);ns("onPointerEnter",["pointerout","pointerover"]);ns("onPointerLeave",["pointerout","pointerover"]);vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bs));function vf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,$b(n,t,void 0,e),e.currentTarget=null}function hy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;vf(s,a,u),i=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;vf(s,a,u),i=c}}}if(ta)throw e=qc,ta=!1,qc=null,e}function re(e,t){var r=t[tu];r===void 0&&(r=t[tu]=new Set);var n=e+"__bubble";r.has(n)||(fy(t,e,2,!1),r.add(n))}function Kl(e,t,r){var n=0;t&&(n|=4),fy(r,e,n,t)}var lo="_reactListening"+Math.random().toString(36).slice(2);function pi(e){if(!e[lo]){e[lo]=!0,wg.forEach(function(r){r!=="selectionchange"&&(V1.has(r)||Kl(r,!1,e),Kl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lo]||(t[lo]=!0,Kl("selectionchange",!1,t))}}function fy(e,t,r,n){switch(Xg(t)){case 1:var s=t1;break;case 4:s=r1;break;default:s=bd}r=s.bind(null,t,r,e),s=void 0,!Hc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Gl(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=en(a),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Dg(function(){var u=i,d=yd(r),h=[];e:{var f=dy.get(e);if(f!==void 0){var y=Sd,m=e;switch(e){case"keypress":if(Do(r)===0)break e;case"keydown":case"keyup":y=y1;break;case"focusin":m="focus",y=Vl;break;case"focusout":m="blur",y=Vl;break;case"beforeblur":case"afterblur":y=Vl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=of;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=i1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=w1;break;case ay:case ly:case cy:y=l1;break;case uy:y=j1;break;case"scroll":y=n1;break;case"wheel":y=_1;break;case"copy":case"cut":case"paste":y=u1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=lf}var w=(t&4)!==0,x=!w&&e==="scroll",p=w?f!==null?f+"Capture":null:f;w=[];for(var g=u,v;g!==null;){v=g;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,p!==null&&(b=li(g,p),b!=null&&w.push(mi(g,b,v)))),x)break;g=g.return}0<w.length&&(f=new y(f,m,null,r,d),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==Bc&&(m=r.relatedTarget||r.fromElement)&&(en(m)||m[tr]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(m=r.relatedTarget||r.toElement,y=u,m=m?en(m):null,m!==null&&(x=xn(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(y=null,m=u),y!==m)){if(w=of,b="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(w=lf,b="onPointerLeave",p="onPointerEnter",g="pointer"),x=y==null?f:Mn(y),v=m==null?f:Mn(m),f=new w(b,g+"leave",y,r,d),f.target=x,f.relatedTarget=v,b=null,en(d)===u&&(w=new w(p,g+"enter",m,r,d),w.target=v,w.relatedTarget=x,b=w),x=b,y&&m)t:{for(w=y,p=m,g=0,v=w;v;v=_n(v))g++;for(v=0,b=p;b;b=_n(b))v++;for(;0<g-v;)w=_n(w),g--;for(;0<v-g;)p=_n(p),v--;for(;g--;){if(w===p||p!==null&&w===p.alternate)break t;w=_n(w),p=_n(p)}w=null}else w=null;y!==null&&xf(h,f,y,w,!1),m!==null&&x!==null&&xf(h,x,m,w,!0)}}e:{if(f=u?Mn(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var E=A1;else if(df(f))if(ry)E=L1;else{E=O1;var _=R1}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=I1);if(E&&(E=E(e,u))){ty(h,E,r,d);break e}_&&_(e,f,u),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Mc(f,"number",f.value)}switch(_=u?Mn(u):window,e){case"focusin":(df(_)||_.contentEditable==="true")&&(Ln=_,Jc=u,Xs=null);break;case"focusout":Xs=Jc=Ln=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,gf(h,r,d);break;case"selectionchange":if(U1)break;case"keydown":case"keyup":gf(h,r,d)}var j;if(Ed)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else In?Zg(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Yg&&r.locale!=="ko"&&(In||k!=="onCompositionStart"?k==="onCompositionEnd"&&In&&(j=Qg()):(yr=d,jd="value"in yr?yr.value:yr.textContent,In=!0)),_=oa(u,k),0<_.length&&(k=new af(k,e,null,r,d),h.push({event:k,listeners:_}),j?k.data=j:(j=ey(r),j!==null&&(k.data=j)))),(j=k1?N1(e,r):C1(e,r))&&(u=oa(u,"onBeforeInput"),0<u.length&&(d=new af("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}hy(h,t)})}function mi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function oa(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=li(e,r),i!=null&&n.unshift(mi(e,i,s)),i=li(e,t),i!=null&&n.push(mi(e,i,s))),e=e.return}return n}function _n(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xf(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,s?(c=li(r,i),c!=null&&o.unshift(mi(r,c,a))):s||(c=li(r,i),c!=null&&o.push(mi(r,c,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var B1=/\r\n?/g,z1=/\u0000|\uFFFD/g;function wf(e){return(typeof e=="string"?e:""+e).replace(B1,`
`).replace(z1,"")}function co(e,t,r){if(t=wf(t),wf(e)!==t&&r)throw Error(T(425))}function aa(){}var Qc=null,Yc=null;function Zc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eu=typeof setTimeout=="function"?setTimeout:void 0,H1=typeof clearTimeout=="function"?clearTimeout:void 0,bf=typeof Promise=="function"?Promise:void 0,q1=typeof queueMicrotask=="function"?queueMicrotask:typeof bf<"u"?function(e){return bf.resolve(null).then(e).catch(W1)}:eu;function W1(e){setTimeout(function(){throw e})}function Jl(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),di(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);di(t)}function _r(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var xs=Math.random().toString(36).slice(2),Ut="__reactFiber$"+xs,gi="__reactProps$"+xs,tr="__reactContainer$"+xs,tu="__reactEvents$"+xs,K1="__reactListeners$"+xs,G1="__reactHandles$"+xs;function en(e){var t=e[Ut];if(t)return t;for(var r=e.parentNode;r;){if(t=r[tr]||r[Ut]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=jf(e);e!==null;){if(r=e[Ut])return r;e=jf(e)}return t}e=r,r=e.parentNode}return null}function Mi(e){return e=e[Ut]||e[tr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function Xa(e){return e[gi]||null}var ru=[],Un=-1;function Lr(e){return{current:e}}function ne(e){0>Un||(e.current=ru[Un],ru[Un]=null,Un--)}function ee(e,t){Un++,ru[Un]=e.current,e.current=t}var Ar={},De=Lr(Ar),Je=Lr(!1),hn=Ar;function ss(e,t){var r=e.type.contextTypes;if(!r)return Ar;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xe(e){return e=e.childContextTypes,e!=null}function la(){ne(Je),ne(De)}function Sf(e,t,r){if(De.current!==Ar)throw Error(T(168));ee(De,t),ee(Je,r)}function py(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(T(108,Rb(e)||"Unknown",s));return ce({},r,n)}function ca(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ar,hn=De.current,ee(De,e),ee(Je,Je.current),!0}function _f(e,t,r){var n=e.stateNode;if(!n)throw Error(T(169));r?(e=py(e,t,hn),n.__reactInternalMemoizedMergedChildContext=e,ne(Je),ne(De),ee(De,e)):ne(Je),ee(Je,r)}var Wt=null,Qa=!1,Xl=!1;function my(e){Wt===null?Wt=[e]:Wt.push(e)}function J1(e){Qa=!0,my(e)}function Dr(){if(!Xl&&Wt!==null){Xl=!0;var e=0,t=X;try{var r=Wt;for(X=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Wt=null,Qa=!1}catch(s){throw Wt!==null&&(Wt=Wt.slice(e+1)),Fg(vd,Dr),s}finally{X=t,Xl=!1}}return null}var $n=[],Fn=0,ua=null,da=0,ft=[],pt=0,fn=null,Kt=1,Gt="";function Hr(e,t){$n[Fn++]=da,$n[Fn++]=ua,ua=e,da=t}function gy(e,t,r){ft[pt++]=Kt,ft[pt++]=Gt,ft[pt++]=fn,fn=e;var n=Kt;e=Gt;var s=32-Pt(n)-1;n&=~(1<<s),r+=1;var i=32-Pt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Kt=1<<32-Pt(t)+s|r<<s|n,Gt=i+e}else Kt=1<<i|r<<s|n,Gt=e}function Nd(e){e.return!==null&&(Hr(e,1),gy(e,1,0))}function Cd(e){for(;e===ua;)ua=$n[--Fn],$n[Fn]=null,da=$n[--Fn],$n[Fn]=null;for(;e===fn;)fn=ft[--pt],ft[pt]=null,Gt=ft[--pt],ft[pt]=null,Kt=ft[--pt],ft[pt]=null}var ot=null,it=null,ie=!1,Tt=null;function yy(e,t){var r=gt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ef(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ot=e,it=_r(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ot=e,it=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=fn!==null?{id:Kt,overflow:Gt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ot=e,it=null,!0):!1;default:return!1}}function nu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function su(e){if(ie){var t=it;if(t){var r=t;if(!Ef(e,t)){if(nu(e))throw Error(T(418));t=_r(r.nextSibling);var n=ot;t&&Ef(e,t)?yy(n,r):(e.flags=e.flags&-4097|2,ie=!1,ot=e)}}else{if(nu(e))throw Error(T(418));e.flags=e.flags&-4097|2,ie=!1,ot=e}}}function kf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function uo(e){if(e!==ot)return!1;if(!ie)return kf(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zc(e.type,e.memoizedProps)),t&&(t=it)){if(nu(e))throw vy(),Error(T(418));for(;t;)yy(e,t),t=_r(t.nextSibling)}if(kf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){it=_r(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}it=null}}else it=ot?_r(e.stateNode.nextSibling):null;return!0}function vy(){for(var e=it;e;)e=_r(e.nextSibling)}function is(){it=ot=null,ie=!1}function Td(e){Tt===null?Tt=[e]:Tt.push(e)}var X1=or.ReactCurrentBatchConfig;function Os(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,e))}return e}function ho(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nf(e){var t=e._init;return t(e._payload)}function xy(e){function t(p,g){if(e){var v=p.deletions;v===null?(p.deletions=[g],p.flags|=16):v.push(g)}}function r(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function n(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(p,g){return p=Cr(p,g),p.index=0,p.sibling=null,p}function i(p,g,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<g?(p.flags|=2,g):v):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,g,v,b){return g===null||g.tag!==6?(g=nc(v,p.mode,b),g.return=p,g):(g=s(g,v),g.return=p,g)}function c(p,g,v,b){var E=v.type;return E===On?d(p,g,v.props.children,b,v.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ur&&Nf(E)===g.type)?(b=s(g,v.props),b.ref=Os(p,g,v),b.return=p,b):(b=zo(v.type,v.key,v.props,null,p.mode,b),b.ref=Os(p,g,v),b.return=p,b)}function u(p,g,v,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=sc(v,p.mode,b),g.return=p,g):(g=s(g,v.children||[]),g.return=p,g)}function d(p,g,v,b,E){return g===null||g.tag!==7?(g=ln(v,p.mode,b,E),g.return=p,g):(g=s(g,v),g.return=p,g)}function h(p,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=nc(""+g,p.mode,v),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case eo:return v=zo(g.type,g.key,g.props,null,p.mode,v),v.ref=Os(p,null,g),v.return=p,v;case Rn:return g=sc(g,p.mode,v),g.return=p,g;case ur:var b=g._init;return h(p,b(g._payload),v)}if(Fs(g)||Cs(g))return g=ln(g,p.mode,v,null),g.return=p,g;ho(p,g)}return null}function f(p,g,v,b){var E=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(p,g,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case eo:return v.key===E?c(p,g,v,b):null;case Rn:return v.key===E?u(p,g,v,b):null;case ur:return E=v._init,f(p,g,E(v._payload),b)}if(Fs(v)||Cs(v))return E!==null?null:d(p,g,v,b,null);ho(p,v)}return null}function y(p,g,v,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(v)||null,a(g,p,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case eo:return p=p.get(b.key===null?v:b.key)||null,c(g,p,b,E);case Rn:return p=p.get(b.key===null?v:b.key)||null,u(g,p,b,E);case ur:var _=b._init;return y(p,g,v,_(b._payload),E)}if(Fs(b)||Cs(b))return p=p.get(v)||null,d(g,p,b,E,null);ho(g,b)}return null}function m(p,g,v,b){for(var E=null,_=null,j=g,k=g=0,C=null;j!==null&&k<v.length;k++){j.index>k?(C=j,j=null):C=j.sibling;var A=f(p,j,v[k],b);if(A===null){j===null&&(j=C);break}e&&j&&A.alternate===null&&t(p,j),g=i(A,g,k),_===null?E=A:_.sibling=A,_=A,j=C}if(k===v.length)return r(p,j),ie&&Hr(p,k),E;if(j===null){for(;k<v.length;k++)j=h(p,v[k],b),j!==null&&(g=i(j,g,k),_===null?E=j:_.sibling=j,_=j);return ie&&Hr(p,k),E}for(j=n(p,j);k<v.length;k++)C=y(j,p,k,v[k],b),C!==null&&(e&&C.alternate!==null&&j.delete(C.key===null?k:C.key),g=i(C,g,k),_===null?E=C:_.sibling=C,_=C);return e&&j.forEach(function(B){return t(p,B)}),ie&&Hr(p,k),E}function w(p,g,v,b){var E=Cs(v);if(typeof E!="function")throw Error(T(150));if(v=E.call(v),v==null)throw Error(T(151));for(var _=E=null,j=g,k=g=0,C=null,A=v.next();j!==null&&!A.done;k++,A=v.next()){j.index>k?(C=j,j=null):C=j.sibling;var B=f(p,j,A.value,b);if(B===null){j===null&&(j=C);break}e&&j&&B.alternate===null&&t(p,j),g=i(B,g,k),_===null?E=B:_.sibling=B,_=B,j=C}if(A.done)return r(p,j),ie&&Hr(p,k),E;if(j===null){for(;!A.done;k++,A=v.next())A=h(p,A.value,b),A!==null&&(g=i(A,g,k),_===null?E=A:_.sibling=A,_=A);return ie&&Hr(p,k),E}for(j=n(p,j);!A.done;k++,A=v.next())A=y(j,p,k,A.value,b),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?k:A.key),g=i(A,g,k),_===null?E=A:_.sibling=A,_=A);return e&&j.forEach(function(q){return t(p,q)}),ie&&Hr(p,k),E}function x(p,g,v,b){if(typeof v=="object"&&v!==null&&v.type===On&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case eo:e:{for(var E=v.key,_=g;_!==null;){if(_.key===E){if(E=v.type,E===On){if(_.tag===7){r(p,_.sibling),g=s(_,v.props.children),g.return=p,p=g;break e}}else if(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ur&&Nf(E)===_.type){r(p,_.sibling),g=s(_,v.props),g.ref=Os(p,_,v),g.return=p,p=g;break e}r(p,_);break}else t(p,_);_=_.sibling}v.type===On?(g=ln(v.props.children,p.mode,b,v.key),g.return=p,p=g):(b=zo(v.type,v.key,v.props,null,p.mode,b),b.ref=Os(p,g,v),b.return=p,p=b)}return o(p);case Rn:e:{for(_=v.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){r(p,g.sibling),g=s(g,v.children||[]),g.return=p,p=g;break e}else{r(p,g);break}else t(p,g);g=g.sibling}g=sc(v,p.mode,b),g.return=p,p=g}return o(p);case ur:return _=v._init,x(p,g,_(v._payload),b)}if(Fs(v))return m(p,g,v,b);if(Cs(v))return w(p,g,v,b);ho(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(r(p,g.sibling),g=s(g,v),g.return=p,p=g):(r(p,g),g=nc(v,p.mode,b),g.return=p,p=g),o(p)):r(p,g)}return x}var os=xy(!0),wy=xy(!1),ha=Lr(null),fa=null,Vn=null,Pd=null;function Ad(){Pd=Vn=fa=null}function Rd(e){var t=ha.current;ne(ha),e._currentValue=t}function iu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Yn(e,t){fa=e,Pd=Vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ge=!0),e.firstContext=null)}function vt(e){var t=e._currentValue;if(Pd!==e)if(e={context:e,memoizedValue:t,next:null},Vn===null){if(fa===null)throw Error(T(308));Vn=e,fa.dependencies={lanes:0,firstContext:e}}else Vn=Vn.next=e;return t}var tn=null;function Od(e){tn===null?tn=[e]:tn.push(e)}function by(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Od(t)):(r.next=s.next,s.next=r),t.interleaved=r,rr(e,n)}function rr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var dr=!1;function Id(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Er(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,W&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,rr(e,r)}return s=n.interleaved,s===null?(t.next=t,Od(n)):(t.next=s.next,s.next=t),n.interleaved=t,rr(e,r)}function Mo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,xd(e,r)}}function Cf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function pa(e,t,r,n){var s=e.updateQueue;dr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,a=i;do{var f=a.lane,y=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,w=a;switch(f=t,y=r,w.tag){case 1:if(m=w.payload,typeof m=="function"){h=m.call(y,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,f=typeof m=="function"?m.call(y,h,f):m,f==null)break e;h=ce({},h,f);break e;case 2:dr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else y={eventTime:y,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);mn|=o,e.lanes=o,e.memoizedState=h}}function Tf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var Ui={},Ft=Lr(Ui),yi=Lr(Ui),vi=Lr(Ui);function rn(e){if(e===Ui)throw Error(T(174));return e}function Ld(e,t){switch(ee(vi,t),ee(yi,e),ee(Ft,Ui),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$c(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$c(t,e)}ne(Ft),ee(Ft,t)}function as(){ne(Ft),ne(yi),ne(vi)}function Sy(e){rn(vi.current);var t=rn(Ft.current),r=$c(t,e.type);t!==r&&(ee(yi,e),ee(Ft,r))}function Dd(e){yi.current===e&&(ne(Ft),ne(yi))}var oe=Lr(0);function ma(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ql=[];function Md(){for(var e=0;e<Ql.length;e++)Ql[e]._workInProgressVersionPrimary=null;Ql.length=0}var Uo=or.ReactCurrentDispatcher,Yl=or.ReactCurrentBatchConfig,pn=0,le=null,xe=null,be=null,ga=!1,Qs=!1,xi=0,Q1=0;function Te(){throw Error(T(321))}function Ud(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rt(e[r],t[r]))return!1;return!0}function $d(e,t,r,n,s,i){if(pn=i,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Uo.current=e===null||e.memoizedState===null?tj:rj,e=r(n,s),Qs){i=0;do{if(Qs=!1,xi=0,25<=i)throw Error(T(301));i+=1,be=xe=null,t.updateQueue=null,Uo.current=nj,e=r(n,s)}while(Qs)}if(Uo.current=ya,t=xe!==null&&xe.next!==null,pn=0,be=xe=le=null,ga=!1,t)throw Error(T(300));return e}function Fd(){var e=xi!==0;return xi=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?le.memoizedState=be=e:be=be.next=e,be}function xt(){if(xe===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=be===null?le.memoizedState:be.next;if(t!==null)be=t,xe=e;else{if(e===null)throw Error(T(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},be===null?le.memoizedState=be=e:be=be.next=e}return be}function wi(e,t){return typeof t=="function"?t(e):t}function Zl(e){var t=xt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=xe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((pn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=n):c=c.next=h,le.lanes|=d,mn|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=a,Rt(n,t.memoizedState)||(Ge=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,le.lanes|=i,mn|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ec(e){var t=xt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Rt(i,t.memoizedState)||(Ge=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function _y(){}function Ey(e,t){var r=le,n=xt(),s=t(),i=!Rt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ge=!0),n=n.queue,Vd(Cy.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||be!==null&&be.memoizedState.tag&1){if(r.flags|=2048,bi(9,Ny.bind(null,r,n,s,t),void 0,null),Se===null)throw Error(T(349));pn&30||ky(r,t,s)}return s}function ky(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ny(e,t,r,n){t.value=r,t.getSnapshot=n,Ty(t)&&Py(e)}function Cy(e,t,r){return r(function(){Ty(t)&&Py(e)})}function Ty(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rt(e,r)}catch{return!0}}function Py(e){var t=rr(e,1);t!==null&&At(t,e,1,-1)}function Pf(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},t.queue=e,e=e.dispatch=ej.bind(null,le,e),[t.memoizedState,e]}function bi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ay(){return xt().memoizedState}function $o(e,t,r,n){var s=Dt();le.flags|=e,s.memoizedState=bi(1|t,r,void 0,n===void 0?null:n)}function Ya(e,t,r,n){var s=xt();n=n===void 0?null:n;var i=void 0;if(xe!==null){var o=xe.memoizedState;if(i=o.destroy,n!==null&&Ud(n,o.deps)){s.memoizedState=bi(t,r,i,n);return}}le.flags|=e,s.memoizedState=bi(1|t,r,i,n)}function Af(e,t){return $o(8390656,8,e,t)}function Vd(e,t){return Ya(2048,8,e,t)}function Ry(e,t){return Ya(4,2,e,t)}function Oy(e,t){return Ya(4,4,e,t)}function Iy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ly(e,t,r){return r=r!=null?r.concat([e]):null,Ya(4,4,Iy.bind(null,t,e),r)}function Bd(){}function Dy(e,t){var r=xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ud(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function My(e,t){var r=xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ud(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Uy(e,t,r){return pn&21?(Rt(r,t)||(r=zg(),le.lanes|=r,mn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=r)}function Y1(e,t){var r=X;X=r!==0&&4>r?r:4,e(!0);var n=Yl.transition;Yl.transition={};try{e(!1),t()}finally{X=r,Yl.transition=n}}function $y(){return xt().memoizedState}function Z1(e,t,r){var n=Nr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Fy(e))Vy(t,r);else if(r=by(e,t,r,n),r!==null){var s=Be();At(r,e,n,s),By(r,t,n)}}function ej(e,t,r){var n=Nr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fy(e))Vy(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Rt(a,o)){var c=t.interleaved;c===null?(s.next=s,Od(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=by(e,t,s,n),r!==null&&(s=Be(),At(r,e,n,s),By(r,t,n))}}function Fy(e){var t=e.alternate;return e===le||t!==null&&t===le}function Vy(e,t){Qs=ga=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function By(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,xd(e,r)}}var ya={readContext:vt,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},tj={readContext:vt,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:Af,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,$o(4194308,4,Iy.bind(null,t,e),r)},useLayoutEffect:function(e,t){return $o(4194308,4,e,t)},useInsertionEffect:function(e,t){return $o(4,2,e,t)},useMemo:function(e,t){var r=Dt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Dt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Z1.bind(null,le,e),[n.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:Pf,useDebugValue:Bd,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=Pf(!1),t=e[0];return e=Y1.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=le,s=Dt();if(ie){if(r===void 0)throw Error(T(407));r=r()}else{if(r=t(),Se===null)throw Error(T(349));pn&30||ky(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Af(Cy.bind(null,n,i,e),[e]),n.flags|=2048,bi(9,Ny.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Dt(),t=Se.identifierPrefix;if(ie){var r=Gt,n=Kt;r=(n&~(1<<32-Pt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=xi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Q1++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rj={readContext:vt,useCallback:Dy,useContext:vt,useEffect:Vd,useImperativeHandle:Ly,useInsertionEffect:Ry,useLayoutEffect:Oy,useMemo:My,useReducer:Zl,useRef:Ay,useState:function(){return Zl(wi)},useDebugValue:Bd,useDeferredValue:function(e){var t=xt();return Uy(t,xe.memoizedState,e)},useTransition:function(){var e=Zl(wi)[0],t=xt().memoizedState;return[e,t]},useMutableSource:_y,useSyncExternalStore:Ey,useId:$y,unstable_isNewReconciler:!1},nj={readContext:vt,useCallback:Dy,useContext:vt,useEffect:Vd,useImperativeHandle:Ly,useInsertionEffect:Ry,useLayoutEffect:Oy,useMemo:My,useReducer:ec,useRef:Ay,useState:function(){return ec(wi)},useDebugValue:Bd,useDeferredValue:function(e){var t=xt();return xe===null?t.memoizedState=e:Uy(t,xe.memoizedState,e)},useTransition:function(){var e=ec(wi)[0],t=xt().memoizedState;return[e,t]},useMutableSource:_y,useSyncExternalStore:Ey,useId:$y,unstable_isNewReconciler:!1};function Et(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ou(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ce({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Za={isMounted:function(e){return(e=e._reactInternals)?xn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Be(),s=Nr(e),i=Qt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Er(e,i,s),t!==null&&(At(t,e,s,n),Mo(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Be(),s=Nr(e),i=Qt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Er(e,i,s),t!==null&&(At(t,e,s,n),Mo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Be(),n=Nr(e),s=Qt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Er(e,s,n),t!==null&&(At(t,e,n,r),Mo(t,e,n))}};function Rf(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!fi(r,n)||!fi(s,i):!0}function zy(e,t,r){var n=!1,s=Ar,i=t.contextType;return typeof i=="object"&&i!==null?i=vt(i):(s=Xe(t)?hn:De.current,n=t.contextTypes,i=(n=n!=null)?ss(e,s):Ar),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Za,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Of(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Za.enqueueReplaceState(t,t.state,null)}function au(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Id(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=vt(i):(i=Xe(t)?hn:De.current,s.context=ss(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ou(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Za.enqueueReplaceState(s,s.state,null),pa(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ls(e,t){try{var r="",n=t;do r+=Ab(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function tc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var sj=typeof WeakMap=="function"?WeakMap:Map;function Hy(e,t,r){r=Qt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){xa||(xa=!0,vu=n),lu(e,t)},r}function qy(e,t,r){r=Qt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){lu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){lu(e,t),typeof n!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function If(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new sj;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=vj.bind(null,e,t,r),t.then(e,e))}function Lf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Df(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Qt(-1,1),t.tag=2,Er(r,t,1))),r.lanes|=1),e)}var ij=or.ReactCurrentOwner,Ge=!1;function Ve(e,t,r,n){t.child=e===null?wy(t,null,r,n):os(t,e.child,r,n)}function Mf(e,t,r,n,s){r=r.render;var i=t.ref;return Yn(t,s),n=$d(e,t,r,n,i,s),r=Fd(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,nr(e,t,s)):(ie&&r&&Nd(t),t.flags|=1,Ve(e,t,n,s),t.child)}function Uf(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Xd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Wy(e,t,i,n,s)):(e=zo(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:fi,r(o,n)&&e.ref===t.ref)return nr(e,t,s)}return t.flags|=1,e=Cr(i,n),e.ref=t.ref,e.return=t,t.child=e}function Wy(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(fi(i,n)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ge=!0);else return t.lanes=e.lanes,nr(e,t,s)}return cu(e,t,r,n,s)}function Ky(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(zn,nt),nt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(zn,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ee(zn,nt),nt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ee(zn,nt),nt|=n;return Ve(e,t,s,r),t.child}function Gy(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function cu(e,t,r,n,s){var i=Xe(r)?hn:De.current;return i=ss(t,i),Yn(t,s),r=$d(e,t,r,n,i,s),n=Fd(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,nr(e,t,s)):(ie&&n&&Nd(t),t.flags|=1,Ve(e,t,r,s),t.child)}function $f(e,t,r,n,s){if(Xe(r)){var i=!0;ca(t)}else i=!1;if(Yn(t,s),t.stateNode===null)Fo(e,t),zy(t,r,n),au(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=vt(u):(u=Xe(r)?hn:De.current,u=ss(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==u)&&Of(t,o,n,u),dr=!1;var f=t.memoizedState;o.state=f,pa(t,n,o,s),c=t.memoizedState,a!==n||f!==c||Je.current||dr?(typeof d=="function"&&(ou(t,r,d,n),c=t.memoizedState),(a=dr||Rf(t,r,a,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,jy(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Et(t.type,a),o.props=u,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=vt(c):(c=Xe(r)?hn:De.current,c=ss(t,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==c)&&Of(t,o,n,c),dr=!1,f=t.memoizedState,o.state=f,pa(t,n,o,s);var m=t.memoizedState;a!==h||f!==m||Je.current||dr?(typeof y=="function"&&(ou(t,r,y,n),m=t.memoizedState),(u=dr||Rf(t,r,u,n,f,m,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return uu(e,t,r,n,i,s)}function uu(e,t,r,n,s,i){Gy(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&_f(t,r,!1),nr(e,t,i);n=t.stateNode,ij.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=os(t,e.child,null,i),t.child=os(t,null,a,i)):Ve(e,t,a,i),t.memoizedState=n.state,s&&_f(t,r,!0),t.child}function Jy(e){var t=e.stateNode;t.pendingContext?Sf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sf(e,t.context,!1),Ld(e,t.containerInfo)}function Ff(e,t,r,n,s){return is(),Td(s),t.flags|=256,Ve(e,t,r,n),t.child}var du={dehydrated:null,treeContext:null,retryLane:0};function hu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xy(e,t,r){var n=t.pendingProps,s=oe.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ee(oe,s&1),e===null)return su(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=rl(o,n,0,null),e=ln(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=hu(r),t.memoizedState=du,e):zd(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return oj(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Cr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Cr(a,i):(i=ln(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?hu(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=du,n}return i=e.child,e=i.sibling,n=Cr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function zd(e,t){return t=rl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fo(e,t,r,n){return n!==null&&Td(n),os(t,e.child,null,r),e=zd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oj(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=tc(Error(T(422))),fo(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=rl({mode:"visible",children:n.children},s,0,null),i=ln(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&os(t,e.child,null,o),t.child.memoizedState=hu(o),t.memoizedState=du,i);if(!(t.mode&1))return fo(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(T(419)),n=tc(i,n,void 0),fo(e,t,o,n)}if(a=(o&e.childLanes)!==0,Ge||a){if(n=Se,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,rr(e,s),At(n,e,s,-1))}return Jd(),n=tc(Error(T(421))),fo(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=xj.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,it=_r(s.nextSibling),ot=t,ie=!0,Tt=null,e!==null&&(ft[pt++]=Kt,ft[pt++]=Gt,ft[pt++]=fn,Kt=e.id,Gt=e.overflow,fn=t),t=zd(t,n.children),t.flags|=4096,t)}function Vf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),iu(e.return,t,r)}function rc(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Qy(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ve(e,t,n.children,r),n=oe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vf(e,r,t);else if(e.tag===19)Vf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ee(oe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ma(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),rc(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ma(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}rc(t,!0,r,null,i);break;case"together":rc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),mn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,r=Cr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Cr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function aj(e,t,r){switch(t.tag){case 3:Jy(t),is();break;case 5:Sy(t);break;case 1:Xe(t.type)&&ca(t);break;case 4:Ld(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ee(ha,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ee(oe,oe.current&1),t.flags|=128,null):r&t.child.childLanes?Xy(e,t,r):(ee(oe,oe.current&1),e=nr(e,t,r),e!==null?e.sibling:null);ee(oe,oe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Qy(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ee(oe,oe.current),n)break;return null;case 22:case 23:return t.lanes=0,Ky(e,t,r)}return nr(e,t,r)}var Yy,fu,Zy,e0;Yy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fu=function(){};Zy=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,rn(Ft.current);var i=null;switch(r){case"input":s=Lc(e,s),n=Lc(e,n),i=[];break;case"select":s=ce({},s,{value:void 0}),n=ce({},n,{value:void 0}),i=[];break;case"textarea":s=Uc(e,s),n=Uc(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=aa)}Fc(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(oi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&re("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};e0=function(e,t,r,n){r!==n&&(t.flags|=4)};function Is(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function lj(e,t,r){var n=t.pendingProps;switch(Cd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Xe(t.type)&&la(),Pe(t),null;case 3:return n=t.stateNode,as(),ne(Je),ne(De),Md(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(uo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tt!==null&&(bu(Tt),Tt=null))),fu(e,t),Pe(t),null;case 5:Dd(t);var s=rn(vi.current);if(r=t.type,e!==null&&t.stateNode!=null)Zy(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(T(166));return Pe(t),null}if(e=rn(Ft.current),uo(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ut]=t,n[gi]=i,e=(t.mode&1)!==0,r){case"dialog":re("cancel",n),re("close",n);break;case"iframe":case"object":case"embed":re("load",n);break;case"video":case"audio":for(s=0;s<Bs.length;s++)re(Bs[s],n);break;case"source":re("error",n);break;case"img":case"image":case"link":re("error",n),re("load",n);break;case"details":re("toggle",n);break;case"input":Jh(n,i),re("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},re("invalid",n);break;case"textarea":Qh(n,i),re("invalid",n)}Fc(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&co(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&co(n.textContent,a,e),s=["children",""+a]):oi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&re("scroll",n)}switch(r){case"input":to(n),Xh(n,i,!0);break;case"textarea":to(n),Yh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=aa)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cg(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ut]=t,e[gi]=n,Yy(e,t,!1,!1),t.stateNode=e;e:{switch(o=Vc(r,n),r){case"dialog":re("cancel",e),re("close",e),s=n;break;case"iframe":case"object":case"embed":re("load",e),s=n;break;case"video":case"audio":for(s=0;s<Bs.length;s++)re(Bs[s],e);s=n;break;case"source":re("error",e),s=n;break;case"img":case"image":case"link":re("error",e),re("load",e),s=n;break;case"details":re("toggle",e),s=n;break;case"input":Jh(e,n),s=Lc(e,n),re("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ce({},n,{value:void 0}),re("invalid",e);break;case"textarea":Qh(e,n),s=Uc(e,n),re("invalid",e);break;default:s=n}Fc(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Ag(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Tg(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ai(e,c):typeof c=="number"&&ai(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(oi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&re("scroll",e):c!=null&&fd(e,i,c,o))}switch(r){case"input":to(e),Xh(e,n,!1);break;case"textarea":to(e),Yh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Pr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Gn(e,!!n.multiple,i,!1):n.defaultValue!=null&&Gn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=aa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pe(t),null;case 6:if(e&&t.stateNode!=null)e0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(T(166));if(r=rn(vi.current),rn(Ft.current),uo(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ut]=t,(i=n.nodeValue!==r)&&(e=ot,e!==null))switch(e.tag){case 3:co(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&co(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ut]=t,t.stateNode=n}return Pe(t),null;case 13:if(ne(oe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&it!==null&&t.mode&1&&!(t.flags&128))vy(),is(),t.flags|=98560,i=!1;else if(i=uo(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[Ut]=t}else is(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pe(t),i=!1}else Tt!==null&&(bu(Tt),Tt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||oe.current&1?we===0&&(we=3):Jd())),t.updateQueue!==null&&(t.flags|=4),Pe(t),null);case 4:return as(),fu(e,t),e===null&&pi(t.stateNode.containerInfo),Pe(t),null;case 10:return Rd(t.type._context),Pe(t),null;case 17:return Xe(t.type)&&la(),Pe(t),null;case 19:if(ne(oe),i=t.memoizedState,i===null)return Pe(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Is(i,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ma(e),o!==null){for(t.flags|=128,Is(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ee(oe,oe.current&1|2),t.child}e=e.sibling}i.tail!==null&&he()>cs&&(t.flags|=128,n=!0,Is(i,!1),t.lanes=4194304)}else{if(!n)if(e=ma(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Is(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ie)return Pe(t),null}else 2*he()-i.renderingStartTime>cs&&r!==1073741824&&(t.flags|=128,n=!0,Is(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=he(),t.sibling=null,r=oe.current,ee(oe,n?r&1|2:r&1),t):(Pe(t),null);case 22:case 23:return Gd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?nt&1073741824&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function cj(e,t){switch(Cd(t),t.tag){case 1:return Xe(t.type)&&la(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return as(),ne(Je),ne(De),Md(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Dd(t),null;case 13:if(ne(oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));is()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(oe),null;case 4:return as(),null;case 10:return Rd(t.type._context),null;case 22:case 23:return Gd(),null;case 24:return null;default:return null}}var po=!1,Oe=!1,uj=typeof WeakSet=="function"?WeakSet:Set,R=null;function Bn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){de(e,t,n)}else r.current=null}function pu(e,t,r){try{r()}catch(n){de(e,t,n)}}var Bf=!1;function dj(e,t){if(Qc=sa,e=iy(),kd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===e)break t;if(f===r&&++u===s&&(a=o),f===i&&++d===n&&(c=o),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yc={focusedElem:e,selectionRange:r},sa=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,x=m.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:Et(t.type,w),x);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(b){de(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return m=Bf,Bf=!1,m}function Ys(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&pu(t,r,i)}s=s.next}while(s!==n)}}function el(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function t0(e){var t=e.alternate;t!==null&&(e.alternate=null,t0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ut],delete t[gi],delete t[tu],delete t[K1],delete t[G1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function r0(e){return e.tag===5||e.tag===3||e.tag===4}function zf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||r0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=aa));else if(n!==4&&(e=e.child,e!==null))for(gu(e,t,r),e=e.sibling;e!==null;)gu(e,t,r),e=e.sibling}function yu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yu(e,t,r),e=e.sibling;e!==null;)yu(e,t,r),e=e.sibling}var ke=null,Nt=!1;function lr(e,t,r){for(r=r.child;r!==null;)n0(e,t,r),r=r.sibling}function n0(e,t,r){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Wa,r)}catch{}switch(r.tag){case 5:Oe||Bn(r,t);case 6:var n=ke,s=Nt;ke=null,lr(e,t,r),ke=n,Nt=s,ke!==null&&(Nt?(e=ke,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ke.removeChild(r.stateNode));break;case 18:ke!==null&&(Nt?(e=ke,r=r.stateNode,e.nodeType===8?Jl(e.parentNode,r):e.nodeType===1&&Jl(e,r),di(e)):Jl(ke,r.stateNode));break;case 4:n=ke,s=Nt,ke=r.stateNode.containerInfo,Nt=!0,lr(e,t,r),ke=n,Nt=s;break;case 0:case 11:case 14:case 15:if(!Oe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&pu(r,t,o),s=s.next}while(s!==n)}lr(e,t,r);break;case 1:if(!Oe&&(Bn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){de(r,t,a)}lr(e,t,r);break;case 21:lr(e,t,r);break;case 22:r.mode&1?(Oe=(n=Oe)||r.memoizedState!==null,lr(e,t,r),Oe=n):lr(e,t,r);break;default:lr(e,t,r)}}function Hf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new uj),t.forEach(function(n){var s=wj.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function jt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ke=a.stateNode,Nt=!1;break e;case 3:ke=a.stateNode.containerInfo,Nt=!0;break e;case 4:ke=a.stateNode.containerInfo,Nt=!0;break e}a=a.return}if(ke===null)throw Error(T(160));n0(i,o,s),ke=null,Nt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){de(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)s0(t,e),t=t.sibling}function s0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),It(e),n&4){try{Ys(3,e,e.return),el(3,e)}catch(w){de(e,e.return,w)}try{Ys(5,e,e.return)}catch(w){de(e,e.return,w)}}break;case 1:jt(t,e),It(e),n&512&&r!==null&&Bn(r,r.return);break;case 5:if(jt(t,e),It(e),n&512&&r!==null&&Bn(r,r.return),e.flags&32){var s=e.stateNode;try{ai(s,"")}catch(w){de(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&kg(s,i),Vc(a,o);var u=Vc(a,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Ag(s,h):d==="dangerouslySetInnerHTML"?Tg(s,h):d==="children"?ai(s,h):fd(s,d,h,u)}switch(a){case"input":Dc(s,i);break;case"textarea":Ng(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Gn(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?Gn(s,!!i.multiple,i.defaultValue,!0):Gn(s,!!i.multiple,i.multiple?[]:"",!1))}s[gi]=i}catch(w){de(e,e.return,w)}}break;case 6:if(jt(t,e),It(e),n&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){de(e,e.return,w)}}break;case 3:if(jt(t,e),It(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{di(t.containerInfo)}catch(w){de(e,e.return,w)}break;case 4:jt(t,e),It(e);break;case 13:jt(t,e),It(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Wd=he())),n&4&&Hf(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Oe=(u=Oe)||d,jt(t,e),Oe=u):jt(t,e),It(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(R=e,d=e.child;d!==null;){for(h=R=d;R!==null;){switch(f=R,y=f.child,f.tag){case 0:case 11:case 14:case 15:Ys(4,f,f.return);break;case 1:Bn(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(w){de(n,r,w)}}break;case 5:Bn(f,f.return);break;case 22:if(f.memoizedState!==null){Wf(h);continue}}y!==null?(y.return=f,R=y):Wf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Pg("display",o))}catch(w){de(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){de(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:jt(t,e),It(e),n&4&&Hf(e);break;case 21:break;default:jt(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(r0(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ai(s,""),n.flags&=-33);var i=zf(e);yu(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=zf(e);gu(e,a,o);break;default:throw Error(T(161))}}catch(c){de(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hj(e,t,r){R=e,i0(e)}function i0(e,t,r){for(var n=(e.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||po;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Oe;a=po;var u=Oe;if(po=o,(Oe=c)&&!u)for(R=s;R!==null;)o=R,c=o.child,o.tag===22&&o.memoizedState!==null?Kf(s):c!==null?(c.return=o,R=c):Kf(s);for(;i!==null;)R=i,i0(i),i=i.sibling;R=s,po=a,Oe=u}qf(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):qf(e)}}function qf(e){for(;R!==null;){var t=R;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||el(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Oe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Et(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Tf(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Tf(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&di(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Oe||t.flags&512&&mu(t)}catch(f){de(t,t.return,f)}}if(t===e){R=null;break}if(r=t.sibling,r!==null){r.return=t.return,R=r;break}R=t.return}}function Wf(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var r=t.sibling;if(r!==null){r.return=t.return,R=r;break}R=t.return}}function Kf(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{el(4,t)}catch(c){de(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){de(t,s,c)}}var i=t.return;try{mu(t)}catch(c){de(t,i,c)}break;case 5:var o=t.return;try{mu(t)}catch(c){de(t,o,c)}}}catch(c){de(t,t.return,c)}if(t===e){R=null;break}var a=t.sibling;if(a!==null){a.return=t.return,R=a;break}R=t.return}}var fj=Math.ceil,va=or.ReactCurrentDispatcher,Hd=or.ReactCurrentOwner,yt=or.ReactCurrentBatchConfig,W=0,Se=null,ye=null,Ne=0,nt=0,zn=Lr(0),we=0,ji=null,mn=0,tl=0,qd=0,Zs=null,We=null,Wd=0,cs=1/0,qt=null,xa=!1,vu=null,kr=null,mo=!1,vr=null,wa=0,ei=0,xu=null,Vo=-1,Bo=0;function Be(){return W&6?he():Vo!==-1?Vo:Vo=he()}function Nr(e){return e.mode&1?W&2&&Ne!==0?Ne&-Ne:X1.transition!==null?(Bo===0&&(Bo=zg()),Bo):(e=X,e!==0||(e=window.event,e=e===void 0?16:Xg(e.type)),e):1}function At(e,t,r,n){if(50<ei)throw ei=0,xu=null,Error(T(185));Li(e,r,n),(!(W&2)||e!==Se)&&(e===Se&&(!(W&2)&&(tl|=r),we===4&&pr(e,Ne)),Qe(e,n),r===1&&W===0&&!(t.mode&1)&&(cs=he()+500,Qa&&Dr()))}function Qe(e,t){var r=e.callbackNode;Xb(e,t);var n=na(e,e===Se?Ne:0);if(n===0)r!==null&&tf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&tf(r),t===1)e.tag===0?J1(Gf.bind(null,e)):my(Gf.bind(null,e)),q1(function(){!(W&6)&&Dr()}),r=null;else{switch(Hg(n)){case 1:r=vd;break;case 4:r=Vg;break;case 16:r=ra;break;case 536870912:r=Bg;break;default:r=ra}r=f0(r,o0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function o0(e,t){if(Vo=-1,Bo=0,W&6)throw Error(T(327));var r=e.callbackNode;if(Zn()&&e.callbackNode!==r)return null;var n=na(e,e===Se?Ne:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ba(e,n);else{t=n;var s=W;W|=2;var i=l0();(Se!==e||Ne!==t)&&(qt=null,cs=he()+500,an(e,t));do try{gj();break}catch(a){a0(e,a)}while(!0);Ad(),va.current=i,W=s,ye!==null?t=0:(Se=null,Ne=0,t=we)}if(t!==0){if(t===2&&(s=Wc(e),s!==0&&(n=s,t=wu(e,s))),t===1)throw r=ji,an(e,0),pr(e,n),Qe(e,he()),r;if(t===6)pr(e,n);else{if(s=e.current.alternate,!(n&30)&&!pj(s)&&(t=ba(e,n),t===2&&(i=Wc(e),i!==0&&(n=i,t=wu(e,i))),t===1))throw r=ji,an(e,0),pr(e,n),Qe(e,he()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(T(345));case 2:qr(e,We,qt);break;case 3:if(pr(e,n),(n&130023424)===n&&(t=Wd+500-he(),10<t)){if(na(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Be(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=eu(qr.bind(null,e,We,qt),t);break}qr(e,We,qt);break;case 4:if(pr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Pt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=he()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fj(n/1960))-n,10<n){e.timeoutHandle=eu(qr.bind(null,e,We,qt),n);break}qr(e,We,qt);break;case 5:qr(e,We,qt);break;default:throw Error(T(329))}}}return Qe(e,he()),e.callbackNode===r?o0.bind(null,e):null}function wu(e,t){var r=Zs;return e.current.memoizedState.isDehydrated&&(an(e,t).flags|=256),e=ba(e,t),e!==2&&(t=We,We=r,t!==null&&bu(t)),e}function bu(e){We===null?We=e:We.push.apply(We,e)}function pj(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Rt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pr(e,t){for(t&=~qd,t&=~tl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pt(t),n=1<<r;e[r]=-1,t&=~n}}function Gf(e){if(W&6)throw Error(T(327));Zn();var t=na(e,0);if(!(t&1))return Qe(e,he()),null;var r=ba(e,t);if(e.tag!==0&&r===2){var n=Wc(e);n!==0&&(t=n,r=wu(e,n))}if(r===1)throw r=ji,an(e,0),pr(e,t),Qe(e,he()),r;if(r===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qr(e,We,qt),Qe(e,he()),null}function Kd(e,t){var r=W;W|=1;try{return e(t)}finally{W=r,W===0&&(cs=he()+500,Qa&&Dr())}}function gn(e){vr!==null&&vr.tag===0&&!(W&6)&&Zn();var t=W;W|=1;var r=yt.transition,n=X;try{if(yt.transition=null,X=1,e)return e()}finally{X=n,yt.transition=r,W=t,!(W&6)&&Dr()}}function Gd(){nt=zn.current,ne(zn)}function an(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,H1(r)),ye!==null)for(r=ye.return;r!==null;){var n=r;switch(Cd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&la();break;case 3:as(),ne(Je),ne(De),Md();break;case 5:Dd(n);break;case 4:as();break;case 13:ne(oe);break;case 19:ne(oe);break;case 10:Rd(n.type._context);break;case 22:case 23:Gd()}r=r.return}if(Se=e,ye=e=Cr(e.current,null),Ne=nt=t,we=0,ji=null,qd=tl=mn=0,We=Zs=null,tn!==null){for(t=0;t<tn.length;t++)if(r=tn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}tn=null}return e}function a0(e,t){do{var r=ye;try{if(Ad(),Uo.current=ya,ga){for(var n=le.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ga=!1}if(pn=0,be=xe=le=null,Qs=!1,xi=0,Hd.current=null,r===null||r.return===null){we=1,ji=t,ye=null;break}e:{var i=e,o=r.return,a=r,c=t;if(t=Ne,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Lf(o);if(y!==null){y.flags&=-257,Df(y,o,a,i,t),y.mode&1&&If(i,u,t),t=y,c=u;var m=t.updateQueue;if(m===null){var w=new Set;w.add(c),t.updateQueue=w}else m.add(c);break e}else{if(!(t&1)){If(i,u,t),Jd();break e}c=Error(T(426))}}else if(ie&&a.mode&1){var x=Lf(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Df(x,o,a,i,t),Td(ls(c,a));break e}}i=c=ls(c,a),we!==4&&(we=2),Zs===null?Zs=[i]:Zs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Hy(i,c,t);Cf(i,p);break e;case 1:a=c;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(kr===null||!kr.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=qy(i,a,t);Cf(i,b);break e}}i=i.return}while(i!==null)}u0(r)}catch(E){t=E,ye===r&&r!==null&&(ye=r=r.return);continue}break}while(!0)}function l0(){var e=va.current;return va.current=ya,e===null?ya:e}function Jd(){(we===0||we===3||we===2)&&(we=4),Se===null||!(mn&268435455)&&!(tl&268435455)||pr(Se,Ne)}function ba(e,t){var r=W;W|=2;var n=l0();(Se!==e||Ne!==t)&&(qt=null,an(e,t));do try{mj();break}catch(s){a0(e,s)}while(!0);if(Ad(),W=r,va.current=n,ye!==null)throw Error(T(261));return Se=null,Ne=0,we}function mj(){for(;ye!==null;)c0(ye)}function gj(){for(;ye!==null&&!Vb();)c0(ye)}function c0(e){var t=h0(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?u0(e):ye=t,Hd.current=null}function u0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=cj(r,t),r!==null){r.flags&=32767,ye=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,ye=null;return}}else if(r=lj(r,t,nt),r!==null){ye=r;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);we===0&&(we=5)}function qr(e,t,r){var n=X,s=yt.transition;try{yt.transition=null,X=1,yj(e,t,r,n)}finally{yt.transition=s,X=n}return null}function yj(e,t,r,n){do Zn();while(vr!==null);if(W&6)throw Error(T(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Qb(e,i),e===Se&&(ye=Se=null,Ne=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||mo||(mo=!0,f0(ra,function(){return Zn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=yt.transition,yt.transition=null;var o=X;X=1;var a=W;W|=4,Hd.current=null,dj(e,r),s0(r,e),M1(Yc),sa=!!Qc,Yc=Qc=null,e.current=r,hj(r),Bb(),W=a,X=o,yt.transition=i}else e.current=r;if(mo&&(mo=!1,vr=e,wa=s),i=e.pendingLanes,i===0&&(kr=null),qb(r.stateNode),Qe(e,he()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(xa)throw xa=!1,e=vu,vu=null,e;return wa&1&&e.tag!==0&&Zn(),i=e.pendingLanes,i&1?e===xu?ei++:(ei=0,xu=e):ei=0,Dr(),null}function Zn(){if(vr!==null){var e=Hg(wa),t=yt.transition,r=X;try{if(yt.transition=null,X=16>e?16:e,vr===null)var n=!1;else{if(e=vr,vr=null,wa=0,W&6)throw Error(T(331));var s=W;for(W|=4,R=e.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(R=u;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:Ys(8,d,i)}var h=d.child;if(h!==null)h.return=d,R=h;else for(;R!==null;){d=R;var f=d.sibling,y=d.return;if(t0(d),d===u){R=null;break}if(f!==null){f.return=y,R=f;break}R=y}}}var m=i.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ys(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,R=p;break e}R=i.return}}var g=e.current;for(R=g;R!==null;){o=R;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,R=v;else e:for(o=g;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:el(9,a)}}catch(E){de(a,a.return,E)}if(a===o){R=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,R=b;break e}R=a.return}}if(W=s,Dr(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Wa,e)}catch{}n=!0}return n}finally{X=r,yt.transition=t}}return!1}function Jf(e,t,r){t=ls(r,t),t=Hy(e,t,1),e=Er(e,t,1),t=Be(),e!==null&&(Li(e,1,t),Qe(e,t))}function de(e,t,r){if(e.tag===3)Jf(e,e,r);else for(;t!==null;){if(t.tag===3){Jf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(kr===null||!kr.has(n))){e=ls(r,e),e=qy(t,e,1),t=Er(t,e,1),e=Be(),t!==null&&(Li(t,1,e),Qe(t,e));break}}t=t.return}}function vj(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Be(),e.pingedLanes|=e.suspendedLanes&r,Se===e&&(Ne&r)===r&&(we===4||we===3&&(Ne&130023424)===Ne&&500>he()-Wd?an(e,0):qd|=r),Qe(e,t)}function d0(e,t){t===0&&(e.mode&1?(t=so,so<<=1,!(so&130023424)&&(so=4194304)):t=1);var r=Be();e=rr(e,t),e!==null&&(Li(e,t,r),Qe(e,r))}function xj(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),d0(e,r)}function wj(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(t),d0(e,r)}var h0;h0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Ge=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ge=!1,aj(e,t,r);Ge=!!(e.flags&131072)}else Ge=!1,ie&&t.flags&1048576&&gy(t,da,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fo(e,t),e=t.pendingProps;var s=ss(t,De.current);Yn(t,r),s=$d(null,t,n,e,s,r);var i=Fd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(n)?(i=!0,ca(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Id(t),s.updater=Za,t.stateNode=s,s._reactInternals=t,au(t,n,e,r),t=uu(null,t,n,!0,i,r)):(t.tag=0,ie&&i&&Nd(t),Ve(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Fo(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=jj(n),e=Et(n,e),s){case 0:t=cu(null,t,n,e,r);break e;case 1:t=$f(null,t,n,e,r);break e;case 11:t=Mf(null,t,n,e,r);break e;case 14:t=Uf(null,t,n,Et(n.type,e),r);break e}throw Error(T(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Et(n,s),cu(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Et(n,s),$f(e,t,n,s,r);case 3:e:{if(Jy(t),e===null)throw Error(T(387));n=t.pendingProps,i=t.memoizedState,s=i.element,jy(e,t),pa(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ls(Error(T(423)),t),t=Ff(e,t,n,r,s);break e}else if(n!==s){s=ls(Error(T(424)),t),t=Ff(e,t,n,r,s);break e}else for(it=_r(t.stateNode.containerInfo.firstChild),ot=t,ie=!0,Tt=null,r=wy(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(is(),n===s){t=nr(e,t,r);break e}Ve(e,t,n,r)}t=t.child}return t;case 5:return Sy(t),e===null&&su(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Zc(n,s)?o=null:i!==null&&Zc(n,i)&&(t.flags|=32),Gy(e,t),Ve(e,t,o,r),t.child;case 6:return e===null&&su(t),null;case 13:return Xy(e,t,r);case 4:return Ld(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=os(t,null,n,r):Ve(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Et(n,s),Mf(e,t,n,s,r);case 7:return Ve(e,t,t.pendingProps,r),t.child;case 8:return Ve(e,t,t.pendingProps.children,r),t.child;case 12:return Ve(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ee(ha,n._currentValue),n._currentValue=o,i!==null)if(Rt(i.value,o)){if(i.children===s.children&&!Je.current){t=nr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Qt(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),iu(i.return,r,t),a.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),iu(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ve(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Yn(t,r),s=vt(s),n=n(s),t.flags|=1,Ve(e,t,n,r),t.child;case 14:return n=t.type,s=Et(n,t.pendingProps),s=Et(n.type,s),Uf(e,t,n,s,r);case 15:return Wy(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Et(n,s),Fo(e,t),t.tag=1,Xe(n)?(e=!0,ca(t)):e=!1,Yn(t,r),zy(t,n,s),au(t,n,s,r),uu(null,t,n,!0,e,r);case 19:return Qy(e,t,r);case 22:return Ky(e,t,r)}throw Error(T(156,t.tag))};function f0(e,t){return Fg(e,t)}function bj(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,r,n){return new bj(e,t,r,n)}function Xd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jj(e){if(typeof e=="function")return Xd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===md)return 11;if(e===gd)return 14}return 2}function Cr(e,t){var r=e.alternate;return r===null?(r=gt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function zo(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Xd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case On:return ln(r.children,s,i,t);case pd:o=8,s|=8;break;case Ac:return e=gt(12,r,t,s|2),e.elementType=Ac,e.lanes=i,e;case Rc:return e=gt(13,r,t,s),e.elementType=Rc,e.lanes=i,e;case Oc:return e=gt(19,r,t,s),e.elementType=Oc,e.lanes=i,e;case Sg:return rl(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bg:o=10;break e;case jg:o=9;break e;case md:o=11;break e;case gd:o=14;break e;case ur:o=16,n=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=gt(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ln(e,t,r,n){return e=gt(7,e,n,t),e.lanes=r,e}function rl(e,t,r,n){return e=gt(22,e,n,t),e.elementType=Sg,e.lanes=r,e.stateNode={isHidden:!1},e}function nc(e,t,r){return e=gt(6,e,null,t),e.lanes=r,e}function sc(e,t,r){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sj(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ul(0),this.expirationTimes=Ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ul(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Qd(e,t,r,n,s,i,o,a,c){return e=new Sj(e,t,r,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=gt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Id(i),e}function _j(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function p0(e){if(!e)return Ar;e=e._reactInternals;e:{if(xn(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var r=e.type;if(Xe(r))return py(e,r,t)}return t}function m0(e,t,r,n,s,i,o,a,c){return e=Qd(r,n,!0,e,s,i,o,a,c),e.context=p0(null),r=e.current,n=Be(),s=Nr(r),i=Qt(n,s),i.callback=t??null,Er(r,i,s),e.current.lanes=s,Li(e,s,n),Qe(e,n),e}function nl(e,t,r,n){var s=t.current,i=Be(),o=Nr(s);return r=p0(r),t.context===null?t.context=r:t.pendingContext=r,t=Qt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Er(s,t,o),e!==null&&(At(e,s,o,i),Mo(e,s,o)),o}function ja(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Yd(e,t){Xf(e,t),(e=e.alternate)&&Xf(e,t)}function Ej(){return null}var g0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zd(e){this._internalRoot=e}sl.prototype.render=Zd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));nl(e,t,null,null)};sl.prototype.unmount=Zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gn(function(){nl(null,e,null,null)}),t[tr]=null}};function sl(e){this._internalRoot=e}sl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fr.length&&t!==0&&t<fr[r].priority;r++);fr.splice(r,0,e),r===0&&Jg(e)}};function eh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function il(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qf(){}function kj(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=ja(o);i.call(u)}}var o=m0(t,n,e,0,null,!1,!1,"",Qf);return e._reactRootContainer=o,e[tr]=o.current,pi(e.nodeType===8?e.parentNode:e),gn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=ja(c);a.call(u)}}var c=Qd(e,0,!1,null,null,!1,!1,"",Qf);return e._reactRootContainer=c,e[tr]=c.current,pi(e.nodeType===8?e.parentNode:e),gn(function(){nl(t,c,r,n)}),c}function ol(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=ja(o);a.call(c)}}nl(t,o,e,s)}else o=kj(r,t,e,s,n);return ja(o)}qg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Vs(t.pendingLanes);r!==0&&(xd(t,r|1),Qe(t,he()),!(W&6)&&(cs=he()+500,Dr()))}break;case 13:gn(function(){var n=rr(e,1);if(n!==null){var s=Be();At(n,e,1,s)}}),Yd(e,1)}};wd=function(e){if(e.tag===13){var t=rr(e,134217728);if(t!==null){var r=Be();At(t,e,134217728,r)}Yd(e,134217728)}};Wg=function(e){if(e.tag===13){var t=Nr(e),r=rr(e,t);if(r!==null){var n=Be();At(r,e,t,n)}Yd(e,t)}};Kg=function(){return X};Gg=function(e,t){var r=X;try{return X=e,t()}finally{X=r}};zc=function(e,t,r){switch(t){case"input":if(Dc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Xa(n);if(!s)throw Error(T(90));Eg(n),Dc(n,s)}}}break;case"textarea":Ng(e,r);break;case"select":t=r.value,t!=null&&Gn(e,!!r.multiple,t,!1)}};Ig=Kd;Lg=gn;var Nj={usingClientEntryPoint:!1,Events:[Mi,Mn,Xa,Rg,Og,Kd]},Ls={findFiberByHostInstance:en,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cj={bundleType:Ls.bundleType,version:Ls.version,rendererPackageName:Ls.rendererPackageName,rendererConfig:Ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:or.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ug(e),e===null?null:e.stateNode},findFiberByHostInstance:Ls.findFiberByHostInstance||Ej,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!go.isDisabled&&go.supportsFiber)try{Wa=go.inject(Cj),$t=go}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nj;ct.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eh(t))throw Error(T(200));return _j(e,t,null,r)};ct.createRoot=function(e,t){if(!eh(e))throw Error(T(299));var r=!1,n="",s=g0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Qd(e,1,!1,null,null,r,!1,n,s),e[tr]=t.current,pi(e.nodeType===8?e.parentNode:e),new Zd(t)};ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Ug(t),e=e===null?null:e.stateNode,e};ct.flushSync=function(e){return gn(e)};ct.hydrate=function(e,t,r){if(!il(t))throw Error(T(200));return ol(null,e,t,!0,r)};ct.hydrateRoot=function(e,t,r){if(!eh(e))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=g0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=m0(t,null,e,1,r??null,s,!1,i,o),e[tr]=t.current,pi(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new sl(t)};ct.render=function(e,t,r){if(!il(t))throw Error(T(200));return ol(null,e,t,!1,r)};ct.unmountComponentAtNode=function(e){if(!il(e))throw Error(T(40));return e._reactRootContainer?(gn(function(){ol(null,null,e,!1,function(){e._reactRootContainer=null,e[tr]=null})}),!0):!1};ct.unstable_batchedUpdates=Kd;ct.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!il(r))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return ol(e,t,r,!1,n)};ct.version="18.3.1-next-f1338f8080-20240426";function y0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y0)}catch(e){console.error(e)}}y0(),yg.exports=ct;var Tj=yg.exports,v0,Yf=Tj;v0=Yf.createRoot,Yf.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Si.apply(this,arguments)}var xr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xr||(xr={}));const Zf="popstate";function Pj(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return ju("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:x0(s)}return Rj(t,r,null,e)}function ve(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function th(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Aj(){return Math.random().toString(36).substr(2,8)}function ep(e,t){return{usr:e.state,key:e.key,idx:t}}function ju(e,t,r,n){return r===void 0&&(r=null),Si({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ws(t):t,{state:r,key:t&&t.key||n||Aj()})}function x0(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ws(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Rj(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=xr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Si({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=xr.Pop;let x=d(),p=x==null?null:x-u;u=x,c&&c({action:a,location:w.location,delta:p})}function f(x,p){a=xr.Push;let g=ju(w.location,x,p);u=d()+1;let v=ep(g,u),b=w.createHref(g);try{o.pushState(v,"",b)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(b)}i&&c&&c({action:a,location:w.location,delta:1})}function y(x,p){a=xr.Replace;let g=ju(w.location,x,p);u=d();let v=ep(g,u),b=w.createHref(g);o.replaceState(v,"",b),i&&c&&c({action:a,location:w.location,delta:0})}function m(x){let p=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof x=="string"?x:x0(x);return g=g.replace(/ $/,"%20"),ve(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let w={get action(){return a},get location(){return e(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Zf,h),c=x,()=>{s.removeEventListener(Zf,h),c=null}},createHref(x){return t(s,x)},createURL:m,encodeLocation(x){let p=m(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:y,go(x){return o.go(x)}};return w}var tp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(tp||(tp={}));function Oj(e,t,r){return r===void 0&&(r="/"),Ij(e,t,r)}function Ij(e,t,r,n){let s=typeof t=="string"?ws(t):t,i=j0(s.pathname||"/",r);if(i==null)return null;let o=w0(e);Lj(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=Kj(i);a=Hj(o[c],u)}return a}function w0(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ve(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=cn([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(ve(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),w0(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Bj(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of b0(i.path))s(i,o,c)}),t}function b0(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=b0(n.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function Lj(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:zj(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Dj=/^:[\w-]+$/,Mj=3,Uj=2,$j=1,Fj=10,Vj=-2,rp=e=>e==="*";function Bj(e,t){let r=e.split("/"),n=r.length;return r.some(rp)&&(n+=Vj),t&&(n+=Uj),r.filter(s=>!rp(s)).reduce((s,i)=>s+(Dj.test(i)?Mj:i===""?$j:Fj),n)}function zj(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Hj(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=qj({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:cn([i,h.pathname]),pathnameBase:Yj(cn([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=cn([i,h.pathnameBase]))}return o}function qj(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Wj(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:y}=d;if(f==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const m=a[h];return y&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Wj(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),th(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Kj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return th(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function j0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Gj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jj=e=>Gj.test(e);function Xj(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ws(e):e,i;if(r)if(Jj(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),th(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=np(r.substring(1),"/"):i=np(r,t)}else i=t;return{pathname:i,search:Zj(n),hash:eS(s)}}function np(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ic(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qj(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function S0(e,t){let r=Qj(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function _0(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ws(e):(s=Si({},e),ve(!s.pathname||!s.pathname.includes("?"),ic("?","pathname","search",s)),ve(!s.pathname||!s.pathname.includes("#"),ic("#","pathname","hash",s)),ve(!s.search||!s.search.includes("#"),ic("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let c=Xj(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const cn=e=>e.join("/").replace(/\/\/+/g,"/"),Yj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Zj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const E0=["post","put","patch","delete"];new Set(E0);const rS=["get",...E0];new Set(rS);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_i.apply(this,arguments)}const rh=S.createContext(null),nS=S.createContext(null),$i=S.createContext(null),al=S.createContext(null),wn=S.createContext({outlet:null,matches:[],isDataRoute:!1}),k0=S.createContext(null);function Fi(){return S.useContext(al)!=null}function ll(){return Fi()||ve(!1),S.useContext(al).location}function N0(e){S.useContext($i).static||S.useLayoutEffect(e)}function Me(){let{isDataRoute:e}=S.useContext(wn);return e?gS():sS()}function sS(){Fi()||ve(!1);let e=S.useContext(rh),{basename:t,future:r,navigator:n}=S.useContext($i),{matches:s}=S.useContext(wn),{pathname:i}=ll(),o=JSON.stringify(S0(s,r.v7_relativeSplatPath)),a=S.useRef(!1);return N0(()=>{a.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=_0(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:cn([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}function iS(e,t){return oS(e,t)}function oS(e,t,r,n){Fi()||ve(!1);let{navigator:s}=S.useContext($i),{matches:i}=S.useContext(wn),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ll(),d;if(t){var h;let x=typeof t=="string"?ws(t):t;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||ve(!1),d=x}else d=u;let f=d.pathname||"/",y=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let m=Oj(e,{pathname:y}),w=dS(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:cn([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:cn([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&w?S.createElement(al.Provider,{value:{location:_i({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xr.Pop}},w):w}function aS(){let e=mS(),t=tS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),r?S.createElement("pre",{style:s},r):null,null)}const lS=S.createElement(aS,null);class cS extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?S.createElement(wn.Provider,{value:this.props.routeContext},S.createElement(k0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uS(e){let{routeContext:t,match:r,children:n}=e,s=S.useContext(rh);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(wn.Provider,{value:t},n)}function dS(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ve(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:y}=r,m=h.route.loader&&f[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||m){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let y,m=!1,w=null,x=null;r&&(y=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||lS,c&&(u<0&&f===0?(yS("route-fallback"),m=!0,x=null):u===f&&(m=!0,x=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,f+1)),g=()=>{let v;return y?v=w:m?v=x:h.route.Component?v=S.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,S.createElement(uS,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:v})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?S.createElement(cS,{location:r.location,revalidation:r.revalidation,component:w,error:y,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var C0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(C0||{}),T0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(T0||{});function hS(e){let t=S.useContext(rh);return t||ve(!1),t}function fS(e){let t=S.useContext(nS);return t||ve(!1),t}function pS(e){let t=S.useContext(wn);return t||ve(!1),t}function P0(e){let t=pS(),r=t.matches[t.matches.length-1];return r.route.id||ve(!1),r.route.id}function mS(){var e;let t=S.useContext(k0),r=fS(),n=P0();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function gS(){let{router:e}=hS(C0.UseNavigateStable),t=P0(T0.UseNavigateStable),r=S.useRef(!1);return N0(()=>{r.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,_i({fromRouteId:t},i)))},[e,t])}const sp={};function yS(e,t,r){sp[e]||(sp[e]=!0)}function vS(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function wr(e){let{to:t,replace:r,state:n,relative:s}=e;Fi()||ve(!1);let{future:i,static:o}=S.useContext($i),{matches:a}=S.useContext(wn),{pathname:c}=ll(),u=Me(),d=_0(t,S0(a,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return S.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Ae(e){ve(!1)}function xS(e){let{basename:t="/",children:r=null,location:n,navigationType:s=xr.Pop,navigator:i,static:o=!1,future:a}=e;Fi()&&ve(!1);let c=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:i,static:o,future:_i({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof n=="string"&&(n=ws(n));let{pathname:d="/",search:h="",hash:f="",state:y=null,key:m="default"}=n,w=S.useMemo(()=>{let x=j0(d,c);return x==null?null:{location:{pathname:x,search:h,hash:f,state:y,key:m},navigationType:s}},[c,d,h,f,y,m,s]);return w==null?null:S.createElement($i.Provider,{value:u},S.createElement(al.Provider,{children:r,value:w}))}function wS(e){let{children:t,location:r}=e;return iS(Su(t),r)}new Promise(()=>{});function Su(e,t){t===void 0&&(t=[]);let r=[];return S.Children.forEach(e,(n,s)=>{if(!S.isValidElement(n))return;let i=[...t,s];if(n.type===S.Fragment){r.push.apply(r,Su(n.props.children,i));return}n.type!==Ae&&ve(!1),!n.props.index||!n.props.children||ve(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Su(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const bS="6";try{window.__reactRouterVersion=bS}catch{}const jS="startTransition",ip=vb[jS];function SS(e){let{basename:t,children:r,future:n,window:s}=e,i=S.useRef();i.current==null&&(i.current=Pj({window:s,v5Compat:!0}));let o=i.current,[a,c]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=S.useCallback(h=>{u&&ip?ip(()=>c(h)):c(h)},[c,u]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.useEffect(()=>vS(n),[n]),S.createElement(xS,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}var op;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(op||(op={}));var ap;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ap||(ap={}));const A0={user:null,userType:null,currentLanguage:"en",isAuthenticated:!1,isLoading:!0,consultations:[],homeVisits:[],menstrualCycles:[]},R0=S.createContext(null);function _S(e,t){switch(t.type){case"SET_USER":return{...e,user:t.payload};case"SET_USER_TYPE":return{...e,userType:t.payload};case"SET_LANGUAGE":return{...e,currentLanguage:t.payload};case"SET_AUTHENTICATED":return{...e,isAuthenticated:t.payload};case"SET_LOADING":return{...e,isLoading:t.payload};case"ADD_CONSULTATION":return{...e,consultations:[...e.consultations,t.payload]};case"ADD_HOME_VISIT":return{...e,homeVisits:[...e.homeVisits,t.payload]};case"ADD_MENSTRUAL_CYCLE":return{...e,menstrualCycles:[...e.menstrualCycles,t.payload]};case"LOGOUT":return{...A0,currentLanguage:e.currentLanguage,isLoading:!1};default:return e}}function ES({children:e}){const[t,r]=S.useReducer(_S,A0);return l.jsx(R0.Provider,{value:{state:t,dispatch:r},children:e})}function wt(){const e=S.useContext(R0);if(!e)throw new Error("useApp must be used within AppProvider");return e}const O0=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),cl=S.createContext({}),ul=S.createContext(null),dl=typeof document<"u",nh=dl?S.useLayoutEffect:S.useEffect,I0=S.createContext({strict:!1}),sh=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),kS="framerAppearId",L0="data-"+sh(kS);function NS(e,t,r,n){const{visualElement:s}=S.useContext(cl),i=S.useContext(I0),o=S.useContext(ul),a=S.useContext(O0).reducedMotion,c=S.useRef();n=n||i.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=c.current;S.useInsertionEffect(()=>{u&&u.update(r,o)});const d=S.useRef(!!(r[L0]&&!window.HandoffComplete));return nh(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),S.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Hn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function CS(e,t,r){return S.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Hn(r)&&(r.current=n))},[t])}function Ei(e){return typeof e=="string"||Array.isArray(e)}function hl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const ih=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],oh=["initial",...ih];function fl(e){return hl(e.animate)||oh.some(t=>Ei(e[t]))}function D0(e){return!!(fl(e)||e.variants)}function TS(e,t){if(fl(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Ei(r)?r:void 0,animate:Ei(n)?n:void 0}}return e.inherit!==!1?t:{}}function PS(e){const{initial:t,animate:r}=TS(e,S.useContext(cl));return S.useMemo(()=>({initial:t,animate:r}),[lp(t),lp(r)])}function lp(e){return Array.isArray(e)?e.join(" "):e}const cp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ki={};for(const e in cp)ki[e]={isEnabled:t=>cp[e].some(r=>!!t[r])};function AS(e){for(const t in e)ki[t]={...ki[t],...e[t]}}const ah=S.createContext({}),M0=S.createContext({}),RS=Symbol.for("motionComponentSymbol");function OS({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&AS(e);function i(a,c){let u;const d={...S.useContext(O0),...a,layoutId:IS(a)},{isStatic:h}=d,f=PS(a),y=n(a,h);if(!h&&dl){f.visualElement=NS(s,y,d,t);const m=S.useContext(M0),w=S.useContext(I0).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,w,e,m))}return S.createElement(cl.Provider,{value:f},u&&f.visualElement?S.createElement(u,{visualElement:f.visualElement,...d}):null,r(s,a,CS(y,f.visualElement,c),y,h,f.visualElement))}const o=S.forwardRef(i);return o[RS]=s,o}function IS({layoutId:e}){const t=S.useContext(ah).id;return t&&e!==void 0?t+"-"+e:e}function LS(e){function t(n,s={}){return OS(e(n,s))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,s)=>(r.has(s)||r.set(s,t(s)),r.get(s))})}const DS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lh(e){return typeof e!="string"||e.includes("-")?!1:!!(DS.indexOf(e)>-1||/[A-Z]/.test(e))}const Sa={};function MS(e){Object.assign(Sa,e)}const Vi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bn=new Set(Vi);function U0(e,{layout:t,layoutId:r}){return bn.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Sa[e]||e==="opacity")}const et=e=>!!(e&&e.getVelocity),US={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$S=Vi.length;function FS(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,s){let i="";for(let o=0;o<$S;o++){const a=Vi[o];if(e[a]!==void 0){const c=US[a]||a;i+=`${c}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,n?"":i):r&&n&&(i="none"),i}const $0=e=>t=>typeof t=="string"&&t.startsWith(e),F0=$0("--"),_u=$0("var(--"),VS=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,BS=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Rr=(e,t,r)=>Math.min(Math.max(r,e),t),jn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ti={...jn,transform:e=>Rr(0,1,e)},yo={...jn,default:1},ri=e=>Math.round(e*1e5)/1e5,pl=/(-)?([\d]*\.?[\d])+/g,V0=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,zS=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Bi(e){return typeof e=="string"}const zi=e=>({test:t=>Bi(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),cr=zi("deg"),Vt=zi("%"),$=zi("px"),HS=zi("vh"),qS=zi("vw"),up={...Vt,parse:e=>Vt.parse(e)/100,transform:e=>Vt.transform(e*100)},dp={...jn,transform:Math.round},B0={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,size:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,rotate:cr,rotateX:cr,rotateY:cr,rotateZ:cr,scale:yo,scaleX:yo,scaleY:yo,scaleZ:yo,skew:cr,skewX:cr,skewY:cr,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:ti,originX:up,originY:up,originZ:$,zIndex:dp,fillOpacity:ti,strokeOpacity:ti,numOctaves:dp};function ch(e,t,r,n){const{style:s,vars:i,transform:o,transformOrigin:a}=e;let c=!1,u=!1,d=!0;for(const h in t){const f=t[h];if(F0(h)){i[h]=f;continue}const y=B0[h],m=BS(f,y);if(bn.has(h)){if(c=!0,o[h]=m,!d)continue;f!==(y.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,a[h]=m):s[h]=m}if(t.transform||(c||n?s.transform=FS(e.transform,r,d,n):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:y=0}=a;s.transformOrigin=`${h} ${f} ${y}`}}const uh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function z0(e,t,r){for(const n in t)!et(t[n])&&!U0(n,r)&&(e[n]=t[n])}function WS({transformTemplate:e},t,r){return S.useMemo(()=>{const n=uh();return ch(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function KS(e,t,r){const n=e.style||{},s={};return z0(s,n,e),Object.assign(s,WS(e,t,r)),e.transformValues?e.transformValues(s):s}function GS(e,t,r){const n={},s=KS(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const JS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _a(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||JS.has(e)}let H0=e=>!_a(e);function XS(e){e&&(H0=t=>t.startsWith("on")?!_a(t):e(t))}try{XS(require("@emotion/is-prop-valid").default)}catch{}function QS(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(H0(s)||r===!0&&_a(s)||!t&&!_a(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function hp(e,t,r){return typeof e=="string"?e:$.transform(t+r*e)}function YS(e,t,r){const n=hp(t,e.x,e.width),s=hp(r,e.y,e.height);return`${n} ${s}`}const ZS={offset:"stroke-dashoffset",array:"stroke-dasharray"},e_={offset:"strokeDashoffset",array:"strokeDasharray"};function t_(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?ZS:e_;e[i.offset]=$.transform(-n);const o=$.transform(t),a=$.transform(r);e[i.array]=`${o} ${a}`}function dh(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...u},d,h,f){if(ch(e,u,d,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:m,dimensions:w}=e;y.transform&&(w&&(m.transform=y.transform),delete y.transform),w&&(s!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=YS(w,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(y.x=t),r!==void 0&&(y.y=r),n!==void 0&&(y.scale=n),o!==void 0&&t_(y,o,a,c,!1)}const q0=()=>({...uh(),attrs:{}}),hh=e=>typeof e=="string"&&e.toLowerCase()==="svg";function r_(e,t,r,n){const s=S.useMemo(()=>{const i=q0();return dh(i,t,{enableHardwareAcceleration:!1},hh(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};z0(i,e.style,e),s.style={...i,...s.style}}return s}function n_(e=!1){return(r,n,s,{latestValues:i},o)=>{const c=(lh(r)?r_:GS)(n,i,o,r),d={...QS(n,typeof r=="string",e),...c,ref:s},{children:h}=n,f=S.useMemo(()=>et(h)?h.get():h,[h]);return S.createElement(r,{...d,children:f})}}function W0(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const K0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function G0(e,t,r,n){W0(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(K0.has(s)?s:sh(s),t.attrs[s])}function fh(e,t){const{style:r}=e,n={};for(const s in r)(et(r[s])||t.style&&et(t.style[s])||U0(s,e))&&(n[s]=r[s]);return n}function J0(e,t){const r=fh(e,t);for(const n in e)if(et(e[n])||et(t[n])){const s=Vi.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[s]=e[n]}return r}function ph(e,t,r,n={},s={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),t}function X0(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ea=e=>Array.isArray(e),s_=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),i_=e=>Ea(e)?e[e.length-1]||0:e;function Ho(e){const t=et(e)?e.get():e;return s_(t)?t.toValue():t}function o_({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,i){const o={latestValues:a_(n,s,i,e),renderState:t()};return r&&(o.mount=a=>r(n,a,o)),o}const Q0=e=>(t,r)=>{const n=S.useContext(cl),s=S.useContext(ul),i=()=>o_(e,t,n,s);return r?i():X0(i)};function a_(e,t,r,n){const s={},i=n(e,{});for(const f in i)s[f]=Ho(i[f]);let{initial:o,animate:a}=e;const c=fl(e),u=D0(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!hl(h)&&(Array.isArray(h)?h:[h]).forEach(y=>{const m=ph(e,y);if(!m)return;const{transitionEnd:w,transition:x,...p}=m;for(const g in p){let v=p[g];if(Array.isArray(v)){const b=d?v.length-1:0;v=v[b]}v!==null&&(s[g]=v)}for(const g in w)s[g]=w[g]}),s}const fe=e=>e;class fp{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function l_(e){let t=new fp,r=new fp,n=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(c,u=!1,d=!1)=>{const h=d&&s,f=h?t:r;return u&&o.add(c),f.add(c)&&h&&s&&(n=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const d=t.order[u];d(c),o.has(d)&&(a.schedule(d),e())}s=!1,i&&(i=!1,a.process(c))}};return a}const vo=["prepare","read","update","preRender","render","postRender"],c_=40;function u_(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=vo.reduce((h,f)=>(h[f]=l_(()=>r=!0),h),{}),o=h=>i[h].process(s),a=()=>{const h=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(h-s.timestamp,c_),1),s.timestamp=h,s.isProcessing=!0,vo.forEach(o),s.isProcessing=!1,r&&t&&(n=!1,e(a))},c=()=>{r=!0,n=!0,s.isProcessing||e(a)};return{schedule:vo.reduce((h,f)=>{const y=i[f];return h[f]=(m,w=!1,x=!1)=>(r||c(),y.schedule(m,w,x)),h},{}),cancel:h=>vo.forEach(f=>i[f].cancel(h)),state:s,steps:i}}const{schedule:te,cancel:sr,state:Re,steps:oc}=u_(typeof requestAnimationFrame<"u"?requestAnimationFrame:fe,!0),d_={useVisualState:Q0({scrapeMotionValuesFromProps:J0,createRenderState:q0,onMount:(e,t,{renderState:r,latestValues:n})=>{te.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),te.render(()=>{dh(r,n,{enableHardwareAcceleration:!1},hh(t.tagName),e.transformTemplate),G0(t,r)})}})},h_={useVisualState:Q0({scrapeMotionValuesFromProps:fh,createRenderState:uh})};function f_(e,{forwardMotionProps:t=!1},r,n){return{...lh(e)?d_:h_,preloadedFeatures:r,useRender:n_(t),createVisualElement:n,Component:e}}function Jt(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const Y0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function ml(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const p_=e=>t=>Y0(t)&&e(t,ml(t));function Yt(e,t,r,n){return Jt(e,t,p_(r),n)}const m_=(e,t)=>r=>t(e(r)),Tr=(...e)=>e.reduce(m_);function Z0(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const pp=Z0("dragHorizontal"),mp=Z0("dragVertical");function ev(e){let t=!1;if(e==="y")t=mp();else if(e==="x")t=pp();else{const r=pp(),n=mp();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function tv(){const e=ev(!0);return e?(e(),!1):!0}class Mr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function gp(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||tv())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[n]&&te.update(()=>a[n](i,o))};return Yt(e.current,r,s,{passive:!e.getProps()[n]})}class g_ extends Mr{mount(){this.unmount=Tr(gp(this.node,!0),gp(this.node,!1))}unmount(){}}class y_ extends Mr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tr(Jt(this.node.current,"focus",()=>this.onFocus()),Jt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const rv=(e,t)=>t?e===t?!0:rv(e,t.parentElement):!1;function ac(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,ml(r))}class v_ extends Mr{constructor(){super(...arguments),this.removeStartListeners=fe,this.removeEndListeners=fe,this.removeAccessibleListeners=fe,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=Yt(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();te.update(()=>{!h&&!rv(this.node.current,a.target)?d&&d(a,c):u&&u(a,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=Yt(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Tr(i,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||ac("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&te.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Jt(this.node.current,"keyup",o),ac("down",(a,c)=>{this.startPress(a,c)})},r=Jt(this.node.current,"keydown",t),n=()=>{this.isPressing&&ac("cancel",(i,o)=>this.cancelPress(i,o))},s=Jt(this.node.current,"blur",n);this.removeAccessibleListeners=Tr(r,s)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&te.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!tv()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&te.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=Yt(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Jt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Tr(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Eu=new WeakMap,lc=new WeakMap,x_=e=>{const t=Eu.get(e.target);t&&t(e)},w_=e=>{e.forEach(x_)};function b_({root:e,...t}){const r=e||document;lc.has(r)||lc.set(r,{});const n=lc.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(w_,{root:e,...t})),n[s]}function j_(e,t,r){const n=b_(t);return Eu.set(e,r),n.observe(e),()=>{Eu.delete(e),n.unobserve(e)}}const S_={some:0,all:1};class __ extends Mr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:S_[s]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return j_(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(E_(t,r))&&this.startObserver()}unmount(){}}function E_({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const k_={inView:{Feature:__},tap:{Feature:v_},focus:{Feature:y_},hover:{Feature:g_}};function nv(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function N_(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function C_(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function gl(e,t,r){const n=e.getProps();return ph(n,t,r!==void 0?r:n.custom,N_(e),C_(e))}let mh=fe;const un=e=>e*1e3,Zt=e=>e/1e3,T_={current:!1},sv=e=>Array.isArray(e)&&typeof e[0]=="number";function iv(e){return!!(!e||typeof e=="string"&&ov[e]||sv(e)||Array.isArray(e)&&e.every(iv))}const zs=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,ov={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zs([0,.65,.55,1]),circOut:zs([.55,0,1,.45]),backIn:zs([.31,.01,.66,-.59]),backOut:zs([.33,1.53,.69,.99])};function av(e){if(e)return sv(e)?zs(e):Array.isArray(e)?e.map(av):ov[e]}function P_(e,t,r,{delay:n=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=av(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function A_(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const lv=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,R_=1e-7,O_=12;function I_(e,t,r,n,s){let i,o,a=0;do o=t+(r-t)/2,i=lv(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>R_&&++a<O_);return o}function Hi(e,t,r,n){if(e===t&&r===n)return fe;const s=i=>I_(i,0,1,e,r);return i=>i===0||i===1?i:lv(s(i),t,n)}const L_=Hi(.42,0,1,1),D_=Hi(0,0,.58,1),cv=Hi(.42,0,.58,1),M_=e=>Array.isArray(e)&&typeof e[0]!="number",uv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,dv=e=>t=>1-e(1-t),gh=e=>1-Math.sin(Math.acos(e)),hv=dv(gh),U_=uv(gh),fv=Hi(.33,1.53,.69,.99),yh=dv(fv),$_=uv(yh),F_=e=>(e*=2)<1?.5*yh(e):.5*(2-Math.pow(2,-10*(e-1))),V_={linear:fe,easeIn:L_,easeInOut:cv,easeOut:D_,circIn:gh,circInOut:U_,circOut:hv,backIn:yh,backInOut:$_,backOut:fv,anticipate:F_},yp=e=>{if(Array.isArray(e)){mh(e.length===4);const[t,r,n,s]=e;return Hi(t,r,n,s)}else if(typeof e=="string")return V_[e];return e},vh=(e,t)=>r=>!!(Bi(r)&&zS.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),pv=(e,t,r)=>n=>{if(!Bi(n))return n;const[s,i,o,a]=n.match(pl);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},B_=e=>Rr(0,255,e),cc={...jn,transform:e=>Math.round(B_(e))},nn={test:vh("rgb","red"),parse:pv("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+cc.transform(e)+", "+cc.transform(t)+", "+cc.transform(r)+", "+ri(ti.transform(n))+")"};function z_(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const ku={test:vh("#"),parse:z_,transform:nn.transform},qn={test:vh("hsl","hue"),parse:pv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Vt.transform(ri(t))+", "+Vt.transform(ri(r))+", "+ri(ti.transform(n))+")"},Fe={test:e=>nn.test(e)||ku.test(e)||qn.test(e),parse:e=>nn.test(e)?nn.parse(e):qn.test(e)?qn.parse(e):ku.parse(e),transform:e=>Bi(e)?e:e.hasOwnProperty("red")?nn.transform(e):qn.transform(e)},ae=(e,t,r)=>-r*e+r*t+e;function uc(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function H_({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const a=r<.5?r*(1+t):r+t-r*t,c=2*r-a;s=uc(c,a,e+1/3),i=uc(c,a,e),o=uc(c,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const dc=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},q_=[ku,nn,qn],W_=e=>q_.find(t=>t.test(e));function vp(e){const t=W_(e);let r=t.parse(e);return t===qn&&(r=H_(r)),r}const mv=(e,t)=>{const r=vp(e),n=vp(t),s={...r};return i=>(s.red=dc(r.red,n.red,i),s.green=dc(r.green,n.green,i),s.blue=dc(r.blue,n.blue,i),s.alpha=ae(r.alpha,n.alpha,i),nn.transform(s))};function K_(e){var t,r;return isNaN(e)&&Bi(e)&&(((t=e.match(pl))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(V0))===null||r===void 0?void 0:r.length)||0)>0}const gv={regex:VS,countKey:"Vars",token:"${v}",parse:fe},yv={regex:V0,countKey:"Colors",token:"${c}",parse:Fe.parse},vv={regex:pl,countKey:"Numbers",token:"${n}",parse:jn.parse};function hc(e,{regex:t,countKey:r,token:n,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+r]=i.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...i.map(s)))}function ka(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&hc(r,gv),hc(r,yv),hc(r,vv),r}function xv(e){return ka(e).values}function wv(e){const{values:t,numColors:r,numVars:n,tokenised:s}=ka(e),i=t.length;return o=>{let a=s;for(let c=0;c<i;c++)c<n?a=a.replace(gv.token,o[c]):c<n+r?a=a.replace(yv.token,Fe.transform(o[c])):a=a.replace(vv.token,ri(o[c]));return a}}const G_=e=>typeof e=="number"?0:e;function J_(e){const t=xv(e);return wv(e)(t.map(G_))}const Or={test:K_,parse:xv,createTransformer:wv,getAnimatableNone:J_},bv=(e,t)=>r=>`${r>0?t:e}`;function jv(e,t){return typeof e=="number"?r=>ae(e,t,r):Fe.test(e)?mv(e,t):e.startsWith("var(")?bv(e,t):_v(e,t)}const Sv=(e,t)=>{const r=[...e],n=r.length,s=e.map((i,o)=>jv(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}},X_=(e,t)=>{const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=jv(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}},_v=(e,t)=>{const r=Or.createTransformer(t),n=ka(e),s=ka(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?Tr(Sv(n.values,s.values),r):bv(e,t)},Ni=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},xp=(e,t)=>r=>ae(e,t,r);function Q_(e){return typeof e=="number"?xp:typeof e=="string"?Fe.test(e)?mv:_v:Array.isArray(e)?Sv:typeof e=="object"?X_:xp}function Y_(e,t,r){const n=[],s=r||Q_(e[0]),i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||fe:t;a=Tr(c,a)}n.push(a)}return n}function Ev(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(mh(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Y_(t,n,s),a=o.length,c=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=Ni(e[d],e[d+1],u);return o[d](h)};return r?u=>c(Rr(e[0],e[i-1],u)):c}function Z_(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Ni(0,t,n);e.push(ae(r,1,s))}}function eE(e){const t=[0];return Z_(t,e.length-1),t}function tE(e,t){return e.map(r=>r*t)}function rE(e,t){return e.map(()=>t||cv).splice(0,e.length-1)}function Na({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=M_(n)?n.map(yp):yp(n),i={done:!1,value:t[0]},o=tE(r&&r.length===t.length?r:eE(t),e),a=Ev(o,t,{ease:Array.isArray(s)?s:rE(t,s)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}function kv(e,t){return t?e*(1e3/t):0}const nE=5;function Nv(e,t,r){const n=Math.max(t-nE,0);return kv(r-e(n),t-n)}const fc=.001,sE=.01,iE=10,oE=.05,aE=1;function lE({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let s,i,o=1-t;o=Rr(oE,aE,o),e=Rr(sE,iE,Zt(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-r,y=Nu(u,o),m=Math.exp(-h);return fc-f/y*m},i=u=>{const h=u*o*e,f=h*r+r,y=Math.pow(o,2)*Math.pow(u,2)*e,m=Math.exp(-h),w=Nu(Math.pow(u,2),o);return(-s(u)+fc>0?-1:1)*((f-y)*m)/w}):(s=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-fc+d*h},i=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const a=5/e,c=uE(s,i,a);if(e=un(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const cE=12;function uE(e,t,r){let n=r;for(let s=1;s<cE;s++)n=n-e(n)/t(n);return n}function Nu(e,t){return e*Math.sqrt(1-t*t)}const dE=["duration","bounce"],hE=["stiffness","damping","mass"];function wp(e,t){return t.some(r=>e[r]!==void 0)}function fE(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!wp(e,hE)&&wp(e,dE)){const r=lE(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function Cv({keyframes:e,restDelta:t,restSpeed:r,...n}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:a,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=fE({...n,velocity:-Zt(n.velocity||0)}),y=h||0,m=c/(2*Math.sqrt(a*u)),w=i-s,x=Zt(Math.sqrt(a/u)),p=Math.abs(w)<5;r||(r=p?.01:2),t||(t=p?.005:.5);let g;if(m<1){const v=Nu(x,m);g=b=>{const E=Math.exp(-m*x*b);return i-E*((y+m*x*w)/v*Math.sin(v*b)+w*Math.cos(v*b))}}else if(m===1)g=v=>i-Math.exp(-x*v)*(w+(y+x*w)*v);else{const v=x*Math.sqrt(m*m-1);g=b=>{const E=Math.exp(-m*x*b),_=Math.min(v*b,300);return i-E*((y+m*x*w)*Math.sinh(_)+v*w*Math.cosh(_))/v}}return{calculatedDuration:f&&d||null,next:v=>{const b=g(v);if(f)o.done=v>=d;else{let E=y;v!==0&&(m<1?E=Nv(g,v,b):E=0);const _=Math.abs(E)<=r,j=Math.abs(i-b)<=t;o.done=_&&j}return o.value=o.done?i:b,o}}}function bp({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},y=k=>a!==void 0&&k<a||c!==void 0&&k>c,m=k=>a===void 0?c:c===void 0||Math.abs(a-k)<Math.abs(c-k)?a:c;let w=r*t;const x=h+w,p=o===void 0?x:o(x);p!==x&&(w=p-h);const g=k=>-w*Math.exp(-k/n),v=k=>p+g(k),b=k=>{const C=g(k),A=v(k);f.done=Math.abs(C)<=u,f.value=f.done?p:A};let E,_;const j=k=>{y(f.value)&&(E=k,_=Cv({keyframes:[f.value,m(f.value)],velocity:Nv(v,k,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:k=>{let C=!1;return!_&&E===void 0&&(C=!0,b(k),j(k)),E!==void 0&&k>E?_.next(k-E):(!C&&b(k),f)}}}const pE=e=>{const t=({timestamp:r})=>e(r);return{start:()=>te.update(t,!0),stop:()=>sr(t),now:()=>Re.isProcessing?Re.timestamp:performance.now()}},jp=2e4;function Sp(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<jp;)t+=r,n=e.next(t);return t>=jp?1/0:t}const mE={decay:bp,inertia:bp,tween:Na,keyframes:Na,spring:Cv};function Ca({autoplay:e=!0,delay:t=0,driver:r=pE,keyframes:n,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...f}){let y=1,m=!1,w,x;const p=()=>{x=new Promise(D=>{w=D})};p();let g;const v=mE[s]||Na;let b;v!==Na&&typeof n[0]!="number"&&(b=Ev([0,100],n,{clamp:!1}),n=[0,100]);const E=v({...f,keyframes:n});let _;a==="mirror"&&(_=v({...f,keyframes:[...n].reverse(),velocity:-(f.velocity||0)}));let j="idle",k=null,C=null,A=null;E.calculatedDuration===null&&i&&(E.calculatedDuration=Sp(E));const{calculatedDuration:B}=E;let q=1/0,J=1/0;B!==null&&(q=B+o,J=q*(i+1)-o);let Q=0;const tt=D=>{if(C===null)return;y>0&&(C=Math.min(C,D)),y<0&&(C=Math.min(D-J/y,C)),k!==null?Q=k:Q=Math.round(D-C)*y;const G=Q-t*(y>=0?1:-1),bt=y>=0?G<0:G>J;Q=Math.max(G,0),j==="finished"&&k===null&&(Q=J);let $e=Q,Ht=E;if(i){const Rl=Math.min(Q,J)/q;let Yi=Math.floor(Rl),Fr=Rl%1;!Fr&&Rl>=1&&(Fr=1),Fr===1&&Yi--,Yi=Math.min(Yi,i+1),!!(Yi%2)&&(a==="reverse"?(Fr=1-Fr,o&&(Fr-=o/q)):a==="mirror"&&(Ht=_)),$e=Rr(0,1,Fr)*q}const rt=bt?{done:!1,value:n[0]}:Ht.next($e);b&&(rt.value=b(rt.value));let{done:$r}=rt;!bt&&B!==null&&($r=y>=0?Q>=J:Q<=0);const rb=k===null&&(j==="finished"||j==="running"&&$r);return h&&h(rt.value),rb&&P(),rt},H=()=>{g&&g.stop(),g=void 0},Ue=()=>{j="idle",H(),w(),p(),C=A=null},P=()=>{j="finished",d&&d(),H(),w()},M=()=>{if(m)return;g||(g=r(tt));const D=g.now();c&&c(),k!==null?C=D-k:(!C||j==="finished")&&(C=D),j==="finished"&&p(),A=C,k=null,j="running",g.start()};e&&M();const F={then(D,G){return x.then(D,G)},get time(){return Zt(Q)},set time(D){D=un(D),Q=D,k!==null||!g||y===0?k=D:C=g.now()-D/y},get duration(){const D=E.calculatedDuration===null?Sp(E):E.calculatedDuration;return Zt(D)},get speed(){return y},set speed(D){D===y||!g||(y=D,F.time=Zt(Q))},get state(){return j},play:M,pause:()=>{j="paused",k=Q},stop:()=>{m=!0,j!=="idle"&&(j="idle",u&&u(),Ue())},cancel:()=>{A!==null&&tt(A),Ue()},complete:()=>{j="finished"},sample:D=>(C=0,tt(D))};return F}function gE(e){let t;return()=>(t===void 0&&(t=e()),t)}const yE=gE(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),vE=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),xo=10,xE=2e4,wE=(e,t)=>t.type==="spring"||e==="backgroundColor"||!iv(t.ease);function bE(e,t,{onUpdate:r,onComplete:n,...s}){if(!(yE()&&vE.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,c,u=!1;const d=()=>{c=new Promise(v=>{a=v})};d();let{keyframes:h,duration:f=300,ease:y,times:m}=s;if(wE(t,s)){const v=Ca({...s,repeat:0,delay:0});let b={done:!1,value:h[0]};const E=[];let _=0;for(;!b.done&&_<xE;)b=v.sample(_),E.push(b.value),_+=xo;m=void 0,h=E,f=_-xo,y="linear"}const w=P_(e.owner.current,t,h,{...s,duration:f,ease:y,times:m}),x=()=>{u=!1,w.cancel()},p=()=>{u=!0,te.update(x),a(),d()};return w.onfinish=()=>{u||(e.set(A_(h,s)),n&&n(),p())},{then(v,b){return c.then(v,b)},attachTimeline(v){return w.timeline=v,w.onfinish=null,fe},get time(){return Zt(w.currentTime||0)},set time(v){w.currentTime=un(v)},get speed(){return w.playbackRate},set speed(v){w.playbackRate=v},get duration(){return Zt(f)},play:()=>{o||(w.play(),sr(x))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:v}=w;if(v){const b=Ca({...s,autoplay:!1});e.setWithVelocity(b.sample(v-xo).value,b.sample(v).value,xo)}p()},complete:()=>{u||w.finish()},cancel:p}}function jE({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const s=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:fe,pause:fe,stop:fe,then:i=>(i(),Promise.resolve()),cancel:fe,complete:fe});return t?Ca({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const SE={type:"spring",stiffness:500,damping:25,restSpeed:10},_E=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),EE={type:"keyframes",duration:.8},kE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},NE=(e,{keyframes:t})=>t.length>2?EE:bn.has(e)?e.startsWith("scale")?_E(t[1]):SE:kE,Cu=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Or.test(t)||t==="0")&&!t.startsWith("url(")),CE=new Set(["brightness","contrast","saturate","opacity"]);function TE(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(pl)||[];if(!n)return e;const s=r.replace(n,"");let i=CE.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const PE=/([a-z-]*)\(.*?\)/g,Tu={...Or,getAnimatableNone:e=>{const t=e.match(PE);return t?t.map(TE).join(" "):e}},AE={...B0,color:Fe,backgroundColor:Fe,outlineColor:Fe,fill:Fe,stroke:Fe,borderColor:Fe,borderTopColor:Fe,borderRightColor:Fe,borderBottomColor:Fe,borderLeftColor:Fe,filter:Tu,WebkitFilter:Tu},xh=e=>AE[e];function Tv(e,t){let r=xh(e);return r!==Tu&&(r=Or),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Pv=e=>/^0[^.\s]+$/.test(e);function RE(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Pv(e)}function OE(e,t,r,n){const s=Cu(t,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const o=n.from!==void 0?n.from:e.get();let a;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),RE(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(s&&c.length&&a)for(let u=0;u<c.length;u++){const d=c[u];i[d]=Tv(t,a)}return i}function IE({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function wh(e,t){return e[t]||e.default||e}const LE={skipAnimations:!1},bh=(e,t,r,n={})=>s=>{const i=wh(n,e)||{},o=i.delay||n.delay||0;let{elapsed:a=0}=n;a=a-un(o);const c=OE(t,e,r,i),u=c[0],d=c[c.length-1],h=Cu(e,u),f=Cu(e,d);let y={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:m=>{t.set(m),i.onUpdate&&i.onUpdate(m)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(IE(i)||(y={...y,...NE(e,y)}),y.duration&&(y.duration=un(y.duration)),y.repeatDelay&&(y.repeatDelay=un(y.repeatDelay)),!h||!f||T_.current||i.type===!1||LE.skipAnimations)return jE(y);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const m=bE(t,e,y);if(m)return m}return Ca(y)};function Ta(e){return!!(et(e)&&e.add)}const Av=e=>/^\-?\d*\.?\d+$/.test(e);function jh(e,t){e.indexOf(t)===-1&&e.push(t)}function Sh(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class _h{constructor(){this.subscriptions=[]}add(t){return jh(this.subscriptions,t),()=>Sh(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const DE=e=>!isNaN(parseFloat(e));class ME{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=Re;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,te.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>te.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=DE(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new _h);const n=this.events[t].add(r);return t==="change"?()=>{n(),te.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?kv(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function us(e,t){return new ME(e,t)}const Rv=e=>t=>t.test(e),UE={test:e=>e==="auto",parse:e=>e},Ov=[jn,$,Vt,cr,qS,HS,UE],Ds=e=>Ov.find(Rv(e)),$E=[...Ov,Fe,Or],FE=e=>$E.find(Rv(e));function VE(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,us(r))}function BE(e,t){const r=gl(e,t);let{transitionEnd:n={},transition:s={},...i}=r?e.makeTargetAnimatable(r,!1):{};i={...i,...n};for(const o in i){const a=i_(i[o]);VE(e,o,a)}}function zE(e,t,r){var n,s;const i=Object.keys(t).filter(a=>!e.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const c=i[a],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(Av(d)||Pv(d))?d=parseFloat(d):!FE(d)&&Or.test(u)&&(d=Tv(c,u)),e.addValue(c,us(d,{owner:e})),r[c]===void 0&&(r[c]=d),d!==null&&e.setBaseTarget(c,d))}}function HE(e,t){return t?(t[e]||t.default||t).from:void 0}function qE(e,t,r){const n={};for(const s in e){const i=HE(s,t);if(i!==void 0)n[s]=i;else{const o=r.getValue(s);o&&(n[s]=o.get())}}return n}function WE({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function KE(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function Iv(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(i=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in a){const f=e.getValue(h),y=a[h];if(!f||y===void 0||d&&WE(d,h))continue;const m={delay:r,elapsed:0,...wh(i||{},h)};if(window.HandoffAppearAnimations){const p=e.getProps()[L0];if(p){const g=window.HandoffAppearAnimations(p,h,f,te);g!==null&&(m.elapsed=g,m.isHandoff=!0)}}let w=!m.isHandoff&&!KE(f,y);if(m.type==="spring"&&(f.getVelocity()||m.velocity)&&(w=!1),f.animation&&(w=!1),w)continue;f.start(bh(h,f,y,e.shouldReduceMotion&&bn.has(h)?{type:!1}:m));const x=f.animation;Ta(c)&&(c.add(h),x.then(()=>c.remove(h))),u.push(x)}return o&&Promise.all(u).then(()=>{o&&BE(e,o)}),u}function Pu(e,t,r={}){const n=gl(e,t,r.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(Iv(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return GE(e,t,u+c,d,h,r)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,u]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function GE(e,t,r=0,n=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>a-u*n;return Array.from(e.variantChildren).sort(JE).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(Pu(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function JE(e,t){return e.sortNodePosition(t)}function XE(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>Pu(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=Pu(e,t,r);else{const s=typeof t=="function"?gl(e,t,r.custom):t;n=Promise.all(Iv(e,s,r))}return n.then(()=>e.notify("AnimationComplete",t))}const QE=[...ih].reverse(),YE=ih.length;function ZE(e){return t=>Promise.all(t.map(({animation:r,options:n})=>XE(e,r,n)))}function ek(e){let t=ZE(e);const r=rk();let n=!0;const s=(c,u)=>{const d=gl(e,u);if(d){const{transition:h,transitionEnd:f,...y}=d;c={...c,...y,...f}}return c};function i(c){t=c(e)}function o(c,u){const d=e.getProps(),h=e.getVariantContext(!0)||{},f=[],y=new Set;let m={},w=1/0;for(let p=0;p<YE;p++){const g=QE[p],v=r[g],b=d[g]!==void 0?d[g]:h[g],E=Ei(b),_=g===u?v.isActive:null;_===!1&&(w=p);let j=b===h[g]&&b!==d[g]&&E;if(j&&n&&e.manuallyAnimateOnMount&&(j=!1),v.protectedKeys={...m},!v.isActive&&_===null||!b&&!v.prevProp||hl(b)||typeof b=="boolean")continue;let C=tk(v.prevProp,b)||g===u&&v.isActive&&!j&&E||p>w&&E,A=!1;const B=Array.isArray(b)?b:[b];let q=B.reduce(s,{});_===!1&&(q={});const{prevResolvedValues:J={}}=v,Q={...J,...q},tt=H=>{C=!0,y.has(H)&&(A=!0,y.delete(H)),v.needsAnimating[H]=!0};for(const H in Q){const Ue=q[H],P=J[H];if(m.hasOwnProperty(H))continue;let M=!1;Ea(Ue)&&Ea(P)?M=!nv(Ue,P):M=Ue!==P,M?Ue!==void 0?tt(H):y.add(H):Ue!==void 0&&y.has(H)?tt(H):v.protectedKeys[H]=!0}v.prevProp=b,v.prevResolvedValues=q,v.isActive&&(m={...m,...q}),n&&e.blockInitialAnimation&&(C=!1),C&&(!j||A)&&f.push(...B.map(H=>({animation:H,options:{type:g,...c}})))}if(y.size){const p={};y.forEach(g=>{const v=e.getBaseTarget(g);v!==void 0&&(p[g]=v)}),f.push({animation:p})}let x=!!f.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(f):Promise.resolve()}function a(c,u,d){var h;if(r[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(y=>{var m;return(m=y.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),r[c].isActive=u;const f=o(d,c);for(const y in r)r[y].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>r}}function tk(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!nv(t,e):!1}function Vr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rk(){return{animate:Vr(!0),whileInView:Vr(),whileHover:Vr(),whileTap:Vr(),whileDrag:Vr(),whileFocus:Vr(),exit:Vr()}}class nk extends Mr{constructor(t){super(t),t.animationState||(t.animationState=ek(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),hl(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let sk=0;class ik extends Mr{constructor(){super(...arguments),this.id=sk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const ok={animation:{Feature:nk},exit:{Feature:ik}},_p=(e,t)=>Math.abs(e-t);function ak(e,t){const r=_p(e.x,t.x),n=_p(e.y,t.y);return Math.sqrt(r**2+n**2)}class Lv{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=mc(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,y=ak(h.offset,{x:0,y:0})>=3;if(!f&&!y)return;const{point:m}=h,{timestamp:w}=Re;this.history.push({...m,timestamp:w});const{onStart:x,onMove:p}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=pc(f,this.transformPagePoint),te.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:y,onSessionEnd:m,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=mc(h.type==="pointercancel"?this.lastMoveEventInfo:pc(f,this.transformPagePoint),this.history);this.startEvent&&y&&y(h,x),m&&m(h,x)},!Y0(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=ml(t),a=pc(o,this.transformPagePoint),{point:c}=a,{timestamp:u}=Re;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,mc(a,this.history)),this.removeListeners=Tr(Yt(this.contextWindow,"pointermove",this.handlePointerMove),Yt(this.contextWindow,"pointerup",this.handlePointerUp),Yt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),sr(this.updatePoint)}}function pc(e,t){return t?{point:t(e.point)}:e}function Ep(e,t){return{x:e.x-t.x,y:e.y-t.y}}function mc({point:e},t){return{point:e,delta:Ep(e,Dv(t)),offset:Ep(e,lk(t)),velocity:ck(t,.1)}}function lk(e){return e[0]}function Dv(e){return e[e.length-1]}function ck(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=Dv(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>un(t)));)r--;if(!n)return{x:0,y:0};const i=Zt(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function lt(e){return e.max-e.min}function Au(e,t=0,r=.01){return Math.abs(e-t)<=r}function kp(e,t,r,n=.5){e.origin=n,e.originPoint=ae(t.min,t.max,e.origin),e.scale=lt(r)/lt(t),(Au(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ae(r.min,r.max,e.origin)-e.originPoint,(Au(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ni(e,t,r,n){kp(e.x,t.x,r.x,n?n.originX:void 0),kp(e.y,t.y,r.y,n?n.originY:void 0)}function Np(e,t,r){e.min=r.min+t.min,e.max=e.min+lt(t)}function uk(e,t,r){Np(e.x,t.x,r.x),Np(e.y,t.y,r.y)}function Cp(e,t,r){e.min=t.min-r.min,e.max=e.min+lt(t)}function si(e,t,r){Cp(e.x,t.x,r.x),Cp(e.y,t.y,r.y)}function dk(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ae(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ae(r,e,n.max):Math.min(e,r)),e}function Tp(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function hk(e,{top:t,left:r,bottom:n,right:s}){return{x:Tp(e.x,r,s),y:Tp(e.y,t,n)}}function Pp(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function fk(e,t){return{x:Pp(e.x,t.x),y:Pp(e.y,t.y)}}function pk(e,t){let r=.5;const n=lt(e),s=lt(t);return s>n?r=Ni(t.min,t.max-n,e.min):n>s&&(r=Ni(e.min,e.max-s,t.min)),Rr(0,1,r)}function mk(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Ru=.35;function gk(e=Ru){return e===!1?e=0:e===!0&&(e=Ru),{x:Ap(e,"left","right"),y:Ap(e,"top","bottom")}}function Ap(e,t,r){return{min:Rp(e,t),max:Rp(e,r)}}function Rp(e,t){return typeof e=="number"?e:e[t]||0}const Op=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wn=()=>({x:Op(),y:Op()}),Ip=()=>({min:0,max:0}),me=()=>({x:Ip(),y:Ip()});function ht(e){return[e("x"),e("y")]}function Mv({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function yk({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function vk(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function gc(e){return e===void 0||e===1}function Ou({scale:e,scaleX:t,scaleY:r}){return!gc(e)||!gc(t)||!gc(r)}function Wr(e){return Ou(e)||Uv(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Uv(e){return Lp(e.x)||Lp(e.y)}function Lp(e){return e&&e!=="0%"}function Pa(e,t,r){const n=e-r,s=t*n;return r+s}function Dp(e,t,r,n,s){return s!==void 0&&(e=Pa(e,s,n)),Pa(e,r,n)+t}function Iu(e,t=0,r=1,n,s){e.min=Dp(e.min,t,r,n,s),e.max=Dp(e.max,t,r,n,s)}function $v(e,{x:t,y:r}){Iu(e.x,t.translate,t.scale,t.originPoint),Iu(e.y,r.translate,r.scale,r.originPoint)}function xk(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=r[a],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Kn(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,$v(e,o)),n&&Wr(i.latestValues)&&Kn(e,i.latestValues))}t.x=Mp(t.x),t.y=Mp(t.y)}function Mp(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function hr(e,t){e.min=e.min+t,e.max=e.max+t}function Up(e,t,[r,n,s]){const i=t[s]!==void 0?t[s]:.5,o=ae(e.min,e.max,i);Iu(e,t[r],t[n],o,t.scale)}const wk=["x","scaleX","originX"],bk=["y","scaleY","originY"];function Kn(e,t){Up(e.x,t,wk),Up(e.y,t,bk)}function Fv(e,t){return Mv(vk(e.getBoundingClientRect(),t))}function jk(e,t,r){const n=Fv(e,r),{scroll:s}=t;return s&&(hr(n.x,s.offset.x),hr(n.y,s.offset.y)),n}const Vv=({current:e})=>e?e.ownerDocument.defaultView:null,Sk=new WeakMap;class _k{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=me(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ml(d,"page").point)},i=(d,h)=>{const{drag:f,dragPropagation:y,onDragStart:m}=this.getProps();if(f&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ev(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ht(x=>{let p=this.getAxisMotionValue(x).get()||0;if(Vt.test(p)){const{projection:g}=this.visualElement;if(g&&g.layout){const v=g.layout.layoutBox[x];v&&(p=lt(v)*(parseFloat(p)/100))}}this.originPoint[x]=p}),m&&te.update(()=>m(d,h),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:y,onDirectionLock:m,onDrag:w}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:x}=h;if(y&&this.currentDirection===null){this.currentDirection=Ek(x),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),w&&w(d,h)},a=(d,h)=>this.stop(d,h),c=()=>ht(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Lv(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Vv(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&te.update(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!wo(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=dk(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Hn(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=hk(s.layoutBox,r):this.constraints=!1,this.elastic=gk(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ht(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=mk(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Hn(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=jk(n,s.root,this.visualElement.getTransformPagePoint());let o=fk(s.layout.layoutBox,i);if(r){const a=r(yk(o));this.hasMutatedConstraints=!!a,a&&(o=Mv(a))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=ht(d=>{if(!wo(d,r,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,y=s?40:1e7,m={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,m)});return Promise.all(u).then(a)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(bh(t,n,0,r))}stopAnimation(){ht(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ht(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ht(r=>{const{drag:n}=this.getProps();if(!wo(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[r];i.set(t[r]-ae(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Hn(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ht(o=>{const a=this.getAxisMotionValue(o);if(a){const c=a.get();s[o]=pk({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ht(o=>{if(!wo(o,t,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(ae(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;Sk.set(this.visualElement,this);const t=this.visualElement.current,r=Yt(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Hn(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const o=Jt(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ht(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Ru,dragMomentum:a=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function wo(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Ek(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class kk extends Mr{constructor(t){super(t),this.removeGroupControls=fe,this.removeListeners=fe,this.controls=new _k(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fe}unmount(){this.removeGroupControls(),this.removeListeners()}}const $p=e=>(t,r)=>{e&&te.update(()=>e(t,r))};class Nk extends Mr{constructor(){super(...arguments),this.removePointerDownListener=fe}onPointerDown(t){this.session=new Lv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Vv(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:$p(t),onStart:$p(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&te.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Yt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Ck(){const e=S.useContext(ul);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=S.useId();return S.useEffect(()=>n(s),[]),!t&&r?[!1,()=>r&&r(s)]:[!0]}const qo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Fp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ms={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($.test(e))e=parseFloat(e);else return e;const r=Fp(e,t.target.x),n=Fp(e,t.target.y);return`${r}% ${n}%`}},Tk={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Or.parse(e);if(s.length>5)return n;const i=Or.createTransformer(e),o=typeof s[0]!="number"?1:0,a=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=a,s[1+o]/=c;const u=ae(a,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class Pk extends Ii.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;MS(Ak),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),qo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||te.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Bv(e){const[t,r]=Ck(),n=S.useContext(ah);return Ii.createElement(Pk,{...e,layoutGroup:n,switchLayoutGroup:S.useContext(M0),isPresent:t,safeToRemove:r})}const Ak={borderRadius:{...Ms,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ms,borderTopRightRadius:Ms,borderBottomLeftRadius:Ms,borderBottomRightRadius:Ms,boxShadow:Tk},zv=["TopLeft","TopRight","BottomLeft","BottomRight"],Rk=zv.length,Vp=e=>typeof e=="string"?parseFloat(e):e,Bp=e=>typeof e=="number"||$.test(e);function Ok(e,t,r,n,s,i){s?(e.opacity=ae(0,r.opacity!==void 0?r.opacity:1,Ik(n)),e.opacityExit=ae(t.opacity!==void 0?t.opacity:1,0,Lk(n))):i&&(e.opacity=ae(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<Rk;o++){const a=`border${zv[o]}Radius`;let c=zp(t,a),u=zp(r,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Bp(c)===Bp(u)?(e[a]=Math.max(ae(Vp(c),Vp(u),n),0),(Vt.test(u)||Vt.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||r.rotate)&&(e.rotate=ae(t.rotate||0,r.rotate||0,n))}function zp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Ik=Hv(0,.5,hv),Lk=Hv(.5,.95,fe);function Hv(e,t,r){return n=>n<e?0:n>t?1:r(Ni(e,t,n))}function Hp(e,t){e.min=t.min,e.max=t.max}function dt(e,t){Hp(e.x,t.x),Hp(e.y,t.y)}function qp(e,t,r,n,s){return e-=t,e=Pa(e,1/r,n),s!==void 0&&(e=Pa(e,1/s,n)),e}function Dk(e,t=0,r=1,n=.5,s,i=e,o=e){if(Vt.test(t)&&(t=parseFloat(t),t=ae(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=ae(i.min,i.max,n);e===i&&(a-=t),e.min=qp(e.min,t,r,a,s),e.max=qp(e.max,t,r,a,s)}function Wp(e,t,[r,n,s],i,o){Dk(e,t[r],t[n],t[s],t.scale,i,o)}const Mk=["x","scaleX","originX"],Uk=["y","scaleY","originY"];function Kp(e,t,r,n){Wp(e.x,t,Mk,r?r.x:void 0,n?n.x:void 0),Wp(e.y,t,Uk,r?r.y:void 0,n?n.y:void 0)}function Gp(e){return e.translate===0&&e.scale===1}function qv(e){return Gp(e.x)&&Gp(e.y)}function $k(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Wv(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Jp(e){return lt(e.x)/lt(e.y)}class Fk{constructor(){this.members=[]}add(t){jh(this.members,t),t.scheduleRender()}remove(t){if(Sh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Xp(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(n=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:u,rotateY:d}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(n+=`scale(${o}, ${a})`),n||"none"}const Vk=(e,t)=>e.depth-t.depth;class Bk{constructor(){this.children=[],this.isDirty=!1}add(t){jh(this.children,t),this.isDirty=!0}remove(t){Sh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Vk),this.isDirty=!1,this.children.forEach(t)}}function zk(e,t){const r=performance.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(sr(n),e(i-t))};return te.read(n,!0),()=>sr(n)}function Hk(e){window.MotionDebug&&window.MotionDebug.record(e)}function qk(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Wk(e,t,r){const n=et(e)?e:us(e);return n.start(bh("",n,t,r)),n.animation}const Qp=["","X","Y","Z"],Kk={visibility:"hidden"},Yp=1e3;let Gk=0;const Kr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Kv({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=Gk++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Kr.totalNodes=Kr.resolvedTargetDeltas=Kr.recalculatedProjection=0,this.nodes.forEach(Qk),this.nodes.forEach(rN),this.nodes.forEach(nN),this.nodes.forEach(Yk),Hk(Kr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Bk)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new _h),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=qk(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=zk(f,250),qo.hasAnimatedSinceResize&&(qo.hasAnimatedSinceResize=!1,this.nodes.forEach(em))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:y,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||lN,{onLayoutAnimationStart:x,onLayoutAnimationComplete:p}=d.getProps(),g=!this.targetLayout||!Wv(this.targetLayout,m)||y,v=!f&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,v);const b={...wh(w,"layout"),onPlay:x,onComplete:p};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||em(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,sr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sN),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zp);return}this.isUpdating||this.nodes.forEach(eN),this.isUpdating=!1,this.nodes.forEach(tN),this.nodes.forEach(Jk),this.nodes.forEach(Xk),this.clearAllSnapshots();const a=performance.now();Re.delta=Rr(0,1e3/60,a-Re.timestamp),Re.timestamp=a,Re.isProcessing=!0,oc.update.process(Re),oc.preRender.process(Re),oc.render.process(Re),Re.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Zk),this.sharedNodes.forEach(iN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=me(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!qv(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||Wr(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),cN(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return me();const a=o.measureViewportBox(),{scroll:c}=this.root;return c&&(hr(a.x,c.offset.x),hr(a.y,c.offset.y)),a}removeElementScroll(o){const a=me();dt(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){dt(a,o);const{scroll:f}=this.root;f&&(hr(a.x,-f.offset.x),hr(a.y,-f.offset.y))}hr(a.x,d.offset.x),hr(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const c=me();dt(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Kn(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Wr(d.latestValues)&&Kn(c,d.latestValues)}return Wr(this.latestValues)&&Kn(c,this.latestValues),c}removeTransform(o){const a=me();dt(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Wr(u.latestValues))continue;Ou(u.latestValues)&&u.updateSnapshot();const d=me(),h=u.measurePageBox();dt(d,h),Kp(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Wr(this.latestValues)&&Kp(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Re.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Re.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=me(),this.relativeTargetOrigin=me(),si(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),dt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=me(),this.targetWithTransforms=me()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dt(this.target,this.layout.layoutBox),$v(this.target,this.targetDelta)):dt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=me(),this.relativeTargetOrigin=me(),si(this.relativeTargetOrigin,this.target,y.target),dt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Kr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ou(this.parent.latestValues)||Uv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Re.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;dt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,y=this.treeScale.y;xk(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:m}=a;if(!m){this.projectionTransform&&(this.projectionDelta=Wn(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Wn(),this.projectionDeltaWithTransform=Wn());const w=this.projectionTransform;ni(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=Xp(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==f||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Kr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Wn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=me(),y=c?c.source:void 0,m=this.layout?this.layout.source:void 0,w=y!==m,x=this.getStack(),p=!x||x.members.length<=1,g=!!(w&&!p&&this.options.crossfade===!0&&!this.path.some(aN));this.animationProgress=0;let v;this.mixTargetDelta=b=>{const E=b/1e3;tm(h.x,o.x,E),tm(h.y,o.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(si(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oN(this.relativeTarget,this.relativeTargetOrigin,f,E),v&&$k(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=me()),dt(v,this.relativeTarget)),w&&(this.animationValues=d,Ok(d,u,this.latestValues,E,g,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(sr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=te.update(()=>{qo.hasAnimatedSinceResize=!0,this.currentAnimation=Wk(0,Yp,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&Gv(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||me();const h=lt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=lt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}dt(a,c),Kn(a,d),ni(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Fk),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<Qp.length;d++){const h="rotate"+Qp[d];c[h]&&(u[h]=c[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Kk;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ho(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Ho(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Wr(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Xp(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:y,y:m}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${m.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in Sa){if(f[w]===void 0)continue;const{correct:x,applyTo:p}=Sa[w],g=u.transform==="none"?f[w]:x(f[w],h);if(p){const v=p.length;for(let b=0;b<v;b++)u[p[b]]=g}else u[w]=g}return this.options.layoutId&&(u.pointerEvents=h===this?Ho(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Zp),this.root.sharedNodes.clear()}}}function Jk(e){e.updateLayout()}function Xk(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?ht(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],y=lt(f);f.min=n[h].min,f.max=f.min+y}):Gv(i,r.layoutBox,n)&&ht(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],y=lt(n[h]);f.max=f.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+y)});const a=Wn();ni(a,n,r.layoutBox);const c=Wn();o?ni(c,e.applyTransform(s,!0),r.measuredBox):ni(c,n,r.layoutBox);const u=!qv(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:y}=h;if(f&&y){const m=me();si(m,r.layoutBox,f.layoutBox);const w=me();si(w,n,y.layoutBox),Wv(m,w)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=m,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Qk(e){Kr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Yk(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Zk(e){e.clearSnapshot()}function Zp(e){e.clearMeasurements()}function eN(e){e.isLayoutDirty=!1}function tN(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function em(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function rN(e){e.resolveTargetDelta()}function nN(e){e.calcProjection()}function sN(e){e.resetRotation()}function iN(e){e.removeLeadSnapshot()}function tm(e,t,r){e.translate=ae(t.translate,0,r),e.scale=ae(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function rm(e,t,r,n){e.min=ae(t.min,r.min,n),e.max=ae(t.max,r.max,n)}function oN(e,t,r,n){rm(e.x,t.x,r.x,n),rm(e.y,t.y,r.y,n)}function aN(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const lN={duration:.45,ease:[.4,0,.1,1]},nm=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),sm=nm("applewebkit/")&&!nm("chrome/")?Math.round:fe;function im(e){e.min=sm(e.min),e.max=sm(e.max)}function cN(e){im(e.x),im(e.y)}function Gv(e,t,r){return e==="position"||e==="preserve-aspect"&&!Au(Jp(t),Jp(r),.2)}const uN=Kv({attachResizeListener:(e,t)=>Jt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yc={current:void 0},Jv=Kv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!yc.current){const e=new uN({});e.mount(window),e.setOptions({layoutScroll:!0}),yc.current=e}return yc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),dN={pan:{Feature:Nk},drag:{Feature:kk,ProjectionNode:Jv,MeasureLayout:Bv}},hN=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function fN(e){const t=hN.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function Lu(e,t,r=1){const[n,s]=fN(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return Av(o)?parseFloat(o):o}else return _u(s)?Lu(s,t,r+1):s}function pN(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(s=>{const i=s.get();if(!_u(i))return;const o=Lu(i,n);o&&s.set(o)});for(const s in t){const i=t[s];if(!_u(i))continue;const o=Lu(i,n);o&&(t[s]=o,r||(r={}),r[s]===void 0&&(r[s]=i))}return{target:t,transitionEnd:r}}const mN=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Xv=e=>mN.has(e),gN=e=>Object.keys(e).some(Xv),om=e=>e===jn||e===$,am=(e,t)=>parseFloat(e.split(", ")[t]),lm=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return am(s[1],t);{const i=n.match(/^matrix\((.+)\)$/);return i?am(i[1],e):0}},yN=new Set(["x","y","z"]),vN=Vi.filter(e=>!yN.has(e));function xN(e){const t=[];return vN.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const ds={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:lm(4,13),y:lm(5,14)};ds.translateX=ds.x;ds.translateY=ds.y;const wN=(e,t,r)=>{const n=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(u=>{a[u]=ds[u](n,i)}),t.render();const c=t.measureViewportBox();return r.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=ds[u](c,i)}),e},bN=(e,t,r={},n={})=>{t={...t},n={...n};const s=Object.keys(t).filter(Xv);let i=[],o=!1;const a=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=r[c],h=Ds(d);const f=t[c];let y;if(Ea(f)){const m=f.length,w=f[0]===null?1:0;d=f[w],h=Ds(d);for(let x=w;x<m&&f[x]!==null;x++)y?mh(Ds(f[x])===y):y=Ds(f[x])}else y=Ds(f);if(h!==y)if(om(h)&&om(y)){const m=u.get();typeof m=="string"&&u.set(parseFloat(m)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&y===$&&(t[c]=f.map(parseFloat))}else h!=null&&h.transform&&(y!=null&&y.transform)&&(d===0||f===0)?d===0?u.set(y.transform(d)):t[c]=h.transform(f):(o||(i=xN(e),o=!0),a.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(f))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,u=wN(t,e,a);return i.length&&i.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),dl&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function jN(e,t,r,n){return gN(t)?bN(e,t,r,n):{target:t,transitionEnd:n}}const SN=(e,t,r,n)=>{const s=pN(e,t,n);return t=s.target,n=s.transitionEnd,jN(e,t,r,n)},Du={current:null},Qv={current:!1};function _N(){if(Qv.current=!0,!!dl)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Du.current=e.matches;e.addListener(t),t()}else Du.current=!1}function EN(e,t,r){const{willChange:n}=t;for(const s in t){const i=t[s],o=r[s];if(et(i))e.addValue(s,i),Ta(n)&&n.add(s);else if(et(o))e.addValue(s,us(i,{owner:e})),Ta(n)&&n.remove(s);else if(o!==i)if(e.hasValue(s)){const a=e.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(s);e.addValue(s,us(a!==void 0?a:i,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const cm=new WeakMap,Yv=Object.keys(ki),kN=Yv.length,um=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],NN=oh.length;class CN{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>te.render(this.render,!1,!0);const{latestValues:a,renderState:c}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=r.initial?{...a}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=fl(r),this.isVariantNode=D0(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const h in d){const f=d[h];a[h]!==void 0&&et(f)&&(f.set(a[h],!1),Ta(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,cm.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Qv.current||_N(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Du.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){cm.delete(this.current),this.projection&&this.projection.unmount(),sr(this.notifyUpdate),sr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=bn.has(t),s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&te.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,s,i){let o,a;for(let c=0;c<kN;c++){const u=Yv[c],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:y}=ki[u];f&&(o=f),d(r)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),y&&(a=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:y}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||h&&Hn(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:y})}return a}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):me()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<um.length;n++){const s=um[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=EN(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<NN;n++){const s=oh[n],i=this.props[s];(Ei(i)||i===!1)&&(r[s]=i)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=us(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(r=ph(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!et(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new _h),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Zv extends CN{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:s},i){let o=qE(n,t||{},this);if(s&&(r&&(r=s(r)),n&&(n=s(n)),o&&(o=s(o))),i){zE(this,n,o);const a=SN(this,n,o,r);r=a.transitionEnd,n=a.target}return{transition:t,transitionEnd:r,...n}}}function TN(e){return window.getComputedStyle(e)}class PN extends Zv{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(bn.has(r)){const n=xh(r);return n&&n.default||0}else{const n=TN(t),s=(F0(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Fv(t,r)}build(t,r,n,s){ch(t,r,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,r){return fh(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;et(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,s){W0(t,r,n,s)}}class AN extends Zv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(bn.has(r)){const n=xh(r);return n&&n.default||0}return r=K0.has(r)?r:sh(r),t.getAttribute(r)}measureInstanceViewportBox(){return me()}scrapeMotionValuesFromProps(t,r){return J0(t,r)}build(t,r,n,s){dh(t,r,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,n,s){G0(t,r,n,s)}mount(t){this.isSVGTag=hh(t.tagName),super.mount(t)}}const RN=(e,t)=>lh(e)?new AN(t,{enableHardwareAcceleration:!1}):new PN(t,{enableHardwareAcceleration:!0}),ON={layout:{ProjectionNode:Jv,MeasureLayout:Bv}},IN={...ok,...k_,...dN,...ON},Y=LS((e,t)=>f_(e,t,IN,RN));function ex(){const e=S.useRef(!1);return nh(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function LN(){const e=ex(),[t,r]=S.useState(0),n=S.useCallback(()=>{e.current&&r(t+1)},[t]);return[S.useCallback(()=>te.postRender(n),[n]),t]}class DN extends S.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function MN({children:e,isPresent:t}){const r=S.useId(),n=S.useRef(null),s=S.useRef({width:0,height:0,top:0,left:0});return S.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:c}=s.current;if(t||!n.current||!i||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),S.createElement(DN,{isPresent:t,childRef:n,sizeRef:s},S.cloneElement(e,{ref:n}))}const vc=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=X0(UN),c=S.useId(),u=S.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:d=>{a.set(d,!0);for(const h of a.values())if(!h)return;n&&n()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[r]);return S.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[r]),S.useEffect(()=>{!r&&!a.size&&n&&n()},[r]),o==="popLayout"&&(e=S.createElement(MN,{isPresent:r},e)),S.createElement(ul.Provider,{value:u},e)};function UN(){return new Map}function $N(e){return S.useEffect(()=>()=>e(),[])}const Gr=e=>e.key||"";function FN(e,t){e.forEach(r=>{const n=Gr(r);t.set(n,r)})}function VN(e){const t=[];return S.Children.forEach(e,r=>{S.isValidElement(r)&&t.push(r)}),t}const BN=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=S.useContext(ah).forceRender||LN()[0],c=ex(),u=VN(e);let d=u;const h=S.useRef(new Map).current,f=S.useRef(d),y=S.useRef(new Map).current,m=S.useRef(!0);if(nh(()=>{m.current=!1,FN(u,y),f.current=d}),$N(()=>{m.current=!0,y.clear(),h.clear()}),m.current)return S.createElement(S.Fragment,null,d.map(g=>S.createElement(vc,{key:Gr(g),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:o},g)));d=[...d];const w=f.current.map(Gr),x=u.map(Gr),p=w.length;for(let g=0;g<p;g++){const v=w[g];x.indexOf(v)===-1&&!h.has(v)&&h.set(v,void 0)}return o==="wait"&&h.size&&(d=[]),h.forEach((g,v)=>{if(x.indexOf(v)!==-1)return;const b=y.get(v);if(!b)return;const E=w.indexOf(v);let _=g;if(!_){const j=()=>{h.delete(v);const k=Array.from(y.keys()).filter(C=>!x.includes(C));if(k.forEach(C=>y.delete(C)),f.current=u.filter(C=>{const A=Gr(C);return A===v||k.includes(A)}),!h.size){if(c.current===!1)return;a(),n&&n()}};_=S.createElement(vc,{key:Gr(b),isPresent:!1,onExitComplete:j,custom:t,presenceAffectsLayout:i,mode:o},b),h.set(v,_)}d.splice(E,0,_)}),d=d.map(g=>{const v=g.key;return h.has(v)?g:S.createElement(vc,{key:Gr(g),isPresent:!0,presenceAffectsLayout:i,mode:o},g)}),S.createElement(S.Fragment,null,h.size?d:d.map(g=>S.cloneElement(g)))};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),L=(e,t)=>{const r=S.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:c,...u},d)=>S.createElement("svg",{ref:d,...zN,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${HN(e)}`,a].join(" "),...u},[...t.map(([h,f])=>S.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=L("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=L("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=L("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=L("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=L("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=L("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=L("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=L("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=L("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=L("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=L("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=L("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=L("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=L("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=L("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=L("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=L("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=L("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=L("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=L("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=L("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=L("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=L("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=L("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=L("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=L("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=L("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=L("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=L("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=L("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=L("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=L("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=L("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=L("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=L("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=L("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=L("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=L("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=L("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=L("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=L("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=L("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=L("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=L("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=L("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=L("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=L("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=L("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=L("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=L("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=L("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=L("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=L("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=L("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=L("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vm={en:{appName:"Echomed Africa",onboarding1:"Consult with a doctor from anywhere in Ghana.",onboarding2:"Pay with Mobile Money or book home visits.",onboarding3:"Use voice notes if typing is hard.",getStarted:"Get Started",phoneNumber:"Phone Number",enterPhone:"Enter your phone number",verifyOTP:"Verify OTP",enterOTP:"Enter the code sent to your phone",referralCode:"Referral Code (Optional)",fullName:"Full Name",gender:"Gender",age:"Age",location:"Location",preferredLanguage:"Preferred Language",male:"Male",female:"Female",other:"Other",consultNow:"Consult a Doctor Now",scheduleVisit:"Schedule Home Visit",myPrescriptions:"My Prescriptions",healthRecords:"My Health Records",menstrualTracker:"Menstrual Tracker",psychConsult:"Psychological Consult",recoveryPrograms:"Recovery Retreats & Programs",freeConsultPromo:"Free consultation for new users!",videoCall:"Video Call",voiceCall:"Voice Call",textChat:"Text Chat",voiceNote:"Send Voice Note",general:"General",womensHealth:"Women's Health",pediatrics:"Pediatrics",dermatology:"Skin Care",mentalHealth:"Mental Health",typeMessage:"Type a message...",next:"Next",back:"Back",save:"Save",cancel:"Cancel",confirm:"Confirm",loading:"Loading...",error:"Something went wrong",success:"Success!",dailyTip:"Daily Health Tip",learnMore:"Learn More"},tw:{appName:"Echomed Africa",onboarding1:"Kasa ne dkta bi w baabiara w Ghana.",onboarding2:"Tua ka denam Mobile Money so anaa hy fie akhw.",onboarding3:"Fa nne nkrataa di dwuma s kyerw y den a.",getStarted:"Fi Ase",consultNow:"Kasa ne Dkta Seesei",typeMessage:"Kyerw nkrasm..."},ee:{appName:"Echomed Africa",onboarding1:"o nu kple dokta ae tso Ghana e afisiafi.",getStarted:"Dze Egme",typeMessage:"l nya ae..."},ga:{appName:"Echomed Africa",onboarding1:"K dokta ko l Ghana afee k.",getStarted:"B L",typeMessage:"maa numo..."},ha:{appName:"Echomed Africa",onboarding1:"Yi magana da likita daga ko'ina a Ghana.",getStarted:"Fara",typeMessage:"Rubuta sao..."}};function mt(e,t){var r;return((r=vm[t])==null?void 0:r[e])||vm.en[e]||e}function pC(){const{state:e,dispatch:t}=wt(),r=Me();S.useEffect(()=>{const i=setTimeout(()=>{r("/onboarding")},3e3);return()=>clearTimeout(i)},[r]);const n=i=>{t({type:"SET_LANGUAGE",payload:i})},s=[{code:"en",name:"English"},{code:"tw",name:"Twi"},{code:"ee",name:"Ewe"},{code:"ga",name:"Ga"},{code:"ha",name:"Hausa"}];return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-500 via-teal-600 to-cyan-700 flex flex-col items-center justify-center p-6",children:[l.jsxs(Y.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,ease:"easeOut"},className:"text-center mb-12",children:[l.jsxs("div",{className:"relative mb-6",children:[l.jsx(Y.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute inset-0 w-24 h-24 mx-auto",children:l.jsx(ox,{className:"w-24 h-24 text-white/20"})}),l.jsx(kh,{className:"w-24 h-24 text-white mx-auto relative z-10"})]}),l.jsx(Y.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.6},className:"text-4xl font-bold text-white mb-2",children:mt("appName",e.currentLanguage)}),l.jsx(Y.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.6},className:"text-white/90 text-lg",children:"Healthcare for Everyone"})]}),l.jsxs(Y.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:1,duration:.6},className:"w-full max-w-sm",children:[l.jsx("h2",{className:"text-white text-center mb-4 font-semibold",children:"Select Language"}),l.jsx("div",{className:"space-y-3",children:s.map(i=>l.jsx(Y.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n(i.code),className:`w-full p-4 rounded-xl text-left transition-all duration-200 ${e.currentLanguage===i.code?"bg-white text-emerald-600 shadow-lg":"bg-white/10 text-white hover:bg-white/20"}`,children:l.jsx("span",{className:"font-medium",children:i.name})},i.code))})]}),l.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2,duration:.5},className:"absolute bottom-8 flex space-x-2",children:[0,1,2].map(i=>l.jsx(Y.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,delay:i*.2},className:"w-2 h-2 bg-white/60 rounded-full"},i))})]})}const En=[{icon:wl,titleKey:"onboarding1",image:"https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=800"},{icon:rx,titleKey:"onboarding2",image:"https://images.pexels.com/photos/4386321/pexels-photo-4386321.jpeg?auto=compress&cs=tinysrgb&w=800"},{icon:Ch,titleKey:"onboarding3",image:"https://images.pexels.com/photos/7579831/pexels-photo-7579831.jpeg?auto=compress&cs=tinysrgb&w=800"}];function mC(){const{state:e}=wt(),t=Me(),[r,n]=S.useState(0),s=()=>{r<En.length-1?n(r+1):t("/auth")},i=()=>{r>0&&n(r-1)},o=()=>{t("/auth")};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50 flex flex-col",children:[l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6",children:[l.jsx(BN,{mode:"wait",children:l.jsxs(Y.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.5},className:"text-center max-w-sm w-full",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"w-64 h-64 mx-auto mb-6 rounded-2xl overflow-hidden shadow-2xl",children:l.jsx("img",{src:En[r].image,alt:"Onboarding",className:"w-full h-full object-cover"})}),l.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-emerald-100 rounded-full flex items-center justify-center",children:Ii.createElement(En[r].icon,{className:"w-8 h-8 text-emerald-600"})})]}),l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 leading-tight",children:mt(En[r].titleKey,e.currentLanguage)})]},r)}),l.jsx("div",{className:"flex space-x-2 mb-8",children:En.map((a,c)=>l.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-300 ${c===r?"bg-emerald-500 w-8":"bg-gray-300"}`},c))})]}),l.jsxs("div",{className:"p-6 flex items-center justify-between",children:[l.jsx("button",{onClick:i,disabled:r===0,className:`p-3 rounded-full transition-all duration-200 ${r===0?"text-gray-400 cursor-not-allowed":"text-emerald-600 hover:bg-emerald-50"}`,children:l.jsx(JN,{className:"w-6 h-6"})}),l.jsx("button",{onClick:o,className:"text-gray-500 hover:text-gray-700 transition-colors duration-200",children:"Skip"}),l.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s,className:"bg-emerald-500 text-white p-3 rounded-full hover:bg-emerald-600 transition-colors duration-200 shadow-lg",children:r===En.length-1?l.jsx("span",{className:"px-4 font-medium",children:mt("getStarted",e.currentLanguage)}):l.jsx(XN,{className:"w-6 h-6"})})]})]})}function ax(e,t){return function(){return e.apply(t,arguments)}}const{toString:gC}=Object.prototype,{getPrototypeOf:Th}=Object,{iterator:bl,toStringTag:lx}=Symbol,jl=(e=>t=>{const r=gC.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ot=e=>(e=e.toLowerCase(),t=>jl(t)===e),Sl=e=>t=>typeof t===e,{isArray:Ss}=Array,ps=Sl("undefined");function Wi(e){return e!==null&&!ps(e)&&e.constructor!==null&&!ps(e.constructor)&&Ye(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const cx=Ot("ArrayBuffer");function yC(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&cx(e.buffer),t}const vC=Sl("string"),Ye=Sl("function"),ux=Sl("number"),Ki=e=>e!==null&&typeof e=="object",xC=e=>e===!0||e===!1,Wo=e=>{if(jl(e)!=="object")return!1;const t=Th(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(lx in e)&&!(bl in e)},wC=e=>{if(!Ki(e)||Wi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},bC=Ot("Date"),jC=Ot("File"),SC=Ot("Blob"),_C=Ot("FileList"),EC=e=>Ki(e)&&Ye(e.pipe),kC=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ye(e.append)&&((t=jl(e))==="formdata"||t==="object"&&Ye(e.toString)&&e.toString()==="[object FormData]"))},NC=Ot("URLSearchParams"),[CC,TC,PC,AC]=["ReadableStream","Request","Response","Headers"].map(Ot),RC=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gi(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Ss(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Wi(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(n=0;n<o;n++)a=i[n],t.call(null,e[a],a,e)}}function dx(e,t){if(Wi(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const sn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,hx=e=>!ps(e)&&e!==sn;function Uu(){const{caseless:e,skipUndefined:t}=hx(this)&&this||{},r={},n=(s,i)=>{const o=e&&dx(r,i)||i;Wo(r[o])&&Wo(s)?r[o]=Uu(r[o],s):Wo(s)?r[o]=Uu({},s):Ss(s)?r[o]=s.slice():(!t||!ps(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Gi(arguments[s],n);return r}const OC=(e,t,r,{allOwnKeys:n}={})=>(Gi(t,(s,i)=>{r&&Ye(s)?e[i]=ax(s,r):e[i]=s},{allOwnKeys:n}),e),IC=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),LC=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},DC=(e,t,r,n)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=r!==!1&&Th(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},MC=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},UC=e=>{if(!e)return null;if(Ss(e))return e;let t=e.length;if(!ux(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},$C=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Th(Uint8Array)),FC=(e,t)=>{const n=(e&&e[bl]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},VC=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},BC=Ot("HTMLFormElement"),zC=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),xm=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),HC=Ot("RegExp"),fx=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Gi(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},qC=e=>{fx(e,(t,r)=>{if(Ye(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ye(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},WC=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Ss(e)?n(e):n(String(e).split(t)),r},KC=()=>{},GC=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function JC(e){return!!(e&&Ye(e.append)&&e[lx]==="FormData"&&e[bl])}const XC=e=>{const t=new Array(10),r=(n,s)=>{if(Ki(n)){if(t.indexOf(n)>=0)return;if(Wi(n))return n;if(!("toJSON"in n)){t[s]=n;const i=Ss(n)?[]:{};return Gi(n,(o,a)=>{const c=r(o,s+1);!ps(c)&&(i[a]=c)}),t[s]=void 0,i}}return n};return r(e,0)},QC=Ot("AsyncFunction"),YC=e=>e&&(Ki(e)||Ye(e))&&Ye(e.then)&&Ye(e.catch),px=((e,t)=>e?setImmediate:t?((r,n)=>(sn.addEventListener("message",({source:s,data:i})=>{s===sn&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),sn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ye(sn.postMessage)),ZC=typeof queueMicrotask<"u"?queueMicrotask.bind(sn):typeof process<"u"&&process.nextTick||px,eT=e=>e!=null&&Ye(e[bl]),N={isArray:Ss,isArrayBuffer:cx,isBuffer:Wi,isFormData:kC,isArrayBufferView:yC,isString:vC,isNumber:ux,isBoolean:xC,isObject:Ki,isPlainObject:Wo,isEmptyObject:wC,isReadableStream:CC,isRequest:TC,isResponse:PC,isHeaders:AC,isUndefined:ps,isDate:bC,isFile:jC,isBlob:SC,isRegExp:HC,isFunction:Ye,isStream:EC,isURLSearchParams:NC,isTypedArray:$C,isFileList:_C,forEach:Gi,merge:Uu,extend:OC,trim:RC,stripBOM:IC,inherits:LC,toFlatObject:DC,kindOf:jl,kindOfTest:Ot,endsWith:MC,toArray:UC,forEachEntry:FC,matchAll:VC,isHTMLForm:BC,hasOwnProperty:xm,hasOwnProp:xm,reduceDescriptors:fx,freezeMethods:qC,toObjectSet:WC,toCamelCase:zC,noop:KC,toFiniteNumber:GC,findKey:dx,global:sn,isContextDefined:hx,isSpecCompliantForm:JC,toJSONObject:XC,isAsyncFn:QC,isThenable:YC,setImmediate:px,asap:ZC,isIterable:eT};function V(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}N.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.status}}});const mx=V.prototype,gx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{gx[e]={value:e}});Object.defineProperties(V,gx);Object.defineProperty(mx,"isAxiosError",{value:!0});V.from=(e,t,r,n,s,i)=>{const o=Object.create(mx);N.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const a=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return V.call(o,a,c,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const tT=null;function $u(e){return N.isPlainObject(e)||N.isArray(e)}function yx(e){return N.endsWith(e,"[]")?e.slice(0,-2):e}function wm(e,t,r){return e?e.concat(t).map(function(s,i){return s=yx(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function rT(e){return N.isArray(e)&&!e.some($u)}const nT=N.toFlatObject(N,{},null,function(t){return/^is[A-Z]/.test(t)});function _l(e,t,r){if(!N.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=N.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,x){return!N.isUndefined(x[w])});const n=r.metaTokens,s=r.visitor||d,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(t);if(!N.isFunction(s))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(N.isDate(m))return m.toISOString();if(N.isBoolean(m))return m.toString();if(!c&&N.isBlob(m))throw new V("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(m)||N.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,w,x){let p=m;if(m&&!x&&typeof m=="object"){if(N.endsWith(w,"{}"))w=n?w:w.slice(0,-2),m=JSON.stringify(m);else if(N.isArray(m)&&rT(m)||(N.isFileList(m)||N.endsWith(w,"[]"))&&(p=N.toArray(m)))return w=yx(w),p.forEach(function(v,b){!(N.isUndefined(v)||v===null)&&t.append(o===!0?wm([w],b,i):o===null?w:w+"[]",u(v))}),!1}return $u(m)?!0:(t.append(wm(x,w,i),u(m)),!1)}const h=[],f=Object.assign(nT,{defaultVisitor:d,convertValue:u,isVisitable:$u});function y(m,w){if(!N.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+w.join("."));h.push(m),N.forEach(m,function(p,g){(!(N.isUndefined(p)||p===null)&&s.call(t,p,N.isString(g)?g.trim():g,w,f))===!0&&y(p,w?w.concat(g):[g])}),h.pop()}}if(!N.isObject(e))throw new TypeError("data must be an object");return y(e),t}function bm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Ph(e,t){this._pairs=[],e&&_l(e,this,t)}const vx=Ph.prototype;vx.append=function(t,r){this._pairs.push([t,r])};vx.toString=function(t){const r=t?function(n){return t.call(this,n,bm)}:bm;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function sT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function xx(e,t,r){if(!t)return e;const n=r&&r.encode||sT;N.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=N.isURLSearchParams(t)?t.toString():new Ph(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class jm{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){N.forEach(this.handlers,function(n){n!==null&&t(n)})}}const wx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},iT=typeof URLSearchParams<"u"?URLSearchParams:Ph,oT=typeof FormData<"u"?FormData:null,aT=typeof Blob<"u"?Blob:null,lT={isBrowser:!0,classes:{URLSearchParams:iT,FormData:oT,Blob:aT},protocols:["http","https","file","blob","url","data"]},Ah=typeof window<"u"&&typeof document<"u",Fu=typeof navigator=="object"&&navigator||void 0,cT=Ah&&(!Fu||["ReactNative","NativeScript","NS"].indexOf(Fu.product)<0),uT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dT=Ah&&window.location.href||"http://localhost",hT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ah,hasStandardBrowserEnv:cT,hasStandardBrowserWebWorkerEnv:uT,navigator:Fu,origin:dT},Symbol.toStringTag,{value:"Module"})),Le={...hT,...lT};function fT(e,t){return _l(e,new Le.classes.URLSearchParams,{visitor:function(r,n,s,i){return Le.isNode&&N.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function pT(e){return N.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function mT(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function bx(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=r.length;return o=!o&&N.isArray(s)?s.length:o,c?(N.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!a):((!s[o]||!N.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&N.isArray(s[o])&&(s[o]=mT(s[o])),!a)}if(N.isFormData(e)&&N.isFunction(e.entries)){const r={};return N.forEachEntry(e,(n,s)=>{t(pT(n),s,r,0)}),r}return null}function gT(e,t,r){if(N.isString(e))try{return(t||JSON.parse)(e),N.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Ji={transitional:wx,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=N.isObject(t);if(i&&N.isHTMLForm(t)&&(t=new FormData(t)),N.isFormData(t))return s?JSON.stringify(bx(t)):t;if(N.isArrayBuffer(t)||N.isBuffer(t)||N.isStream(t)||N.isFile(t)||N.isBlob(t)||N.isReadableStream(t))return t;if(N.isArrayBufferView(t))return t.buffer;if(N.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return fT(t,this.formSerializer).toString();if((a=N.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return _l(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),gT(t)):t}],transformResponse:[function(t){const r=this.transitional||Ji.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(N.isResponse(t)||N.isReadableStream(t))return t;if(t&&N.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?V.from(a,V.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Le.classes.FormData,Blob:Le.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],e=>{Ji.headers[e]={}});const yT=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vT=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&yT[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Sm=Symbol("internals");function Us(e){return e&&String(e).trim().toLowerCase()}function Ko(e){return e===!1||e==null?e:N.isArray(e)?e.map(Ko):String(e)}function xT(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const wT=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function xc(e,t,r,n,s){if(N.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!N.isString(t)){if(N.isString(n))return t.indexOf(n)!==-1;if(N.isRegExp(n))return n.test(t)}}function bT(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function jT(e,t){const r=N.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let Ze=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(a,c,u){const d=Us(c);if(!d)throw new Error("header name must be a non-empty string");const h=N.findKey(s,d);(!h||s[h]===void 0||u===!0||u===void 0&&s[h]!==!1)&&(s[h||c]=Ko(a))}const o=(a,c)=>N.forEach(a,(u,d)=>i(u,d,c));if(N.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(N.isString(t)&&(t=t.trim())&&!wT(t))o(vT(t),r);else if(N.isObject(t)&&N.isIterable(t)){let a={},c,u;for(const d of t){if(!N.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(c=a[u])?N.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(a,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Us(t),t){const n=N.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return xT(s);if(N.isFunction(r))return r.call(this,s,n);if(N.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Us(t),t){const n=N.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||xc(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=Us(o),o){const a=N.findKey(n,o);a&&(!r||xc(n,n[a],a,r))&&(delete n[a],s=!0)}}return N.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||xc(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return N.forEach(this,(s,i)=>{const o=N.findKey(n,i);if(o){r[o]=Ko(s),delete r[i];return}const a=t?bT(i):String(i).trim();a!==i&&delete r[i],r[a]=Ko(s),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return N.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&N.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[Sm]=this[Sm]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Us(o);n[a]||(jT(s,o),n[a]=!0)}return N.isArray(t)?t.forEach(i):i(t),this}};Ze.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(Ze.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});N.freezeMethods(Ze);function wc(e,t){const r=this||Ji,n=t||r,s=Ze.from(n.headers);let i=n.data;return N.forEach(e,function(a){i=a.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function jx(e){return!!(e&&e.__CANCEL__)}function _s(e,t,r){V.call(this,e??"canceled",V.ERR_CANCELED,t,r),this.name="CanceledError"}N.inherits(_s,V,{__CANCEL__:!0});function Sx(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new V("Request failed with status code "+r.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ST(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function _T(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[i];o||(o=u),r[s]=c,n[s]=u;let h=i,f=0;for(;h!==s;)f+=r[h++],h=h%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const y=d&&u-d;return y?Math.round(f*1e3/y):void 0}}function ET(e,t){let r=0,n=1e3/t,s,i;const o=(u,d=Date.now())=>{r=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=n?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},n-h)))},()=>s&&o(s)]}const Oa=(e,t,r=3)=>{let n=0;const s=_T(50,250);return ET(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-n,u=s(c),d=o<=a;n=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(h)},r)},_m=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Em=e=>(...t)=>N.asap(()=>e(...t)),kT=Le.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Le.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Le.origin),Le.navigator&&/(msie|trident)/i.test(Le.navigator.userAgent)):()=>!0,NT=Le.hasStandardBrowserEnv?{write(e,t,r,n,s,i,o){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];N.isNumber(r)&&a.push(`expires=${new Date(r).toUTCString()}`),N.isString(n)&&a.push(`path=${n}`),N.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),N.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function CT(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function TT(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function _x(e,t,r){let n=!CT(t);return e&&(n||r==!1)?TT(e,t):t}const km=e=>e instanceof Ze?{...e}:e;function yn(e,t){t=t||{};const r={};function n(u,d,h,f){return N.isPlainObject(u)&&N.isPlainObject(d)?N.merge.call({caseless:f},u,d):N.isPlainObject(d)?N.merge({},d):N.isArray(d)?d.slice():d}function s(u,d,h,f){if(N.isUndefined(d)){if(!N.isUndefined(u))return n(void 0,u,h,f)}else return n(u,d,h,f)}function i(u,d){if(!N.isUndefined(d))return n(void 0,d)}function o(u,d){if(N.isUndefined(d)){if(!N.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function a(u,d,h){if(h in t)return n(u,d);if(h in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,h)=>s(km(u),km(d),h,!0)};return N.forEach(Object.keys({...e,...t}),function(d){const h=c[d]||s,f=h(e[d],t[d],d);N.isUndefined(f)&&h!==a||(r[d]=f)}),r}const Ex=e=>{const t=yn({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;if(t.headers=o=Ze.from(o),t.url=xx(_x(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),N.isFormData(r)){if(Le.hasStandardBrowserEnv||Le.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(N.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{u.includes(d.toLowerCase())&&o.set(d,h)})}}if(Le.hasStandardBrowserEnv&&(n&&N.isFunction(n)&&(n=n(t)),n||n!==!1&&kT(t.url))){const c=s&&i&&NT.read(i);c&&o.set(s,c)}return t},PT=typeof XMLHttpRequest<"u",AT=PT&&function(e){return new Promise(function(r,n){const s=Ex(e);let i=s.data;const o=Ze.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=s,d,h,f,y,m;function w(){y&&y(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function p(){if(!x)return;const v=Ze.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:v,config:e,request:x};Sx(function(j){r(j),w()},function(j){n(j),w()},E),x=null}"onloadend"in x?x.onloadend=p:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(p)},x.onabort=function(){x&&(n(new V("Request aborted",V.ECONNABORTED,e,x)),x=null)},x.onerror=function(b){const E=b&&b.message?b.message:"Network Error",_=new V(E,V.ERR_NETWORK,e,x);_.event=b||null,n(_),x=null},x.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||wx;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),n(new V(b,E.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,e,x)),x=null},i===void 0&&o.setContentType(null),"setRequestHeader"in x&&N.forEach(o.toJSON(),function(b,E){x.setRequestHeader(E,b)}),N.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),a&&a!=="json"&&(x.responseType=s.responseType),u&&([f,m]=Oa(u,!0),x.addEventListener("progress",f)),c&&x.upload&&([h,y]=Oa(c),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(d=v=>{x&&(n(!v||v.type?new _s(null,e,x):v),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const g=ST(s.url);if(g&&Le.protocols.indexOf(g)===-1){n(new V("Unsupported protocol "+g+":",V.ERR_BAD_REQUEST,e));return}x.send(i||null)})},RT=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,a();const d=u instanceof Error?u:this.reason;n.abort(d instanceof V?d:new _s(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new V(`timeout ${t} of ms exceeded`,V.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>N.asap(a),c}},OT=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},IT=async function*(e,t){for await(const r of LT(e))yield*OT(r,t)},LT=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Nm=(e,t,r,n)=>{const s=IT(e,t);let i=0,o,a=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){a(),c.close();return}let h=d.byteLength;if(r){let f=i+=h;r(f)}c.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},Cm=64*1024,{isFunction:bo}=N,DT=(({Request:e,Response:t})=>({Request:e,Response:t}))(N.global),{ReadableStream:Tm,TextEncoder:Pm}=N.global,Am=(e,...t)=>{try{return!!e(...t)}catch{return!1}},MT=e=>{e=N.merge.call({skipUndefined:!0},DT,e);const{fetch:t,Request:r,Response:n}=e,s=t?bo(t):typeof fetch=="function",i=bo(r),o=bo(n);if(!s)return!1;const a=s&&bo(Tm),c=s&&(typeof Pm=="function"?(m=>w=>m.encode(w))(new Pm):async m=>new Uint8Array(await new r(m).arrayBuffer())),u=i&&a&&Am(()=>{let m=!1;const w=new r(Le.origin,{body:new Tm,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!w}),d=o&&a&&Am(()=>N.isReadableStream(new n("").body)),h={stream:d&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(w,x)=>{let p=w&&w[m];if(p)return p.call(w);throw new V(`Response type '${m}' is not supported`,V.ERR_NOT_SUPPORT,x)})});const f=async m=>{if(m==null)return 0;if(N.isBlob(m))return m.size;if(N.isSpecCompliantForm(m))return(await new r(Le.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(N.isArrayBufferView(m)||N.isArrayBuffer(m))return m.byteLength;if(N.isURLSearchParams(m)&&(m=m+""),N.isString(m))return(await c(m)).byteLength},y=async(m,w)=>{const x=N.toFiniteNumber(m.getContentLength());return x??f(w)};return async m=>{let{url:w,method:x,data:p,signal:g,cancelToken:v,timeout:b,onDownloadProgress:E,onUploadProgress:_,responseType:j,headers:k,withCredentials:C="same-origin",fetchOptions:A}=Ex(m),B=t||fetch;j=j?(j+"").toLowerCase():"text";let q=RT([g,v&&v.toAbortSignal()],b),J=null;const Q=q&&q.unsubscribe&&(()=>{q.unsubscribe()});let tt;try{if(_&&u&&x!=="get"&&x!=="head"&&(tt=await y(k,p))!==0){let D=new r(w,{method:"POST",body:p,duplex:"half"}),G;if(N.isFormData(p)&&(G=D.headers.get("content-type"))&&k.setContentType(G),D.body){const[bt,$e]=_m(tt,Oa(Em(_)));p=Nm(D.body,Cm,bt,$e)}}N.isString(C)||(C=C?"include":"omit");const H=i&&"credentials"in r.prototype,Ue={...A,signal:q,method:x.toUpperCase(),headers:k.normalize().toJSON(),body:p,duplex:"half",credentials:H?C:void 0};J=i&&new r(w,Ue);let P=await(i?B(J,A):B(w,Ue));const M=d&&(j==="stream"||j==="response");if(d&&(E||M&&Q)){const D={};["status","statusText","headers"].forEach(Ht=>{D[Ht]=P[Ht]});const G=N.toFiniteNumber(P.headers.get("content-length")),[bt,$e]=E&&_m(G,Oa(Em(E),!0))||[];P=new n(Nm(P.body,Cm,bt,()=>{$e&&$e(),Q&&Q()}),D)}j=j||"text";let F=await h[N.findKey(h,j)||"text"](P,m);return!M&&Q&&Q(),await new Promise((D,G)=>{Sx(D,G,{data:F,headers:Ze.from(P.headers),status:P.status,statusText:P.statusText,config:m,request:J})})}catch(H){throw Q&&Q(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new V("Network Error",V.ERR_NETWORK,m,J),{cause:H.cause||H}):V.from(H,H&&H.code,m,J)}}},UT=new Map,kx=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let o=i.length,a=o,c,u,d=UT;for(;a--;)c=i[a],u=d.get(c),u===void 0&&d.set(c,u=a?new Map:MT(t)),d=u;return u};kx();const Rh={http:tT,xhr:AT,fetch:{get:kx}};N.forEach(Rh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Rm=e=>`- ${e}`,$T=e=>N.isFunction(e)||e===null||e===!1;function FT(e,t){e=N.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let o=0;o<r;o++){n=e[o];let a;if(s=n,!$T(n)&&(s=Rh[(a=String(n)).toLowerCase()],s===void 0))throw new V(`Unknown adapter '${a}'`);if(s&&(N.isFunction(s)||(s=s.get(t))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=r?o.length>1?`since :
`+o.map(Rm).join(`
`):" "+Rm(o[0]):"as no adapter specified";throw new V("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const Nx={getAdapter:FT,adapters:Rh};function bc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _s(null,e)}function Om(e){return bc(e),e.headers=Ze.from(e.headers),e.data=wc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Nx.getAdapter(e.adapter||Ji.adapter,e)(e).then(function(n){return bc(e),n.data=wc.call(e,e.transformResponse,n),n.headers=Ze.from(n.headers),n},function(n){return jx(n)||(bc(e),n&&n.response&&(n.response.data=wc.call(e,e.transformResponse,n.response),n.response.headers=Ze.from(n.response.headers))),Promise.reject(n)})}const Cx="1.13.2",El={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{El[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Im={};El.transitional=function(t,r,n){function s(i,o){return"[Axios v"+Cx+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,a)=>{if(t===!1)throw new V(s(o," has been removed"+(r?" in "+r:"")),V.ERR_DEPRECATED);return r&&!Im[o]&&(Im[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,a):!0}};El.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function VT(e,t,r){if(typeof e!="object")throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const a=e[i],c=a===void 0||o(a,i,e);if(c!==!0)throw new V("option "+i+" must be "+c,V.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new V("Unknown option "+i,V.ERR_BAD_OPTION)}}const Go={assertOptions:VT,validators:El},Lt=Go.validators;let dn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new jm,response:new jm}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=yn(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&Go.assertOptions(n,{silentJSONParsing:Lt.transitional(Lt.boolean),forcedJSONParsing:Lt.transitional(Lt.boolean),clarifyTimeoutError:Lt.transitional(Lt.boolean)},!1),s!=null&&(N.isFunction(s)?r.paramsSerializer={serialize:s}:Go.assertOptions(s,{encode:Lt.function,serialize:Lt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Go.assertOptions(r,{baseUrl:Lt.spelling("baseURL"),withXsrfToken:Lt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&N.merge(i.common,i[r.method]);i&&N.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),r.headers=Ze.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(c=c&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let d,h=0,f;if(!c){const m=[Om.bind(this),void 0];for(m.unshift(...a),m.push(...u),f=m.length,d=Promise.resolve(r);h<f;)d=d.then(m[h++],m[h++]);return d}f=a.length;let y=r;for(;h<f;){const m=a[h++],w=a[h++];try{y=m(y)}catch(x){w.call(this,x);break}}try{d=Om.call(this,y)}catch(m){return Promise.reject(m)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=yn(this.defaults,t);const r=_x(t.baseURL,t.url,t.allowAbsoluteUrls);return xx(r,t.params,t.paramsSerializer)}};N.forEach(["delete","get","head","options"],function(t){dn.prototype[t]=function(r,n){return this.request(yn(n||{},{method:t,url:r,data:(n||{}).data}))}});N.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,a){return this.request(yn(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}dn.prototype[t]=r(),dn.prototype[t+"Form"]=r(!0)});let BT=class Tx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{n.subscribe(a),i=a}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,a){n.reason||(n.reason=new _s(i,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Tx(function(s){t=s}),cancel:t}}};function zT(e){return function(r){return e.apply(null,r)}}function HT(e){return N.isObject(e)&&e.isAxiosError===!0}const Vu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Vu).forEach(([e,t])=>{Vu[t]=e});function Px(e){const t=new dn(e),r=ax(dn.prototype.request,t);return N.extend(r,dn.prototype,t,{allOwnKeys:!0}),N.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return Px(yn(e,s))},r}const ue=Px(Ji);ue.Axios=dn;ue.CanceledError=_s;ue.CancelToken=BT;ue.isCancel=jx;ue.VERSION=Cx;ue.toFormData=_l;ue.AxiosError=V;ue.Cancel=ue.CanceledError;ue.all=function(t){return Promise.all(t)};ue.spread=zT;ue.isAxiosError=HT;ue.mergeConfig=yn;ue.AxiosHeaders=Ze;ue.formToJSON=e=>bx(N.isHTMLForm(e)?new FormData(e):e);ue.getAdapter=Nx.getAdapter;ue.HttpStatusCode=Vu;ue.default=ue;const{Axios:dR,AxiosError:hR,CanceledError:fR,isCancel:pR,CancelToken:mR,VERSION:gR,all:yR,Cancel:vR,isAxiosError:xR,spread:wR,toFormData:bR,AxiosHeaders:jR,HttpStatusCode:SR,formToJSON:_R,getAdapter:ER,mergeConfig:kR}=ue,qT="https://qyczttyznohtctdqloqs.supabase.co/functions/v1",K=ue.create({baseURL:qT});K.interceptors.request.use(e=>{const t=localStorage.getItem("echomed_token")||localStorage.getItem("echomed_admin_token"),r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF5Y3p0dHl6bm9odGN0ZHFsb3FzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5OTk5MjIsImV4cCI6MjA4MDU3NTkyMn0.NmbbhRSqngTHmj0Du606jm3nVs7QgyPkAUqNGzbQzr0";return e.headers.apikey=r,e.headers.Authorization=`Bearer ${r}`,t&&(e.headers["x-custom-auth"]=t),e});const Ti={registerPatient:async e=>(await K.post("/auth/patient/register",e)).data,loginPatient:async(e,t)=>(await K.post("/auth/patient/login",{supabaseUserId:e,email:t})).data,registerDoctor:async e=>(await K.post("/auth/doctor/register",e)).data,loginDoctor:async(e,t)=>(await K.post("/auth/doctor/login",{supabaseUserId:e,email:t})).data},WT={getAllPrescriptions:async e=>(await K.get(`/patient/${e}/prescription`)).data},es={getAvailableDoctors:async(e,t)=>{const r=new URLSearchParams;return e&&r.append("category",e),t!==void 0&&r.append("isAvailable",t.toString()),(await K.get(`/doctors?${r.toString()}`)).data},getDoctorProfile:async e=>(await K.get(`/doctors/${e}`)).data,updateDoctorStatus:async(e,t)=>(await K.put(`/doctors/${e}/status`,{isAvailable:t})).data,updateDoctorProfile:async(e,t)=>(await K.put(`/doctors/${e}/profile`,t)).data},Bu={createConsultation:async e=>(await K.post("/consultations",e)).data,getConsultations:async e=>(await K.get("/consultations")).data,updateConsultationStatus:async(e,t)=>(await K.put(`/consultations/${e}/status`,{status:t})).data};var Oh={},Ia={},zu=function(e,t){return zu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},zu(e,t)};function Ax(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");zu(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var La=function(){return La=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},La.apply(this,arguments)};function Es(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Rx(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function Ox(e,t){return function(r,n){t(r,n,e)}}function Ix(e,t,r,n,s,i){function o(p){if(p!==void 0&&typeof p!="function")throw new TypeError("Function expected");return p}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,f=!1,y=r.length-1;y>=0;y--){var m={};for(var w in n)m[w]=w==="access"?{}:n[w];for(var w in n.access)m.access[w]=n.access[w];m.addInitializer=function(p){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(p||null))};var x=(0,r[y])(a==="accessor"?{get:d.get,set:d.set}:d[c],m);if(a==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(h=o(x.get))&&(d.get=h),(h=o(x.set))&&(d.set=h),(h=o(x.init))&&s.unshift(h)}else(h=o(x))&&(a==="field"?s.unshift(h):d[c]=h)}u&&Object.defineProperty(u,n.name,d),f=!0}function Lx(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function Dx(e){return typeof e=="symbol"?e:"".concat(e)}function Mx(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Ux(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function O(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function $x(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var kl=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function Fx(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kl(t,e,r)}function Da(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ih(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Vx(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ih(arguments[t]));return e}function Bx(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function zx(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function ms(e){return this instanceof ms?(this.v=e,this):new ms(e)}function Hx(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(y){return function(m){return Promise.resolve(m).then(y,h)}}function a(y,m){n[y]&&(s[y]=function(w){return new Promise(function(x,p){i.push([y,w,x,p])>1||c(y,w)})},m&&(s[y]=m(s[y])))}function c(y,m){try{u(n[y](m))}catch(w){f(i[0][3],w)}}function u(y){y.value instanceof ms?Promise.resolve(y.value.v).then(d,h):f(i[0][2],y)}function d(y){c("next",y)}function h(y){c("throw",y)}function f(y,m){y(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}function qx(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:ms(e[s](o)),done:!1}:i?i(o):o}:i}}function Wx(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Da=="function"?Da(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,c){o=e[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function Kx(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var KT=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Hu=function(e){return Hu=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Hu(e)};function Gx(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Hu(e),n=0;n<r.length;n++)r[n]!=="default"&&kl(t,e,r[n]);return KT(t,e),t}function Jx(e){return e&&e.__esModule?e:{default:e}}function Xx(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Qx(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function Yx(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Zx(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var GT=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function ew(e){function t(i){e.error=e.hasError?new GT(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function tw(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}const JT={__extends:Ax,__assign:La,__rest:Es,__decorate:Rx,__param:Ox,__esDecorate:Ix,__runInitializers:Lx,__propKey:Dx,__setFunctionName:Mx,__metadata:Ux,__awaiter:O,__generator:$x,__createBinding:kl,__exportStar:Fx,__values:Da,__read:Ih,__spread:Vx,__spreadArrays:Bx,__spreadArray:zx,__await:ms,__asyncGenerator:Hx,__asyncDelegator:qx,__asyncValues:Wx,__makeTemplateObject:Kx,__importStar:Gx,__importDefault:Jx,__classPrivateFieldGet:Xx,__classPrivateFieldSet:Qx,__classPrivateFieldIn:Yx,__addDisposableResource:Zx,__disposeResources:ew,__rewriteRelativeImportExtension:tw},XT=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Zx,get __assign(){return La},__asyncDelegator:qx,__asyncGenerator:Hx,__asyncValues:Wx,__await:ms,__awaiter:O,__classPrivateFieldGet:Xx,__classPrivateFieldIn:Yx,__classPrivateFieldSet:Qx,__createBinding:kl,__decorate:Rx,__disposeResources:ew,__esDecorate:Ix,__exportStar:Fx,__extends:Ax,__generator:$x,__importDefault:Jx,__importStar:Gx,__makeTemplateObject:Kx,__metadata:Ux,__param:Ox,__propKey:Dx,__read:Ih,__rest:Es,__rewriteRelativeImportExtension:tw,__runInitializers:Lx,__setFunctionName:Mx,__spread:Vx,__spreadArray:zx,__spreadArrays:Bx,__values:Da,default:JT},Symbol.toStringTag,{value:"Module"})),QT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let Nl=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},rw=class extends Nl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},qu=class extends Nl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Wu=class extends Nl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Ma;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ma||(Ma={}));class YT{constructor(t,{headers:r={},customFetch:n,region:s=Ma.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=QT(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return O(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:c,body:u,signal:d,timeout:h}=n;let f={},{region:y}=n;y||(y=this.region);const m=new URL(`${this.url}/${r}`);y&&y!=="any"&&(f["x-region"]=y,m.searchParams.set("forceFunctionRegion",y));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(f["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(f["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let x=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const p=yield this.fetch(m.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:w,signal:x}).catch(E=>{throw new rw(E)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new qu(p);if(!p.ok)throw new Wu(p);let v=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield p.json():v==="application/octet-stream"||v==="application/pdf"?b=yield p.blob():v==="text/event-stream"?b=p:v==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null,response:p}}catch(a){return{data:null,error:a,response:a instanceof Wu||a instanceof qu?a.context:void 0}}finally{i&&clearTimeout(i)}})}}const ZT=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Ma},FunctionsClient:YT,FunctionsError:Nl,FunctionsFetchError:rw,FunctionsHttpError:Wu,FunctionsRelayError:qu},Symbol.toStringTag,{value:"Module"})),nw=Ri(ZT);var Ie={};const ks=Ri(XT);var jo={},So={},_o={},Eo={},ko={},No={},Lm;function sw(){if(Lm)return No;Lm=1,Object.defineProperty(No,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return No.default=e,No}var Dm;function iw(){if(Dm)return ko;Dm=1,Object.defineProperty(ko,"__esModule",{value:!0});const t=ks.__importDefault(sw());let r=class{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,f;let y=null,m=null,w=null,x=c.status,p=c.statusText;if(c.ok){if(this.method!=="HEAD"){const E=await c.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?m=E:m=JSON.parse(E))}const v=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),b=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&b&&b.length>1&&(w=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(y={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,w=null,x=406,p="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const v=await c.text();try{y=JSON.parse(v),Array.isArray(y)&&c.status===404&&(m=[],y=null,x=200,p="OK")}catch{c.status===404&&v===""?(x=204,p="No Content"):y={message:v}}if(y&&this.isMaybeSingle&&(!((f=y==null?void 0:y.details)===null||f===void 0)&&f.includes("0 rows"))&&(y=null,x=200,p="OK"),y&&this.shouldThrowOnError)throw new t.default(y)}return{error:y,data:m,count:w,status:x,statusText:p}});return this.shouldThrowOnError||(a=a.catch(c=>{var u,d,h,f,y,m;let w="";const x=c==null?void 0:c.cause;if(x){const p=(u=x==null?void 0:x.message)!==null&&u!==void 0?u:"",g=(d=x==null?void 0:x.code)!==null&&d!==void 0?d:"";w=`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,w+=`

Caused by: ${(f=x==null?void 0:x.name)!==null&&f!==void 0?f:"Error"}: ${p}`,g&&(w+=` (${g})`),x!=null&&x.stack&&(w+=`
${x.stack}`)}else w=(y=c==null?void 0:c.stack)!==null&&y!==void 0?y:"";return{error:{message:`${(m=c==null?void 0:c.name)!==null&&m!==void 0?m:"FetchError"}: ${c==null?void 0:c.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}};return ko.default=r,ko}var Mm;function ow(){if(Mm)return Eo;Mm=1,Object.defineProperty(Eo,"__esModule",{value:!0});const t=ks.__importDefault(iw());let r=class extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:c=a}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const c=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:c=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};return Eo.default=r,Eo}var Um;function Lh(){if(Um)return _o;Um=1,Object.defineProperty(_o,"__esModule",{value:!0});const t=ks.__importDefault(ow()),r=new RegExp("[,()]");let n=class extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const c=a?`${a}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}};return _o.default=n,_o}var $m;function aw(){if($m)return So;$m=1,Object.defineProperty(So,"__esModule",{value:!0});const t=ks.__importDefault(Lh());let r=class{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,y)=>f.concat(Object.keys(y)),[]);if(h.length>0){const f=[...new Set(h)].map(y=>`"${y}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return So.default=r,So}var Fm;function e2(){if(Fm)return jo;Fm=1,Object.defineProperty(jo,"__esModule",{value:!0});const e=ks,t=e.__importDefault(aw()),r=e.__importDefault(Lh());let n=class lw{constructor(i,{headers:o={},schema:a,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=c}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new lw(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:c=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let y;a||c?(h=a?"HEAD":"GET",Object.entries(o).filter(([w,x])=>x!==void 0).map(([w,x])=>[w,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([w,x])=>{f.searchParams.append(w,x)})):(h="POST",y=o);const m=new Headers(this.headers);return u&&m.set("Prefer",`count=${u}`),new r.default({method:h,url:f,headers:m,schema:this.schemaName,body:y,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return jo.default=n,jo}Object.defineProperty(Ie,"__esModule",{value:!0});Ie.PostgrestError=Ie.PostgrestBuilder=Ie.PostgrestTransformBuilder=Ie.PostgrestFilterBuilder=Ie.PostgrestQueryBuilder=Ie.PostgrestClient=void 0;const Ns=ks,cw=Ns.__importDefault(e2());Ie.PostgrestClient=cw.default;const uw=Ns.__importDefault(aw());Ie.PostgrestQueryBuilder=uw.default;const dw=Ns.__importDefault(Lh());Ie.PostgrestFilterBuilder=dw.default;const hw=Ns.__importDefault(ow());Ie.PostgrestTransformBuilder=hw.default;const fw=Ns.__importDefault(iw());Ie.PostgrestBuilder=fw.default;const pw=Ns.__importDefault(sw());Ie.PostgrestError=pw.default;Ie.default={PostgrestClient:cw.default,PostgrestQueryBuilder:uw.default,PostgrestFilterBuilder:dw.default,PostgrestTransformBuilder:hw.default,PostgrestBuilder:fw.default,PostgrestError:pw.default};class mw{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const t2="2.86.2",r2=`realtime-js/${t2}`,gw="1.0.0",n2="2.0.0",Vm=gw,Ku=1e4,s2=1e3,i2=100;var Yr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Yr||(Yr={}));var pe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pe||(pe={}));var Ct;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ct||(Ct={}));var Gu;(function(e){e.websocket="websocket"})(Gu||(Gu={}));var Zr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Zr||(Zr={}));class o2{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+o.length+u.length+h.length,y=new ArrayBuffer(this.HEADER_LENGTH+f);let m=new DataView(y),w=0;m.setUint8(w++,this.KINDS.userBroadcastPush),m.setUint8(w++,c.length),m.setUint8(w++,a.length),m.setUint8(w++,o.length),m.setUint8(w++,u.length),m.setUint8(w++,h.length),m.setUint8(w++,r),Array.from(c,p=>m.setUint8(w++,p.charCodeAt(0))),Array.from(a,p=>m.setUint8(w++,p.charCodeAt(0))),Array.from(o,p=>m.setUint8(w++,p.charCodeAt(0))),Array.from(u,p=>m.setUint8(w++,p.charCodeAt(0))),Array.from(h,p=>m.setUint8(w++,p.charCodeAt(0)));var x=new Uint8Array(y.byteLength+n.byteLength);return x.set(new Uint8Array(y),0),x.set(new Uint8Array(n),y.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,a,c]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const h=n.decode(t.slice(c,c+o));c=c+o;const f=t.slice(c,t.byteLength),y=a===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,m={type:this.BROADCAST_EVENT,event:d,payload:y};return o>0&&(m.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class yw{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Z;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Z||(Z={}));const Bm=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=a2(o,e,t,s),i),{}):{}},a2=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?vw(i,o):Ju(o)},vw=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return d2(t,r)}switch(e){case Z.bool:return l2(t);case Z.float4:case Z.float8:case Z.int2:case Z.int4:case Z.int8:case Z.numeric:case Z.oid:return c2(t);case Z.json:case Z.jsonb:return u2(t);case Z.timestamp:return h2(t);case Z.abstime:case Z.date:case Z.daterange:case Z.int4range:case Z.int8range:case Z.money:case Z.reltime:case Z.text:case Z.time:case Z.timestamptz:case Z.timetz:case Z.tsrange:case Z.tstzrange:return Ju(t);default:return Ju(t)}},Ju=e=>e,l2=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},c2=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},u2=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},d2=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>vw(t,a))}return e},h2=e=>typeof e=="string"?e.replace(" ","T"):e,xw=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class jc{constructor(t,r,n={},s=Ku){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Xu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Xu||(Xu={}));let ww=class Jo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jo.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Jo.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Jo.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(x=>x.presence_ref),y=h.map(x=>x.presence_ref),m=d.filter(x=>y.indexOf(x.presence_ref)<0),w=h.filter(x=>f.indexOf(x.presence_ref)<0);m.length>0&&(a[u]=m),w.length>0&&(c[u]=w)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const h=t[a].map(y=>y.presence_ref),f=d.filter(y=>h.indexOf(y.presence_ref)<0);t[a].unshift(...f)}n(a,d,c)}),this.map(o,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Qu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Qu||(Qu={}));var ts;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ts||(ts={}));var Mt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Mt||(Mt={}));const f2=pe;let bw=class jw{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new jc(this,Ct.join,this.params,this.timeout),this.rejoinTimer=new yw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ct.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ww(this),this.broadcastEndpointURL=xw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==pe.closed){const{config:{broadcast:o,presence:a,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ts.PRESENCE]&&this.bindings[ts.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(Mt.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(Mt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var m;if(this.socket.setAuth(),y===void 0){t==null||t(Mt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(m=w==null?void 0:w.length)!==null&&m!==void 0?m:0,p=[];for(let g=0;g<x;g++){const v=w[g],{filter:{event:b,schema:E,table:_,filter:j}}=v,k=y&&y[g];if(k&&k.event===b&&k.schema===E&&k.table===_&&k.filter===j)p.push(Object.assign(Object.assign({},v),{id:k.id}));else{this.unsubscribe(),this.state=pe.errored,t==null||t(Mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Mt.SUBSCRIBED);return}}).receive("error",y=>{this.state=pe.errored,t==null||t(Mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===pe.joined&&t===ts.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{const u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ct.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new jc(this,Ct.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new jc(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>i2){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=Ct;if(n&&[a,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var m,w,x;return((m=y.filter)===null||m===void 0?void 0:m.event)==="*"||((x=(w=y.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(y=>y.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var m,w,x,p,g,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const b=y.id,E=(m=y.filter)===null||m===void 0?void 0:m.event;return b&&((w=r.ids)===null||w===void 0?void 0:w.includes(b))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const b=(g=(p=y==null?void 0:y.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return b==="*"||b===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:w,table:x,commit_timestamp:p,type:g,errors:v}=m;f=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:p,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(m))}y.callback(f,n)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&jw.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ct.close,{},t)}_onError(t){this._on(Ct.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Bm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Bm(t.columns,t.old_record)),r}};const Sc=()=>{},Co={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},p2=[1e3,2e3,5e3,1e4],m2=1e4,g2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let y2=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ku,this.transport=null,this.heartbeatIntervalMs=Co.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sc,this.ref=0,this.reconnectTimer=null,this.vsn=Vm,this.logger=Sc,this.conn=null,this.sendBuffer=[],this.serializer=new o2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Gu.websocket}`,this.httpEndpoint=xw(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mw.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Yr.connecting:return Zr.Connecting;case Yr.open:return Zr.Open;case Yr.closing:return Zr.Closing;default:return Zr.Closed}}isConnected(){return this.connectionState()===Zr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new bw(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(s2,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Co.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Yr.open||this.conn.readyState===Yr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ct.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([g2],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:r2};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ct.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new yw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Co.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,a,c,u,d,h,f,y;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Ku,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Co.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Sc,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Vm,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:m=>p2[m-1]||m2,this.vsn){case gw:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(m,w)=>w(JSON.stringify(m)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(m,w)=>w(JSON.parse(m));break;case n2:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}};const v2=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:f2,get REALTIME_LISTEN_TYPES(){return ts},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Qu},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Xu},get REALTIME_SUBSCRIBE_STATES(){return Mt},RealtimeChannel:bw,RealtimeClient:y2,RealtimePresence:ww,WebSocketFactory:mw},Symbol.toStringTag,{value:"Module"})),Sw=Ri(v2);class Xi extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function se(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _w extends Xi{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ua extends Xi{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Dh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),x2=()=>Response,Yu=e=>{if(Array.isArray(e))return e.map(r=>Yu(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Yu(n)}),t},w2=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},b2=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),_c=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},j2=(e,t,r)=>O(void 0,void 0,void 0,function*(){const n=yield x2();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new _w(_c(s),i,o))}).catch(s=>{t(new Ua(_c(s),s))}):t(new Ua(_c(e),e))}),S2=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(w2(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Qi(e,t,r,n,s,i){return O(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,S2(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>j2(c,a,n))})})}function Pi(e,t,r,n){return O(this,void 0,void 0,function*(){return Qi(e,"GET",t,r,n)})}function kt(e,t,r,n,s){return O(this,void 0,void 0,function*(){return Qi(e,"POST",t,n,s,r)})}function Zu(e,t,r,n,s){return O(this,void 0,void 0,function*(){return Qi(e,"PUT",t,n,s,r)})}function _2(e,t,r,n){return O(this,void 0,void 0,function*(){return Qi(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Mh(e,t,r,n,s){return O(this,void 0,void 0,function*(){return Qi(e,"DELETE",t,n,s,r)})}class E2{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return O(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(se(t))return{data:null,error:t};throw t}})}}var Ew;class k2{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Ew]="BlobDownloadBuilder",this.promise=null}asStream(){return new E2(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return O(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(se(t))return{data:null,error:t};throw t}})}}Ew=Symbol.toStringTag;const N2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class C2{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Dh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return O(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},zm),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?Zu:kt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(se(i))return{data:null,error:i};throw i}})}upload(t,r,n){return O(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return O(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:zm.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Zu(this.fetch,a.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(se(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return O(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield kt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Xi("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}update(t,r,n){return O(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return O(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}copy(t,r,n){return O(this,void 0,void 0,function*(){try{return{data:{path:(yield kt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return O(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield kt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return O(this,void 0,void 0,function*(){try{const s=yield kt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(t),c=()=>Pi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new k2(c,this.shouldThrowOnError)}info(t){return O(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Pi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Yu(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}exists(t){return O(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield _2(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n)&&n instanceof Ua){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return O(this,void 0,void 0,function*(){try{return{data:yield Mh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}list(t,r,n){return O(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},N2),r),{prefix:t||""});return{data:yield kt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}listV2(t,r){return O(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield kt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const kw="2.86.2",Nw={"X-Client-Info":`storage-js/${kw}`};class T2{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nw),r),this.fetch=Dh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return O(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Pi(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}getBucket(t){return O(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}createBucket(t){return O(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield kt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return O(this,void 0,void 0,function*(){try{return{data:yield Zu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}emptyBucket(t){return O(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}deleteBucket(t){return O(this,void 0,void 0,function*(){try{return{data:yield Mh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Ai=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function P2(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function A2(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function R2(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=P2(e.baseUrl,n,s),c=await A2(e.auth),u=await t(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const y=h?f:void 0,m=y==null?void 0:y.error;throw new Ai((m==null?void 0:m.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:y})}return{status:u.status,headers:u.headers,data:f}}}}function To(e){return e.join("")}var O2=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:To(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${To(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${To(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${To(e.namespace)}`}),!0}catch(t){if(t instanceof Ai&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Ai&&r.status===409)return;throw r}}};function kn(e){return e.join("")}var I2=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kn(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${kn(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${kn(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${kn(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kn(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${kn(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Ai&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Ai&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},L2=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=R2({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new O2(this.client,t),this.tableOps=new I2(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class Cw{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nw),r),this.fetch=Dh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return O(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}listBuckets(t){return O(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Pi(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}deleteBucket(t){return O(this,void 0,void 0,function*(){try{return{data:yield Mh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}from(t){if(!b2(t))throw new Xi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new L2({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>O(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Uh={"X-Client-Info":`storage-js/${kw}`,"Content-Type":"application/json"};class $h extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ke(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Xo extends $h{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Tw extends $h{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var ed;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(ed||(ed={}));const Cl=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),D2=()=>Response,Pw=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},M2=e=>Array.from(new Float32Array(e)),U2=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},Hm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$2=(e,t,r)=>O(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new Xo(Hm(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new Xo(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new Xo(a,s,o))}}else t(new Tw(Hm(e),e))}),F2=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Pw(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function V2(e,t,r,n,s,i){return O(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,F2(t,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>$2(c,a,n))})})}function st(e,t,r,n,s){return O(this,void 0,void 0,function*(){return V2(e,"POST",t,n,s,r)})}class Aw{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uh),r),this.fetch=Cl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return O(this,void 0,void 0,function*(){try{return{data:(yield st(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}getIndex(t,r){return O(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}listIndexes(t){return O(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return O(this,void 0,void 0,function*(){try{return{data:(yield st(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}}class Rw{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uh),r),this.fetch=Cl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return O(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield st(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}getVectors(t){return O(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}listVectors(t){return O(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield st(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}queryVectors(t){return O(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}deleteVectors(t){return O(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield st(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}}class Ow{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uh),r),this.fetch=Cl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return O(this,void 0,void 0,function*(){try{return{data:(yield st(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}getBucket(t){return O(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}listBuckets(){return O(this,arguments,void 0,function*(t={}){try{return{data:yield st(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}deleteBucket(t){return O(this,void 0,void 0,function*(){try{return{data:(yield st(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}}class Iw extends Ow{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new Lw(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return O(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return O(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return O(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return O(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class Lw extends Aw{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return O(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return O(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return O(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return O(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Dw(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Dw extends Rw{constructor(t,r,n,s,i){super(t,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return O(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return O(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return O(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return O(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return O(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class B2 extends T2{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new C2(this.url,this.headers,t,this.fetch)}get vectors(){return new Iw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Cw(this.url+"/iceberg",this.headers,this.fetch)}}const z2=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Cw,StorageApiError:_w,StorageClient:B2,StorageError:Xi,StorageUnknownError:Ua,StorageVectorsApiError:Xo,StorageVectorsClient:Iw,StorageVectorsError:$h,get StorageVectorsErrorCode(){return ed},StorageVectorsUnknownError:Tw,VectorBucketApi:Ow,VectorBucketScope:Lw,VectorDataApi:Rw,VectorIndexApi:Aw,VectorIndexScope:Dw,isPlainObject:Pw,isStorageError:se,isStorageVectorsError:Ke,normalizeToFloat32:M2,resolveFetch:Cl,resolveResponse:D2,validateVectorDimension:U2},Symbol.toStringTag,{value:"Module"})),H2=Ri(z2);var Mw={},Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.version=void 0;Tl.version="2.86.2";(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=Tl;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Mw);var Uw={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=s=>s?(...i)=>s(...i):(...i)=>fetch(...i);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(s,i,o)=>{const a=(0,e.resolveFetch)(o),c=(0,e.resolveHeadersConstructor)();return async(u,d)=>{var h;const f=(h=await i())!==null&&h!==void 0?h:s;let y=new c(d==null?void 0:d.headers);return y.has("apikey")||y.set("apikey",s),y.has("Authorization")||y.set("Authorization",`Bearer ${f}`),a(u,Object.assign(Object.assign({},d),{headers:y}))}};e.fetchWithAuth=n})(Uw);var Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.isBrowser=void 0;Ur.uuid=q2;Ur.ensureTrailingSlash=$w;Ur.applySettingDefaults=K2;Ur.validateSupabaseUrl=G2;function q2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e=="x"?t:t&3|8;return r.toString(16)})}function $w(e){return e.endsWith("/")?e:e+"/"}const W2=()=>typeof window<"u";Ur.isBrowser=W2;function K2(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function G2(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($w(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Pl={};const Fw="2.86.2",Pn=30*1e3,td=3,Ec=td*Pn,J2="http://localhost:9999",X2="supabase.auth.token",Q2={"X-Client-Info":`gotrue-js/${Fw}`},rd="X-Supabase-Api-Version",Vw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Y2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Z2=10*60*1e3;let gs=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function I(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let Bw=class extends gs{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function zw(e){return I(e)&&e.name==="AuthApiError"}let mr=class extends gs{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},ar=class extends gs{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}},qe=class extends ar{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Hw(e){return I(e)&&e.name==="AuthSessionMissingError"}let Jr=class extends ar{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Hs=class extends ar{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},qs=class extends ar{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function qw(e){return I(e)&&e.name==="AuthImplicitGrantRedirectError"}let nd=class extends ar{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},$a=class extends ar{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Qo(e){return I(e)&&e.name==="AuthRetryableFetchError"}let sd=class extends ar{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function eP(e){return I(e)&&e.name==="AuthWeakPasswordError"}let Fa=class extends ar{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Va="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qm=` 	
\r=`.split(""),tP=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qm.length;t+=1)e[qm[t].charCodeAt(0)]=-2;for(let t=0;t<Va.length;t+=1)e[Va[t].charCodeAt(0)]=t;return e})();function Wm(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Va[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Va[n]),t.queuedBits-=6}}function Ww(e,t,r){const n=tP[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Km(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{sP(o,n,r)};for(let o=0;o<e.length;o+=1)Ww(e.charCodeAt(o),s,i);return t.join("")}function rP(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function nP(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}rP(n,t)}}function sP(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function rs(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Ww(e.charCodeAt(s),r,n);return new Uint8Array(t)}function iP(e){const t=[];return nP(e,r=>t.push(r)),new Uint8Array(t)}function on(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Wm(s,r,n)),Wm(null,r,n),t.join("")}function oP(e){return Math.round(Date.now()/1e3)+e}function aP(){return Symbol("auth-callback")}const Ee=()=>typeof window<"u"&&typeof document<"u",Br={tested:!1,writable:!1},Kw=()=>{if(!Ee())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Br.tested)return Br.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Br.tested=!0,Br.writable=!0}catch{Br.tested=!0,Br.writable=!1}return Br.writable};function lP(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Gw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cP=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",An=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},zr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_e=async(e,t)=>{await e.removeItem(t)};class Al{constructor(){this.promise=new Al.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Al.promiseConstructor=Promise;function kc(e){const t=e.split(".");if(t.length!==3)throw new Fa("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Y2.test(t[n]))throw new Fa("JWT not in base64url format");return{header:JSON.parse(Km(t[0])),payload:JSON.parse(Km(t[1])),signature:rs(t[2]),raw:{header:t[0],payload:t[1]}}}async function uP(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function dP(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function hP(e){return("0"+e.toString(16)).substr(-2)}function fP(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,hP).join("")}async function pP(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function mP(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await pP(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nn(e,t,r=!1){const n=fP();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await An(e,`${t}-code-verifier`,s);const i=await mP(n);return[i,n===i?"plain":"s256"]}const gP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yP(e){const t=e.headers.get(rd);if(!t||!t.match(gP))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vP(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function xP(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cn(e){if(!wP.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nc(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bP(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Gm(e){return JSON.parse(JSON.stringify(e))}const Xr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jP=[502,503,504];async function Jm(e){var t;if(!cP(e))throw new $a(Xr(e),0);if(jP.includes(e.status))throw new $a(Xr(e),e.status);let r;try{r=await e.json()}catch(i){throw new mr(Xr(i),i)}let n;const s=yP(e);if(s&&s.getTime()>=Vw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new sd(Xr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new qe}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new sd(Xr(r),e.status,r.weak_password.reasons);throw new Bw(Xr(r),e.status||500,n)}const SP=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function U(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[rd]||(i[rd]=Vw["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await _P(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function _P(e,t,r,n,s,i){const o=SP(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new $a(Xr(c),0)}if(a.ok||await Jm(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await Jm(c)}}function _t(e){var t;let r=null;NP(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=oP(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Xm(e){const t=_t(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function gr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function EP(e){return{data:e,error:null}}function kP(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Es(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function Qm(e){return e}function NP(e){return e.access_token&&e.refresh_token&&e.expires_in}const Yo=["global","local","others"];let Fh=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Gw(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Yo[0]){if(Yo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yo.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:gr})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Es(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:kP,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(I(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:gr})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Qm});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Cn(t);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:gr})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Cn(t);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:gr})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Cn(t);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:gr})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Cn(t.userId);try{const{data:r,error:n}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Cn(t.userId),Cn(t.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await U(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Qm});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(I(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await U(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await U(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await U(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}};function Ym(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Qr={debug:!!(globalThis&&Kw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vh extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let Jw=class extends Vh{};class CP extends Vh{}async function Xw(e,t,r){Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Jw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Qr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const Zm={};async function TP(e,t,r){var n;const s=(n=Zm[e])!==null&&n!==void 0?n:Promise.resolve(),i=Promise.race([s.catch(()=>null),t>=0?new Promise((o,a)=>{setTimeout(()=>{a(new CP(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return Zm[e]=i.catch(async o=>{if(o&&o.isAcquireTimeout)return await s,null;throw o}),await i}function PP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qw(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function AP(e){return parseInt(e,16)}function RP(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function OP(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=Qw(e.address),m=d?`${d}://${n}`:n,w=e.statement?`${e.statement}
`:"",x=`${m} wants you to sign in with your Ethereum account:
${y}

${w}`;let p=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(p+=`
Expiration Time: ${s.toISOString()}`),a&&(p+=`
Not Before: ${a.toISOString()}`),c&&(p+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);g+=`
- ${v}`}p+=g}return`${x}
${p}`}class ge extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ba extends ge{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function IP({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ge({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ge({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ge({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ge({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ge({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ge({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ge({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ge({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Yw(o)){if(i.rp.id!==o)return new ge({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ge({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ge({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function LP({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ge({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ge({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Yw(n)){if(r.rpId!==n)return new ge({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ge({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class DP{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const MP=new DP;function UP(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Es(e,["challenge","user","excludeCredentials"]),i=rs(t).buffer,o=Object.assign(Object.assign({},r),{id:rs(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:rs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function $P(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Es(e,["challenge","allowCredentials"]),s=rs(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:rs(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function FP(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:on(new Uint8Array(e.response.attestationObject)),clientDataJSON:on(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function VP(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:on(new Uint8Array(s.authenticatorData)),clientDataJSON:on(new Uint8Array(s.clientDataJSON)),signature:on(new Uint8Array(s.signature)),userHandle:s.userHandle?on(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Yw(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function eg(){var e,t;return!!(Ee()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function BP(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ba("Browser returned unexpected credential type",t)}:{data:null,error:new Ba("Empty credential response",t)}}catch(t){return{data:null,error:IP({error:t,options:e})}}}async function zP(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ba("Browser returned unexpected credential type",t)}:{data:null,error:new Ba("Empty credential response",t)}}catch(t){return{data:null,error:LP({error:t,options:e})}}}const HP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},qP={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function za(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const a=n[i];t(a)?n[i]=za(a,o):n[i]=za(o)}else n[i]=o}return n}function WP(e,t){return za(HP,e,t||{})}function KP(e,t){return za(qP,e,t||{})}class GP{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:a};const c=s??MP.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=WP(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await BP({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=KP(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await zP(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new mr("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new gs("rpId is required for WebAuthn authentication")};try{if(!eg())return{data:null,error:new mr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new mr("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new gs("rpId is required for WebAuthn registration")};try{if(!eg())return{data:null,error:new mr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new mr("Unexpected error in register",o)}}}}PP();const JP={url:J2,storageKey:X2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Q2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function tg(e,t,r){return await r()}const Tn={};let Bh=class id{get jwks(){var t,r;return(r=(t=Tn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Tn[this.storageKey]=Object.assign(Object.assign({},Tn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Tn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Tn[this.storageKey]=Object.assign(Object.assign({},Tn[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},JP),t);if(this.storageKey=i.storageKey,this.instanceID=(r=id.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,id.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ee()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Fh({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Gw(i.fetch),this.lock=i.lock||tg,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Ee()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Xw:this.lock=tg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new GP(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Kw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ym(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ym(this.memoryStorage)),Ee()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Fw}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ee()&&(r=lP(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ee()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),qw(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?this._returnResult({error:r}):this._returnResult({error:new mr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:_t}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let y=null,m=null;this.flowType==="pkce"&&([y,m]=await Nn(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:m},xform:_t})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:_t})}else throw new Hs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await _e(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await _e(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Xm})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Xm})}else throw new Hs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Jr;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,a,c,u,d,h,f;let y,m;if("message"in t)y=t.message,m=t.signature;else{const{chain:w,wallet:x,statement:p,options:g}=t;let v;if(Ee())if(typeof x=="object")v=x;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")v=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=x}const b=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),E=await v.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=Qw(E[0]);let j=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const C=await v.request({method:"eth_chainId"});j=AP(C)}const k={domain:b.host,address:_,statement:p,uri:b.href,version:"1",chainId:j,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};y=OP(k),m=await v.request({method:"personal_sign",params:[RP(y),_]})}try{const{data:w,error:x}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:m},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:_t});if(x)throw x;if(!w||!w.session||!w.user){const p=new Jr;return this._returnResult({data:{user:null,session:null},error:p})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:x})}catch(w){if(I(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,s,i,o,a,c,u,d,h,f,y;let m,w;if("message"in t)m=t.message,w=t.signature;else{const{chain:x,wallet:p,statement:g,options:v}=t;let b;if(Ee())if(typeof p=="object")b=p;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))b=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=p}const E=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const _=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),g?{statement:g}:null));let j;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")j=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)j=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)m=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),w=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${E.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const _=await b.signMessage(new TextEncoder().encode(m),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=_}}try{const{data:x,error:p}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:on(w)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:_t});if(p)throw p;if(!x||!x.session||!x.user){const g=new Jr;return this._returnResult({data:{user:null,session:null},error:g})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:p})}catch(x){if(I(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await zr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:_t});if(await _e(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Jr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await _e(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:_t}),{data:c,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Jr;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Nn(this.storage,this.storageKey));const{error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Hs("You must provide either an email or phone number.")}catch(a){if(await _e(this.storage,`${this.storageKey}-code-verifier`),I(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:_t});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let a=null,c=null;this.flowType==="pkce"&&([a,c]=await Nn(this.storage,this.storageKey));const u=await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:EP});return!((i=u.data)===null||i===void 0)&&i.url&&Ee()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await _e(this.storage,`${this.storageKey}-code-verifier`),I(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new qe;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(I(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await U(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await U(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Hs("You must provide either an email or phone number and a type")}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await zr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ec:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await zr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Nc()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=bP(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:gr}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qe}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:gr})})}catch(r){if(I(r))return Hw(r)&&(await this._removeSession(),await _e(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new qe;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await Nn(this.storage,this.storageKey));const{data:u,error:d}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:gr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await _e(this.storage,`${this.storageKey}-code-verifier`),I(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new qe;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=kc(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(I(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new qe;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ee())throw new qs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new nd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new nd("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:u}=t;if(!i||!a||!o||!u)throw new qs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;c&&(f=parseInt(c));const y=f-d;y*1e3<=Pn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const m=f-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);const{data:w,error:x}=await this._getUser(i);if(x)throw x;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:t.type},error:null})}catch(n){if(I(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await zr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(zw(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await _e(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=aP(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Nn(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await _e(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,c,u,d;const{data:h,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ee()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(I(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:c,access_token:u,nonce:d}=t,h=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:_t}),{data:f,error:y}=h;return y?this._returnResult({data:{user:null,session:null},error:y}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Jr}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:y}))}catch(s){if(await _e(this.storage,`${this.storageKey}-code-verifier`),I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await dP(async s=>(s>0&&await uP(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_t})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Qo(i)&&Date.now()+o-n<Pn})}catch(n){if(this._debug(r,"error",n),I(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ee()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await zr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await zr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await An(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Nc()}else if(s&&!s.user&&!s.user){const o=await zr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await _e(this.storage,this.storageKey+"-user"),await An(this.storage,this.storageKey,s)):s.user=Nc()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ec;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ec}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Qo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new qe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Al;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new qe;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),I(i)){const o={data:null,error:i};return Qo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await _e(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await An(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Gm(s);await An(this.storage,this.storageKey,i)}else{const s=Gm(r);await An(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await _e(this.storage,this.storageKey),await _e(this.storage,this.storageKey+"-code-verifier"),await _e(this.storage,this.storageKey+"-user"),this.userStorage&&await _e(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ee()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Pn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Pn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Pn}ms, refresh threshold is ${td} ticks`),s<=td&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Vh)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ee()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Nn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?FP(t.webauthn.credential_response):VP(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:c}=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:c}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:UP(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:$P(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=kc(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await U(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new qe})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new qe});const o=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ee()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new qe});const o=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ee()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await U(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new qe})})}catch(t){if(I(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await U(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new qe})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+Z2>s)return n;const{data:i,error:o}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:m}=await this.getSession();if(m||!y.session)return this._returnResult({data:null,error:m});n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:c}}=kc(n);r!=null&&r.allowExpired||vP(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const d=xP(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,iP(`${a}.${c}`)))throw new Fa("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}};Bh.nextInstanceID={};const XP=Fh,QP=Bh,YP=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:XP,AuthApiError:Bw,AuthClient:QP,AuthError:gs,AuthImplicitGrantRedirectError:qs,AuthInvalidCredentialsError:Hs,AuthInvalidJwtError:Fa,AuthInvalidTokenResponseError:Jr,AuthPKCEGrantCodeExchangeError:nd,AuthRetryableFetchError:$a,AuthSessionMissingError:qe,AuthUnknownError:mr,AuthWeakPasswordError:sd,CustomAuthError:ar,GoTrueAdminApi:Fh,GoTrueClient:Bh,NavigatorLockAcquireTimeoutError:Jw,SIGN_OUT_SCOPES:Yo,isAuthApiError:zw,isAuthError:I,isAuthImplicitGrantRedirectError:qw,isAuthRetryableFetchError:Qo,isAuthSessionMissingError:Hw,isAuthWeakPasswordError:eP,lockInternals:Qr,navigatorLock:Xw,processLock:TP},Symbol.toStringTag,{value:"Module"})),Zw=Ri(YP);Object.defineProperty(Pl,"__esModule",{value:!0});Pl.SupabaseAuthClient=void 0;const ZP=Zw;class eA extends ZP.AuthClient{constructor(t){super(t)}}Pl.SupabaseAuthClient=eA;Object.defineProperty(Ia,"__esModule",{value:!0});const tA=nw,rA=Ie,nA=Sw,sA=H2,Po=Mw,iA=Uw,rg=Ur,oA=Pl;let aA=class{constructor(t,r,n){var s,i,o;this.supabaseUrl=t,this.supabaseKey=r;const a=(0,rg.validateSupabaseUrl)(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:Po.DEFAULT_DB_OPTIONS,realtime:Po.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},Po.DEFAULT_AUTH_OPTIONS),{storageKey:c}),global:Po.DEFAULT_GLOBAL_OPTIONS},d=(0,rg.applySettingDefaults)(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=(0,iA.fetchWithAuth)(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new rA.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new sA.StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new tA.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:c,debug:u,throwOnError:d},h,f){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oA.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),h),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:c,debug:u,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new nA.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};Ia.default=aA;(function(e){var t=Sn&&Sn.__createBinding||(Object.create?function(d,h,f,y){y===void 0&&(y=f);var m=Object.getOwnPropertyDescriptor(h,f);(!m||("get"in m?!h.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return h[f]}}),Object.defineProperty(d,y,m)}:function(d,h,f,y){y===void 0&&(y=f),d[y]=h[f]}),r=Sn&&Sn.__exportStar||function(d,h){for(var f in d)f!=="default"&&!Object.prototype.hasOwnProperty.call(h,f)&&t(h,d,f)},n=Sn&&Sn.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const s=n(Ia);r(Zw,e);var i=Ie;Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var o=nw;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(Sw,e);var a=Ia;Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(a).default}});const c=(d,h,f)=>new s.default(d,h,f);e.createClient=c;function u(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const h=d.match(/^v(\d+)\./);return h?parseInt(h[1],10)<=18:!1}u()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Oh);const eb=ig(Oh),lA=sg({__proto__:null,default:eb},[Oh]),{PostgrestError:QR,FunctionsHttpError:YR,FunctionsFetchError:ZR,FunctionsRelayError:eO,FunctionsError:tO,FunctionRegion:rO,SupabaseClient:nO,createClient:cA,GoTrueAdminApi:sO,GoTrueClient:iO,AuthAdminApi:oO,AuthClient:aO,navigatorLock:lO,NavigatorLockAcquireTimeoutError:cO,lockInternals:uO,processLock:dO,SIGN_OUT_SCOPES:hO,AuthError:fO,AuthApiError:pO,AuthUnknownError:mO,CustomAuthError:gO,AuthSessionMissingError:yO,AuthInvalidTokenResponseError:vO,AuthInvalidCredentialsError:xO,AuthImplicitGrantRedirectError:wO,AuthPKCEGrantCodeExchangeError:bO,AuthRetryableFetchError:jO,AuthWeakPasswordError:SO,AuthInvalidJwtError:_O,isAuthError:EO,isAuthApiError:kO,isAuthSessionMissingError:NO,isAuthImplicitGrantRedirectError:CO,isAuthRetryableFetchError:TO,isAuthWeakPasswordError:PO,RealtimePresence:AO,RealtimeChannel:RO,RealtimeClient:OO,REALTIME_LISTEN_TYPES:IO,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:LO,REALTIME_PRESENCE_LISTEN_EVENTS:DO,REALTIME_SUBSCRIBE_STATES:MO,REALTIME_CHANNEL_STATES:UO}=eb||lA,uA="https://qyczttyznohtctdqloqs.supabase.co",dA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF5Y3p0dHl6bm9odGN0ZHFsb3FzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5OTk5MjIsImV4cCI6MjA4MDU3NTkyMn0.NmbbhRSqngTHmj0Du606jm3nVs7QgyPkAUqNGzbQzr0",Bt=cA(uA,dA,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),hA=({onSwitchMode:e})=>{const[t,r]=S.useState(""),[n,s]=S.useState(""),[i,o]=S.useState(""),[a,c]=S.useState(""),[u,d]=S.useState(!1),[h,f]=S.useState(!1),{dispatch:y}=wt(),m=Me(),w=async x=>{var p,g,v,b,E,_;x.preventDefault(),d(!0),c("");try{let j;if(h){const{data:C,error:A}=await Bt.auth.signUp({email:t,password:n});if(A)throw A;j=C.user}else{const{data:C,error:A}=await Bt.auth.signInWithPassword({email:t,password:n});if(A)throw A;j=C.user}if(!j)throw new Error("Authentication failed");let k;if(h){const C={supabaseUserId:j.id,email:j.email,name:i,gender:"other",age:25,location:"",preferredLanguage:"en"};k=await Ti.registerPatient(C)}else k=await Ti.loginPatient(j.id,j.email);localStorage.clear(),localStorage.setItem("echomed_token",k.token),localStorage.setItem("echomed_user_type","patient"),localStorage.setItem("echomed_user_id",k.user.id),localStorage.setItem("echomed_user_name",k.user.name||""),localStorage.setItem("echomed_user_email",k.user.email||""),y({type:"SET_USER",payload:k.user}),y({type:"SET_USER_TYPE",payload:"patient"}),y({type:"SET_AUTHENTICATED",payload:!0}),m("/home")}catch(j){console.error(j),(p=j.message)!=null&&p.includes("Invalid login credentials")?c("Invalid email or password."):(g=j.message)!=null&&g.includes("User already registered")?c("Email already in use. Please login instead."):(v=j.message)!=null&&v.includes("Password should be at least 6 characters")?c("Password should be at least 6 characters."):((b=j.response)==null?void 0:b.status)===404?c("User not found in database. Please complete registration."):c("Authentication failed: "+(((_=(E=j.response)==null?void 0:E.data)==null?void 0:_.error)||j.message))}finally{d(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:l.jsx(zt,{className:"w-8 h-8 text-blue-600"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:h?"Register as Patient":"Patient Login"}),l.jsx("p",{className:"text-gray-600 mt-2",children:h?"Create your patient account":"Enter your credentials to continue"})]}),l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[h&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),l.jsxs("div",{className:"relative",children:[l.jsx(zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",value:i,onChange:x=>o(x.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your full name",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"email",value:t,onChange:x=>r(x.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"patient@example.com",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"password",value:n,onChange:x=>s(x.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"",required:!0})]}),h&&n&&n.length<6&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Password must be at least 6 characters"})]}),a&&l.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 p-3 rounded-lg",children:[l.jsx(hs,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm",children:a})]}),l.jsx("button",{type:"submit",disabled:u,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?"Please wait...":h?"Create Account":"Login"}),h&&l.jsx("button",{type:"button",onClick:()=>{f(!1),c(""),o("")},className:"w-full text-blue-600 py-2 font-medium hover:text-blue-700 transition-colors",children:"Back to Login"})]}),l.jsxs("div",{className:"text-center space-y-3",children:[l.jsx("button",{onClick:e,className:"text-blue-600 font-medium hover:text-blue-700 transition-colors",children:"Are you a doctor? Login here"}),!h&&l.jsx("div",{children:l.jsx("button",{onClick:()=>m("/patient-registration"),className:"text-green-600 font-medium hover:text-green-700 transition-colors text-sm",children:"New here? Create an account"})})]})]})},fA=({onSwitchMode:e})=>{const[t,r]=S.useState(""),[n,s]=S.useState(""),[i,o]=S.useState(!1),[a,c]=S.useState(""),[u,d]=S.useState(!1),{dispatch:h}=wt(),f=Me(),y=async m=>{var w,x,p,g,v,b,E,_;m.preventDefault(),d(!0),c("");try{const{data:j,error:k}=await Bt.auth.signInWithPassword({email:t,password:n});if(k)throw k;if(!j.user)throw new Error("Authentication failed");const C=await Ti.loginDoctor(j.user.id,j.user.email);localStorage.clear(),localStorage.setItem("echomed_token",C.token),localStorage.setItem("echomed_user_type","doctor"),localStorage.setItem("echomed_user_id",C.doctor.id),localStorage.setItem("echomed_user_name",C.doctor.name||""),localStorage.setItem("echomed_user_email",C.doctor.email||""),h({type:"SET_USER",payload:C.doctor}),h({type:"SET_USER_TYPE",payload:"doctor"}),h({type:"SET_AUTHENTICATED",payload:!0});try{const A=await es.updateDoctorStatus(C.doctor.id,!0),B=A.doctor||A;h({type:"SET_USER",payload:B})}catch(A){console.error("Failed to set online status:",A)}f("/doctor-dashboard")}catch(j){(w=j.message)!=null&&w.includes("Invalid login credentials")?c("Invalid email or password."):(x=j.message)!=null&&x.includes("Email not confirmed")?c("Please verify your email address."):((p=j.response)==null?void 0:p.status)===404?c("Doctor account not found in database."):((g=j.response)==null?void 0:g.status)===403?c(((b=(v=j.response)==null?void 0:v.data)==null?void 0:b.error)||"Your account is pending verification. Please wait for admin approval."):c("Login failed: "+(((_=(E=j.response)==null?void 0:E.data)==null?void 0:_.error)||j.message||"Please try again."))}finally{d(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:l.jsx(zt,{className:"w-8 h-8 text-green-600"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Doctor Login"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your credentials to access your dashboard"})]}),l.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"email",value:t,onChange:m=>r(m.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"doctor@example.com",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:i?"text":"password",value:n,onChange:m=>s(m.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter your password",required:!0}),l.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?l.jsx(nx,{className:"w-5 h-5"}):l.jsx(yl,{className:"w-5 h-5"})})]})]}),a&&l.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 p-3 rounded-lg",children:[l.jsx(hs,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm",children:a})]}),l.jsx("button",{type:"submit",disabled:u,className:"w-full bg-green-600 text-white py-3 rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?"Signing in...":"Sign In"})]}),l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("button",{onClick:()=>f("/doctor-registration"),className:"text-green-600 font-medium hover:text-green-700 transition-colors block w-full",children:"Don't have an account? Register here"}),l.jsx("button",{onClick:e,className:"text-blue-600 font-medium hover:text-blue-700 transition-colors",children:"Are you a patient? Login here"})]})]})},tb=({children:e,className:t="",padding:r="md",shadow:n="md"})=>{const s={none:"",sm:"p-4",md:"p-6",lg:"p-8"},i={none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg"},o=["bg-white rounded-lg border border-gray-200",s[r],i[n],t].filter(Boolean).join(" ");return l.jsx("div",{className:o,children:e})};function pA(){const[e,t]=S.useState(!1);return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4",children:l.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:l.jsx(tb,{padding:"lg",children:e?l.jsx(fA,{onSwitchMode:()=>t(!1)}):l.jsx(hA,{onSwitchMode:()=>t(!0)})})})})}const mA=["General Medicine","Pediatrics","Gynecology","Dermatology","Cardiology","Psychiatry","Orthopedics","Ophthalmology"],gA=[{code:"en",name:"English"},{code:"tw",name:"Twi"},{code:"ee",name:"Ewe"},{code:"ga",name:"Ga"},{code:"ha",name:"Hausa"}],yA=["Korle Bu Teaching Hospital","Ridge Hospital","University of Ghana Hospital","37 Military Hospital","Tema General Hospital","Komfo Anokye Teaching Hospital","Private Practice","Other"];function vA(){const e=Me(),[t,r]=S.useState(1),[n,s]=S.useState({fullName:"",email:"",password:"",confirmPassword:"",phone:"",specialty:"",licenseNumber:"",hospital:"",experience:"",consultationFee:"",spokenLanguages:["en"],profilePhoto:null,licenseDocument:null,availability:{monday:{start:"09:00",end:"17:00",available:!0},tuesday:{start:"09:00",end:"17:00",available:!0},wednesday:{start:"09:00",end:"17:00",available:!0},thursday:{start:"09:00",end:"17:00",available:!0},friday:{start:"09:00",end:"17:00",available:!0},saturday:{start:"09:00",end:"13:00",available:!1},sunday:{start:"09:00",end:"13:00",available:!1}}}),[i,o]=S.useState({}),[a,c]=S.useState(!1),u=(p,g)=>{s(v=>({...v,[p]:g})),i[p]&&o(v=>({...v,[p]:""}))},d=p=>{s(g=>({...g,spokenLanguages:g.spokenLanguages.includes(p)?g.spokenLanguages.filter(v=>v!==p):[...g.spokenLanguages,p]}))},h=p=>{const g={};return p===1&&(n.fullName||(g.fullName="Full name is required"),n.email||(g.email="Email is required"),n.password||(g.password="Password is required"),n.password!==n.confirmPassword&&(g.confirmPassword="Passwords do not match"),n.phone||(g.phone="Phone number is required")),p===2&&(n.specialty||(g.specialty="Specialty is required"),n.licenseNumber||(g.licenseNumber="License number is required"),n.hospital||(g.hospital="Hospital is required"),n.experience||(g.experience="Experience is required"),n.consultationFee||(g.consultationFee="Consultation fee is required")),o(g),Object.keys(g).length===0},f=()=>{h(t)&&r(t+1)},y=async()=>{var p,g,v,b,E,_,j,k,C,A;if(h(t)){c(!0);try{let B;const{data:q,error:J}=await Bt.auth.signUp({email:n.email,password:n.password});if(J)if((p=J.message)!=null&&p.includes("already registered")||(g=J.message)!=null&&g.includes("already been registered")){const{data:tt,error:H}=await Bt.auth.signInWithPassword({email:n.email,password:n.password});if(H)throw J;B=tt.user}else throw J;else B=q.user;if(!B)throw new Error("User creation failed");const Q={supabaseUserId:B.id,email:n.email,name:n.fullName,specialty:n.specialty,licenseNumber:n.licenseNumber,hospital:n.hospital,experience:n.experience?Number(n.experience):void 0,languages:n.spokenLanguages,consultationFee:n.consultationFee?Number(n.consultationFee):void 0};await Ti.registerDoctor(Q),await Bt.auth.signOut(),e("/auth",{state:{message:"Registration successful! Please check your email to verify your account. Your application will be reviewed by our admin team."}})}catch(B){let q="Registration failed. Please try again.";(v=B.message)!=null&&v.includes("already registered")||(b=B.message)!=null&&b.includes("already been registered")?q="Email already in use. Please use a different email or login.":(E=B.message)!=null&&E.includes("weak")||(_=B.message)!=null&&_.includes("password")?q="Password should be at least 6 characters.":(j=B.message)!=null&&j.includes("invalid")&&((k=B.message)!=null&&k.includes("email"))?q="Invalid email address.":ue.isAxiosError(B)?q=((A=(C=B.response)==null?void 0:C.data)==null?void 0:A.error)||B.message||q:B instanceof Error&&(q=B.message||q),console.error("Registration failed:",B),o(J=>({...J,submit:q}))}finally{c(!1)}}},m=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Personal Information"}),l.jsx("p",{className:"text-gray-600",children:"Let's start with your basic details"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(zt,{className:"w-4 h-4 inline mr-2"}),"Full Name"]}),l.jsx("input",{type:"text",value:n.fullName,onChange:p=>u("fullName",p.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent ${i.fullName?"border-red-500":"border-gray-300"}`,placeholder:"Dr. Kwame Asante"}),i.fullName&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.fullName})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(qi,{className:"w-4 h-4 inline mr-2"}),"Email Address"]}),l.jsx("input",{type:"email",value:n.email,onChange:p=>u("email",p.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent ${i.email?"border-red-500":"border-gray-300"}`,placeholder:"doctor@example.com"}),i.email&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.email})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(fs,{className:"w-4 h-4 inline mr-2"}),"Password"]}),l.jsx("input",{type:"password",value:n.password,onChange:p=>u("password",p.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent ${i.password?"border-red-500":"border-gray-300"}`,placeholder:""}),n.password&&n.password.length<6&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Password must be at least 6 characters"}),i.password&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.password})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(fs,{className:"w-4 h-4 inline mr-2"}),"Confirm Password"]}),l.jsx("input",{type:"password",value:n.confirmPassword,onChange:p=>u("confirmPassword",p.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent ${i.confirmPassword?"border-red-500":"border-gray-300"}`,placeholder:""}),n.confirmPassword&&n.password!==n.confirmPassword&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Passwords do not match"}),i.confirmPassword&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.confirmPassword})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),l.jsx("input",{type:"tel",value:n.phone,onChange:p=>u("phone",p.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent ${i.phone?"border-red-500":"border-gray-300"}`,placeholder:"+233 XX XXX XXXX"}),i.phone&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.phone})]})]})]}),w=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Professional Information"}),l.jsx("p",{className:"text-gray-600",children:"Tell us about your medical practice"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(ox,{className:"w-4 h-4 inline mr-2"}),"Medical Specialty"]}),l.jsxs("select",{value:n.specialty,onChange:p=>u("specialty",p.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent ${i.specialty?"border-red-500":"border-gray-300"}`,children:[l.jsx("option",{value:"",children:"Select your specialty"}),mA.map(p=>l.jsx("option",{value:p,children:p},p))]}),i.specialty&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.specialty})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medical License Number"}),l.jsx("input",{type:"text",value:n.licenseNumber,onChange:p=>u("licenseNumber",p.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent ${i.licenseNumber?"border-red-500":"border-gray-300"}`,placeholder:"GMA001234"}),i.licenseNumber&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.licenseNumber})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Ci,{className:"w-4 h-4 inline mr-2"}),"Hospital/Clinic"]}),l.jsxs("select",{value:n.hospital,onChange:p=>u("hospital",p.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent ${i.hospital?"border-red-500":"border-gray-300"}`,children:[l.jsx("option",{value:"",children:"Select your hospital"}),yA.map(p=>l.jsx("option",{value:p,children:p},p))]}),i.hospital&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.hospital})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(ir,{className:"w-4 h-4 inline mr-2"}),"Years of Experience"]}),l.jsx("input",{type:"number",value:n.experience,onChange:p=>u("experience",p.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent ${i.experience?"border-red-500":"border-gray-300"}`,placeholder:"5",min:"0",max:"50"}),i.experience&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.experience})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(QN,{className:"w-4 h-4 inline mr-2"}),"Consultation Fee (GHS)"]}),l.jsx("input",{type:"number",value:n.consultationFee,onChange:p=>u("consultationFee",p.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent ${i.consultationFee?"border-red-500":"border-gray-300"}`,placeholder:"50",min:"0"}),i.consultationFee&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.consultationFee})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[l.jsx(vl,{className:"w-4 h-4 inline mr-2"}),"Languages Spoken"]}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:gA.map(p=>l.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:n.spokenLanguages.includes(p.code),onChange:()=>d(p.code),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:p.name})]},p.code))})]})]})]}),x=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Documents & Verification"}),l.jsx("p",{className:"text-gray-600",children:"Upload required documents for verification"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Profile Photo"}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-emerald-500 transition-colors",children:[l.jsx(gm,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload or drag and drop"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 5MB"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Medical License Document"}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-emerald-500 transition-colors",children:[l.jsx(gm,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Upload your medical license"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, PNG, JPG up to 10MB"})]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[l.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Verification Process"}),l.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[l.jsx("li",{children:" Documents will be reviewed within 24-48 hours"}),l.jsx("li",{children:" You'll receive an email notification once approved"}),l.jsx("li",{children:" Additional documents may be requested if needed"})]})]})]})]});return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50",children:[l.jsx("div",{className:"bg-white shadow-sm p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:()=>e("/auth"),className:"p-2 hover:bg-gray-100 rounded-full",children:l.jsx(bs,{className:"w-6 h-6 text-gray-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Doctor Registration"}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Step ",t," of 3"]})]})]}),l.jsx("div",{className:"flex space-x-2",children:[1,2,3].map(p=>l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${p<=t?"bg-emerald-500 text-white":"bg-gray-200 text-gray-600"}`,children:p<t?l.jsx(Eh,{className:"w-4 h-4"}):p},p))})]})}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-xl shadow-sm p-8",children:[t===1&&m(),t===2&&w(),t===3&&x(),i.submit&&l.jsx("div",{className:"mt-4 text-red-600 text-sm",children:i.submit}),l.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[t>1&&l.jsx("button",{onClick:()=>r(t-1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors",children:"Previous"}),l.jsx("div",{className:"ml-auto",children:t<3?l.jsx("button",{onClick:f,className:"px-6 py-3 bg-emerald-500 text-white rounded-xl hover:bg-emerald-600 transition-colors",children:"Next"}):l.jsx("button",{onClick:y,disabled:a,className:"px-6 py-3 bg-emerald-500 text-white rounded-xl hover:bg-emerald-600 disabled:opacity-50 transition-colors",children:a?"Submitting...":"Submit Application"})})]})]})})]})}const Ao=({children:e,onClick:t,type:r="button",variant:n="primary",size:s="md",disabled:i=!1,loading:o=!1,icon:a,iconPosition:c="left",fullWidth:u=!1,className:d=""})=>{const h="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",f={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500"},y={sm:"px-3 py-2 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},m=[h,f[n],y[s],u?"w-full":"",d].filter(Boolean).join(" ");return l.jsxs("button",{type:r,onClick:t,disabled:i||o,className:m,children:[o&&l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"}),a&&c==="left"&&!o&&l.jsx(a,{className:"w-4 h-4 mr-2"}),e,a&&c==="right"&&!o&&l.jsx(a,{className:"w-4 h-4 ml-2"})]})},xA=({step:e,total:t=4})=>l.jsx("div",{className:"flex items-center justify-center mb-8",children:Array.from({length:t},(r,n)=>n+1).map(r=>l.jsxs(Ii.Fragment,{children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${r===e?"bg-blue-600 text-white":r<e?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:r}),r<t&&l.jsx("div",{className:`w-8 h-0.5 ${r<e?"bg-green-500":"bg-gray-200"}`})]},r))}),Xt=({label:e,type:t="text",placeholder:r,value:n,onChange:s,required:i=!1,disabled:o=!1,error:a,icon:c,iconPosition:u="left",className:d="",inputClassName:h=""})=>{const w=["w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:cursor-not-allowed",a?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300",c?u==="left"?"pl-10":"pr-10":"",h].filter(Boolean).join(" ");return l.jsxs("div",{className:d,children:[e&&l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e,i&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsxs("div",{className:"relative",children:[c&&u==="left"&&l.jsx(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:t,value:n,onChange:s,placeholder:r,required:i,disabled:o,className:w}),c&&u==="right"&&l.jsx(c,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"})]}),a&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:a})]})},wA=({name:e,email:t,password:r,confirmPassword:n,gender:s,age:i,onChange:o})=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(zt,{className:"mx-auto w-12 h-12 text-blue-600 mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Personal Information"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Tell us about yourself"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Xt,{label:"Full Name",type:"text",value:e,onChange:a=>o("name",a.target.value),placeholder:"Enter your full name",required:!0,icon:zt}),l.jsx(Xt,{label:"Email Address",type:"email",value:t,onChange:a=>o("email",a.target.value),placeholder:"patient@example.com",required:!0,icon:qi}),l.jsxs("div",{children:[l.jsx(Xt,{label:"Password",type:"password",value:r,onChange:a=>o("password",a.target.value),placeholder:"",required:!0,icon:fs}),r&&r.length<6&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Password must be at least 6 characters"})]}),l.jsxs("div",{children:[l.jsx(Xt,{label:"Confirm Password",type:"password",value:n,onChange:a=>o("confirmPassword",a.target.value),placeholder:"",required:!0,icon:fs}),n&&r!==n&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Passwords do not match"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Gender ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("div",{className:"grid grid-cols-3 gap-3",children:["MALE","FEMALE","OTHER"].map(a=>l.jsx("button",{type:"button",onClick:()=>o("gender",a),className:`p-3 rounded-lg border text-sm font-medium transition-colors ${s===a?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:a.charAt(0)+a.slice(1).toLowerCase()},a))})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Age ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"number",value:i,onChange:a=>o("age",parseInt(a.target.value)||18),min:"18",max:"120",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your age",required:!0})]})]})]})]}),bA=({location:e,preferredLanguage:t,languages:r,onChange:n})=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(Ci,{className:"mx-auto w-12 h-12 text-blue-600 mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Location & Preferences"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Help us serve you better"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Xt,{label:"Location/Address",type:"text",value:e,onChange:s=>n("location",s.target.value),placeholder:"Enter your city/address",required:!0,icon:Ci}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Preferred Language ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("select",{value:t,onChange:s=>n("preferredLanguage",s.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:r.map(s=>l.jsx("option",{value:s.code,children:s.name},s.code))})]})]})]})]}),jA=({contactName:e,contactPhone:t,relationship:r,relationships:n,onChange:s})=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(Ra,{className:"mx-auto w-12 h-12 text-blue-600 mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Emergency Contact"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Someone we can contact in case of emergency"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Xt,{label:"Emergency Contact Name",type:"text",value:e,onChange:i=>s("name",i.target.value,"emergencyContact"),placeholder:"Enter contact person's name",required:!0,icon:zt}),l.jsx(Xt,{label:"Emergency Contact Phone",type:"tel",value:t,onChange:i=>s("phone",i.target.value,"emergencyContact"),placeholder:"+1 234 567 8900",required:!0,icon:xl}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Relationship"}),l.jsxs("select",{value:r,onChange:i=>s("relationship",i.target.value,"emergencyContact"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"",children:"Select relationship"}),n.map(i=>l.jsx("option",{value:i,children:i},i))]})]})]})]}),SA=({allergies:e,chronicConditions:t,insuranceProvider:r,policyNumber:n,onChange:s})=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(kh,{className:"mx-auto w-12 h-12 text-blue-600 mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Medical Information"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Optional information to help doctors provide better care"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Known Allergies"}),l.jsx("textarea",{value:e,onChange:i=>s("allergies",i.target.value,"medicalHistory"),placeholder:"List any known allergies (medications, food, environmental, etc.)",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chronic Conditions"}),l.jsx("textarea",{value:t,onChange:i=>s("chronicConditions",i.target.value,"medicalHistory"),placeholder:"List any chronic conditions or ongoing health issues",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(Xt,{label:"Insurance Provider",type:"text",value:r,onChange:i=>s("provider",i.target.value,"insuranceInfo"),placeholder:"Insurance company name"}),l.jsx(Xt,{label:"Policy Number",type:"text",value:n,onChange:i=>s("policyNumber",i.target.value,"insuranceInfo"),placeholder:"Your policy number"})]})]})]});function _A(){const[e,t]=S.useState(1),[r,n]=S.useState(!1),[s,i]=S.useState(""),{dispatch:o}=wt(),a=Me(),[c,u]=S.useState({email:"",password:"",confirmPassword:"",name:"",gender:"OTHER",age:18,location:"",preferredLanguage:"en",emergencyContact:{name:"",phone:"",relationship:""},medicalHistory:{allergies:"",chronicConditions:""},insuranceInfo:{provider:"",policyNumber:""}}),d=[{code:"en",name:"English"},{code:"tw",name:"Twi"},{code:"ee",name:"Ewe"},{code:"ga",name:"Ga"},{code:"ha",name:"Hausa"}],h=["Spouse","Parent","Child","Sibling","Friend","Other"],f=(_,j,k)=>{u(k?C=>({...C,[k]:{...C[k],[_]:j}}):C=>({...C,[_]:j}))},y=async()=>{var _,j;n(!0),i("");try{const{data:k,error:C}=await Bt.auth.signUp({email:c.email,password:c.password});if(C)throw C;if(!k.user)throw new Error("User creation failed");await Ti.registerPatient({...c,supabaseUserId:k.user.id}),await Bt.auth.signOut(),localStorage.clear(),sessionStorage.clear(),sessionStorage.setItem("registration_success","true"),a("/auth",{replace:!0})}catch(k){i("Registration failed: "+(((j=(_=k.response)==null?void 0:_.data)==null?void 0:j.error)||k.message))}finally{n(!1)}},m=()=>t(_=>Math.min(_+1,4)),w=()=>t(_=>Math.max(_-1,1)),x=()=>{switch(e){case 1:return c.email&&c.password&&c.password.length>=6&&c.confirmPassword&&c.password===c.confirmPassword&&c.name&&c.age>=18;case 2:return c.location&&c.preferredLanguage;case 3:return c.emergencyContact.name&&c.emergencyContact.phone;case 4:return!0;default:return!1}},p=()=>l.jsx(xA,{step:e,total:4}),g=()=>l.jsx("div",{className:"space-y-4",children:l.jsx(wA,{name:c.name,email:c.email,password:c.password,confirmPassword:c.confirmPassword,gender:c.gender,age:c.age,onChange:(_,j)=>{f(_,j)}})}),v=()=>l.jsx(bA,{location:c.location,preferredLanguage:c.preferredLanguage,languages:d,onChange:(_,j)=>f(_,j)}),b=()=>l.jsx(jA,{contactName:c.emergencyContact.name,contactPhone:c.emergencyContact.phone,relationship:c.emergencyContact.relationship,relationships:h,onChange:f}),E=()=>l.jsx(SA,{allergies:c.medicalHistory.allergies,chronicConditions:c.medicalHistory.chronicConditions,insuranceProvider:c.insuranceInfo.provider,policyNumber:c.insuranceInfo.policyNumber,onChange:f});return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4",children:l.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-2xl",children:l.jsxs(tb,{padding:"lg",children:[p(),l.jsxs("form",{onSubmit:_=>_.preventDefault(),children:[e===1&&g(),e===2&&v(),e===3&&b(),e===4&&E(),s&&l.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 p-3 rounded-lg mt-6",children:[l.jsx(hs,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm",children:s})]}),l.jsxs("div",{className:"flex justify-between items-center mt-8",children:[l.jsx("div",{children:e>1&&l.jsx(Ao,{type:"button",variant:"secondary",onClick:w,icon:bs,iconPosition:"left",children:"Back"})}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx(Ao,{type:"button",variant:"secondary",onClick:()=>a("/auth"),children:"Cancel"}),e<4?l.jsx(Ao,{type:"button",onClick:m,disabled:!x(),children:"Next"}):l.jsx(Ao,{type:"button",onClick:y,loading:r,disabled:!x(),children:"Complete Registration"})]})]})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsx("button",{onClick:()=>a("/auth"),className:"text-blue-600 font-medium hover:text-blue-700 transition-colors text-sm",children:"Already have an account? Sign in"})})]})})})}const EA=({onLanguageToggle:e,onProfile:t,onLogout:r})=>l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"p-2 bg-emerald-100 rounded-full",children:l.jsx(vl,{className:"w-5 h-5 text-emerald-600"})}),l.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 bg-gray-100 rounded-full",children:l.jsx(tx,{className:"w-5 h-5 text-gray-600"})}),l.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"p-2 bg-gray-100 rounded-full",children:l.jsx(zt,{className:"w-5 h-5 text-gray-600"})}),l.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:r,className:"p-2 bg-red-100 rounded-full hover:bg-red-200",children:l.jsx(Nh,{className:"w-5 h-5 text-red-600"})})]}),kA=({title:e,subtitle:t})=>l.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl p-4 text-white",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(YN,{className:"w-6 h-6"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:e}),t&&l.jsx("p",{className:"text-sm opacity-90",children:t})]})]})}),NA=({actions:e,onActionClick:t,translate:r})=>l.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:e.map((n,s)=>l.jsxs(Y.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t(n.screen),className:"bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-200",children:[l.jsx("div",{className:`w-12 h-12 ${n.color} rounded-xl flex items-center justify-center mb-3`,children:l.jsx(n.icon,{className:"w-6 h-6 text-white"})}),l.jsx("h3",{className:"font-semibold text-gray-800 text-left",children:r(n.key)})]},n.key))}),CA=[{key:"consultNow",icon:wl,color:"bg-emerald-500",screen:"consultation"},{key:"scheduleVisit",icon:ZN,color:"bg-blue-500",screen:"home-visit"},{key:"myPrescriptions",icon:sx,color:"bg-purple-500",screen:"prescriptions"},{key:"healthRecords",icon:kh,color:"bg-red-500",screen:"records"},{key:"menstrualTracker",icon:ir,color:"bg-pink-500",screen:"menstrual"},{key:"psychConsult",icon:qN,color:"bg-indigo-500",screen:"psychology"}];function TA(){var o;const{state:e,dispatch:t}=wt(),r=Me();if(!e.user)return null;const n=a=>{const u={consultation:"/consultation","home-visit":"/home-visit",prescriptions:"/prescriptions",chat:"/chat/sample",psychology:"/psychology"}[a]||`/${a}`;r(u)},s=()=>{const a=["en","tw","ee","ga","ha"],u=(a.indexOf(e.currentLanguage)+1)%a.length;t({type:"SET_LANGUAGE",payload:a[u]})},i=()=>{localStorage.clear(),t({type:"LOGOUT"}),r("/auth",{replace:!0})};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50",children:[l.jsxs("div",{className:"bg-white shadow-sm p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800",children:["Welcome, ",(o=e.user)==null?void 0:o.name]}),l.jsx("p",{className:"text-gray-600",children:"How can we help you today?"})]}),l.jsx(EA,{onLanguageToggle:s,onProfile:()=>n("profile"),onLogout:i})]}),l.jsx(kA,{title:mt("freeConsultPromo",e.currentLanguage),subtitle:"Valid for first-time users"})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Quick Actions"}),l.jsx(NA,{actions:CA,onActionClick:n,translate:a=>mt(a,e.currentLanguage)}),l.jsx(Y.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n("recovery"),className:"w-full bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-200 mb-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center",children:l.jsx(Aa,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("h3",{className:"font-semibold text-gray-800",children:mt("recoveryPrograms",e.currentLanguage)}),l.jsx("p",{className:"text-sm text-gray-600",children:"Support for addiction recovery"})]})]})}),l.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[l.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:mt("dailyTip",e.currentLanguage)}),l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("img",{src:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=400",alt:"Health tip",className:"w-16 h-16 rounded-lg object-cover"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-gray-700 mb-2",children:"Drink at least 8 glasses of water daily to stay hydrated and maintain good health."}),l.jsxs("button",{className:"text-emerald-600 text-sm font-medium hover:text-emerald-700",children:[mt("learnMore",e.currentLanguage)," "]})]})]})]})]})]})}const PA=[{key:"videoCall",icon:wl,color:"bg-emerald-500",type:"video"},{key:"voiceCall",icon:xl,color:"bg-blue-500",type:"voice"},{key:"textChat",icon:eC,color:"bg-purple-500",type:"chat"},{key:"voiceNote",icon:Ch,color:"bg-orange-500",type:"voice-note"}],AA=[{key:"general",color:"bg-gray-500"},{key:"womensHealth",color:"bg-pink-500"},{key:"pediatrics",color:"bg-blue-500"},{key:"dermatology",color:"bg-green-500"},{key:"mentalHealth",color:"bg-indigo-500"}];function RA(){const{state:e,dispatch:t}=wt(),r=Me(),[n,s]=S.useState(""),[i,o]=S.useState("general"),[a,c]=S.useState("type"),[u,d]=S.useState([]),[h,f]=S.useState(!1),[y,m]=S.useState("");S.useEffect(()=>{a==="doctors"&&w()},[a,i]);const w=async()=>{f(!0);try{const j=await es.getAvailableDoctors(i,!0);d(j)}catch(j){console.error("Failed to load doctors:",j)}finally{f(!1)}},x=()=>{a==="type"?r("/home"):a==="category"?c("type"):a==="doctors"&&c("category")},p=j=>{s(j),c("category")},g=j=>{o(j),c("doctors")},v=async j=>{try{f(!0);const k={doctorId:j.id,type:n,category:i,symptoms:y},C=await Bu.createConsultation(k);t({type:"ADD_CONSULTATION",payload:C}),r(`/chat/${C.id}`)}catch(k){console.error("Failed to create consultation:",k)}finally{f(!1)}},b=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Choose Consultation Type"}),l.jsx("p",{className:"text-gray-600",children:"How would you like to consult with a doctor?"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:PA.map((j,k)=>l.jsxs(Y.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:k*.1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>p(j.type),className:"bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-200",children:[l.jsx("div",{className:`w-12 h-12 ${j.color} rounded-xl flex items-center justify-center mb-3 mx-auto`,children:l.jsx(j.icon,{className:"w-6 h-6 text-white"})}),l.jsx("h3",{className:"font-semibold text-gray-800",children:mt(j.key,e.currentLanguage)})]},j.key))})]}),E=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Select Category"}),l.jsx("p",{className:"text-gray-600",children:"What type of consultation do you need?"})]}),l.jsx("div",{className:"space-y-3",children:AA.map((j,k)=>l.jsx(Y.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:k*.1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>g(j.key),className:`w-full p-4 rounded-xl text-left transition-all duration-200 ${i===j.key?"bg-emerald-500 text-white shadow-lg":"bg-white text-gray-800 hover:shadow-md"}`,children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${i===j.key?"bg-white":j.color}`}),l.jsx("span",{className:"font-medium",children:mt(j.key,e.currentLanguage)})]})},j.key))}),l.jsx("div",{className:"mt-6",children:l.jsx("textarea",{value:y,onChange:j=>m(j.target.value),placeholder:"Describe your symptoms (optional)",className:"w-full p-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent resize-none",rows:3})})]}),_=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Available Doctors"}),l.jsx("p",{className:"text-gray-600",children:"Choose a doctor for your consultation"})]}),h?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-500 mx-auto"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Loading doctors..."})]}):u.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-gray-600",children:"No doctors available at the moment."}),l.jsx("button",{onClick:w,className:"mt-4 px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600",children:"Refresh"})]}):l.jsx("div",{className:"space-y-4",children:u.map((j,k)=>l.jsx(Y.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:k*.1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>v(j),disabled:h,className:"w-full bg-white rounded-xl p-4 shadow-sm hover:shadow-md transition-all duration-200 disabled:opacity-50",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:j.avatar,alt:j.name,className:"w-16 h-16 rounded-full object-cover"}),l.jsx("div",{className:`absolute -bottom-1 -right-1 w-5 h-5 rounded-full border-2 border-white ${j.isOnline?"bg-green-500":"bg-gray-400"}`})]}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("h3",{className:"font-semibold text-gray-800",children:j.name}),l.jsx("p",{className:"text-sm text-gray-600",children:j.specialty}),l.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(lC,{className:"w-4 h-4 text-yellow-500 fill-current"}),l.jsx("span",{className:"text-sm text-gray-600",children:j.rating})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(js,{className:"w-4 h-4 text-gray-400"}),l.jsxs("span",{className:"text-sm text-gray-600",children:[j.experience,"y exp"]})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(vl,{className:"w-4 h-4 text-gray-400"}),l.jsxs("span",{className:"text-sm text-gray-600",children:[j.languages.length," languages"]})]})]})]}),l.jsx("div",{className:"text-right",children:l.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${j.isOnline?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:j.isOnline?"Online":"Offline"})})]})},j.id))})]});return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50",children:[l.jsx("div",{className:"bg-white shadow-sm p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:x,className:"p-2 hover:bg-gray-100 rounded-full transition-colors duration-200",children:l.jsx(bs,{className:"w-6 h-6 text-gray-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-gray-800",children:mt("consultNow",e.currentLanguage)}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Step ",a==="type"?"1":a==="category"?"2":"3"," of 3"]})]})]})}),l.jsxs("div",{className:"p-6",children:[a==="type"&&b(),a==="category"&&E(),a==="doctors"&&_()]})]})}function OA({consultationId:e,doctorInfo:t}){const{state:r}=wt(),n=Me(),[s,i]=S.useState([]),[o,a]=S.useState(""),[c,u]=S.useState(!1),[d,h]=S.useState(!1),f=S.useRef(null),y=S.useRef(null);S.useEffect(()=>{m()},[s]),S.useEffect(()=>{w();const j=setInterval(()=>{Math.random()>.95&&x()},2e3);return()=>clearInterval(j)},[]);const m=()=>{var j;(j=f.current)==null||j.scrollIntoView({behavior:"smooth"})},w=()=>{var k;const j=[{id:"1",senderId:t.id,senderType:"doctor",content:`Hello! I'm ${t.name}. How can I help you today?`,type:"text",timestamp:new Date(Date.now()-3e5),status:"read"},{id:"2",senderId:((k=r.user)==null?void 0:k.id)||"",senderType:"patient",content:"Hi doctor, I've been having headaches for the past few days.",type:"text",timestamp:new Date(Date.now()-24e4),status:"read"}];i(j)},x=()=>{const j=["I understand. Can you tell me more about the headaches?","How often do you experience these headaches?","Are you taking any medications currently?","Let me know if you have any other symptoms."],k={id:Date.now().toString(),senderId:t.id,senderType:"doctor",content:j[Math.floor(Math.random()*j.length)],type:"text",timestamp:new Date,status:"delivered"};i(C=>[...C,k]),h(!1)},p=()=>{var k;if(!o.trim())return;const j={id:Date.now().toString(),senderId:((k=r.user)==null?void 0:k.id)||"",senderType:"patient",content:o,type:"text",timestamp:new Date,status:"sent"};i(C=>[...C,j]),a(""),setTimeout(()=>h(!0),1e3),setTimeout(()=>{i(C=>C.map(A=>A.id===j.id?{...A,status:"delivered"}:A))},1e3)},g=()=>{u(!0)},v=()=>{u(!1)},b=j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),p())},E=j=>j.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),_=j=>{switch(j){case"sent":return l.jsx(Eh,{className:"w-4 h-4 text-gray-400"});case"delivered":return l.jsx(hm,{className:"w-4 h-4 text-gray-400"});case"read":return l.jsx(hm,{className:"w-4 h-4 text-emerald-500"});default:return null}};return l.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[l.jsxs("div",{className:"bg-white shadow-sm p-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:()=>n("/home"),className:"p-2 hover:bg-gray-100 rounded-full",children:l.jsx(bs,{className:"w-5 h-5 text-gray-600"})}),l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:t.avatar,alt:t.name,className:"w-10 h-10 rounded-full object-cover"}),l.jsx("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 rounded-full border-2 border-white ${t.isOnline?"bg-green-500":"bg-gray-400"}`})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-800",children:t.name}),l.jsx("p",{className:"text-sm text-gray-600",children:t.isOnline?"Online":"Last seen recently"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full",children:l.jsx(xl,{className:"w-5 h-5 text-gray-600"})}),l.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full",children:l.jsx(wl,{className:"w-5 h-5 text-gray-600"})}),l.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full",children:l.jsx(nC,{className:"w-5 h-5 text-gray-600"})})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s.map(j=>l.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`flex ${j.senderType==="patient"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-2xl ${j.senderType==="patient"?"bg-emerald-500 text-white":"bg-white text-gray-800 shadow-sm"}`,children:[l.jsx("p",{className:"text-sm",children:j.content}),l.jsxs("div",{className:`flex items-center justify-end space-x-1 mt-1 ${j.senderType==="patient"?"text-emerald-100":"text-gray-500"}`,children:[l.jsx("span",{className:"text-xs",children:E(j.timestamp)}),j.senderType==="patient"&&_(j.status)]})]})},j.id)),d&&l.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-start",children:l.jsx("div",{className:"bg-white text-gray-800 shadow-sm px-4 py-2 rounded-2xl",children:l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),l.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),l.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),l.jsx("div",{ref:f})]}),l.jsx("div",{className:"bg-white border-t p-4",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"flex-1 relative",children:l.jsx("input",{ref:y,type:"text",value:o,onChange:j=>a(j.target.value),onKeyPress:b,placeholder:mt("typeMessage",r.currentLanguage),className:"w-full px-4 py-3 border border-gray-300 rounded-full focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})}),l.jsx("button",{onClick:c?v:g,className:`p-3 rounded-full transition-colors ${c?"bg-red-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:c?l.jsx(rC,{className:"w-5 h-5"}):l.jsx(Ch,{className:"w-5 h-5"})}),l.jsx("button",{onClick:p,disabled:!o.trim(),className:"p-3 bg-emerald-500 text-white rounded-full hover:bg-emerald-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l.jsx(oC,{className:"w-5 h-5"})})]})})]})}const IA=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"],Cc=[{key:"routine",label:"Routine Visit",color:"bg-green-100 text-green-800",fee:100},{key:"urgent",label:"Urgent Care",color:"bg-yellow-100 text-yellow-800",fee:150},{key:"emergency",label:"Emergency",color:"bg-red-100 text-red-800",fee:200}];function LA(){const{dispatch:e}=wt(),t=Me(),[r,n]=S.useState(1),[s,i]=S.useState({symptoms:"",urgency:"routine",preferredDate:"",preferredTime:"",address:"",landmark:"",phoneNumber:"",emergencyContact:"",specialInstructions:"",paymentMethod:"momo"}),[o,a]=S.useState(!1),c=(x,p)=>{i(g=>({...g,[x]:p}))},u=()=>Cc.find(x=>x.key===s.urgency)||Cc[0],d=async()=>{a(!0);try{console.log("Scheduling home visit:",s),await new Promise(p=>setTimeout(p,2e3));const x={id:Date.now().toString(),patientId:"current-patient",symptoms:s.symptoms,preferredDate:new Date(s.preferredDate),location:{address:s.address,coordinates:[0,0],directions:s.landmark},status:"pending",cost:u().fee};e({type:"ADD_HOME_VISIT",payload:x}),t("/home")}catch(x){console.error("Failed to schedule visit:",x)}finally{a(!1)}},h=()=>{r===1?t("/home"):n(r-1)},f=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Describe Your Symptoms"}),l.jsx("p",{className:"text-gray-600",children:"Help us understand what medical care you need"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What symptoms are you experiencing?"}),l.jsx("textarea",{value:s.symptoms,onChange:x=>c("symptoms",x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent resize-none",rows:4,placeholder:"Please describe your symptoms in detail..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Urgency Level"}),l.jsx("div",{className:"space-y-3",children:Cc.map(x=>l.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"urgency",value:x.key,checked:s.urgency===x.key,onChange:p=>c("urgency",p.target.value),className:"w-4 h-4 text-emerald-600 border-gray-300 focus:ring-emerald-500"}),l.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-700",children:x.label}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.color}`,children:["GHS ",x.fee]})})]})]},x.key))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions (Optional)"}),l.jsx("textarea",{value:s.specialInstructions,onChange:x=>c("specialInstructions",x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent resize-none",rows:2,placeholder:"Any special instructions for the medical team..."})]})]})]}),y=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Choose Date & Time"}),l.jsx("p",{className:"text-gray-600",children:"When would you like the medical team to visit?"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(ir,{className:"w-4 h-4 inline mr-2"}),"Preferred Date"]}),l.jsx("input",{type:"date",value:s.preferredDate,onChange:x=>c("preferredDate",x.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[l.jsx(js,{className:"w-4 h-4 inline mr-2"}),"Preferred Time"]}),l.jsx("div",{className:"grid grid-cols-3 gap-3",children:IA.map(x=>l.jsx("button",{onClick:()=>c("preferredTime",x),className:`p-3 border rounded-xl text-center transition-colors ${s.preferredTime===x?"bg-emerald-500 text-white border-emerald-500":"bg-white text-gray-700 border-gray-300 hover:border-emerald-300"}`,children:x},x))})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(hs,{className:"w-5 h-5 text-blue-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-blue-800",children:"Availability Note"}),l.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Our medical team operates 24/7 for emergencies. For routine visits, we'll confirm your appointment within 2 hours."})]})]})})]})]}),m=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Location Details"}),l.jsx("p",{className:"text-gray-600",children:"Where should our medical team visit you?"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Ci,{className:"w-4 h-4 inline mr-2"}),"Full Address"]}),l.jsx("textarea",{value:s.address,onChange:x=>c("address",x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent resize-none",rows:3,placeholder:"House number, street name, area, city..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landmark (Optional)"}),l.jsx("input",{type:"text",value:s.landmark,onChange:x=>c("landmark",x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Near school, church, or any recognizable landmark"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(xl,{className:"w-4 h-4 inline mr-2"}),"Contact Phone Number"]}),l.jsx("input",{type:"tel",value:s.phoneNumber,onChange:x=>c("phoneNumber",x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"+233 XX XXX XXXX"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(zt,{className:"w-4 h-4 inline mr-2"}),"Emergency Contact (Optional)"]}),l.jsx("input",{type:"tel",value:s.emergencyContact,onChange:x=>c("emergencyContact",x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"+233 XX XXX XXXX"})]})]})]}),w=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Payment & Confirmation"}),l.jsx("p",{className:"text-gray-600",children:"Review your booking and complete payment"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-4",children:[l.jsx("h3",{className:"font-semibold text-gray-800",children:"Booking Summary"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Service Type:"}),l.jsx("span",{className:"font-medium",children:u().label})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Date:"}),l.jsx("span",{className:"font-medium",children:s.preferredDate})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Time:"}),l.jsx("span",{className:"font-medium",children:s.preferredTime})]}),l.jsxs("div",{className:"flex justify-between border-t pt-2",children:[l.jsx("span",{className:"text-gray-600",children:"Total Fee:"}),l.jsxs("span",{className:"font-bold text-emerald-600",children:["GHS ",u().fee]})]})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[l.jsx(rx,{className:"w-4 h-4 inline mr-2"}),"Payment Method"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"payment",value:"momo",checked:s.paymentMethod==="momo",onChange:x=>c("paymentMethod",x.target.value),className:"w-4 h-4 text-emerald-600 border-gray-300 focus:ring-emerald-500"}),l.jsx("span",{className:"text-gray-700",children:"Mobile Money (MTN/Vodafone/AirtelTigo)"})]}),l.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"payment",value:"cash",checked:s.paymentMethod==="cash",onChange:x=>c("paymentMethod",x.target.value),className:"w-4 h-4 text-emerald-600 border-gray-300 focus:ring-emerald-500"}),l.jsx("span",{className:"text-gray-700",children:"Pay on Arrival (Cash)"})]})]})]}),l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(hs,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-yellow-800",children:"Important Notes"}),l.jsxs("ul",{className:"text-sm text-yellow-700 mt-1 space-y-1",children:[l.jsx("li",{children:" A medical professional will contact you to confirm the appointment"}),l.jsx("li",{children:" For emergencies, our team will arrive within 30 minutes"}),l.jsx("li",{children:" Cancellation is free up to 2 hours before the appointment"})]})]})]})})]});return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50",children:[l.jsx("div",{className:"bg-white shadow-sm p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:h,className:"p-2 hover:bg-gray-100 rounded-full",children:l.jsx(bs,{className:"w-6 h-6 text-gray-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Schedule Home Visit"}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Step ",r," of 4"]})]})]}),l.jsx("div",{className:"flex space-x-2",children:[1,2,3,4].map(x=>l.jsx("div",{className:`w-3 h-3 rounded-full ${x<=r?"bg-emerald-500":"bg-gray-300"}`},x))})]})}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-xl shadow-sm p-8",children:[r===1&&f(),r===2&&y(),r===3&&m(),r===4&&w(),l.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[r>1&&l.jsx("button",{onClick:()=>n(r-1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors",children:"Previous"}),l.jsx("div",{className:"ml-auto",children:r<4?l.jsx("button",{onClick:()=>n(r+1),className:"px-6 py-3 bg-emerald-500 text-white rounded-xl hover:bg-emerald-600 transition-colors",children:"Next"}):l.jsx("button",{onClick:d,disabled:o,className:"px-6 py-3 bg-emerald-500 text-white rounded-xl hover:bg-emerald-600 disabled:opacity-50 transition-colors",children:o?"Booking...":"Confirm Booking"})})]})]})})]})}function DA(){const e=Me(),[t,r]=S.useState([]),[n,s]=S.useState(""),[i,o]=S.useState("all"),[a,c]=S.useState(null);S.useEffect(()=>{u()},[]);const u=async()=>{const m=localStorage.getItem("echomed_user_id");m||e("/auth");try{const w=await WT.getAllPrescriptions(m);console.log(w),r(w)}catch(w){console.error("Error fetching prescription data",w)}},d=t.filter(m=>{const w=m.doctor.name.toLowerCase().includes(n.toLowerCase())||m.diagnosis.toLowerCase().includes(n.toLowerCase())||m.medications.some(p=>p.medicine.toLowerCase().includes(n.toLowerCase())),x=i==="all"||m.status===i;return w&&x}),h=m=>{switch(m){case"ACTIVE":return"bg-green-100 text-green-800";case"COMPLETED":return"bg-blue-100 text-blue-800";case"EXPIRED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=m=>new Date(m).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),y=()=>a?l.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>c(null),children:l.jsx(Y.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:m=>m.stopPropagation(),children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Prescription Details"}),l.jsx("button",{onClick:()=>c(null),className:"p-2 hover:bg-gray-100 rounded-full",children:""})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx(zt,{className:"w-5 h-5 text-gray-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-800",children:a.doctor.name}),l.jsx("p",{className:"text-sm text-gray-600",children:a.doctor.specialty})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx(ir,{className:"w-4 h-4"}),l.jsxs("span",{children:["Prescribed on ",f(a.createdAt)]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Diagnosis"}),l.jsx("p",{className:"text-gray-700",children:a.diagnosis})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h4",{className:"font-semibold text-gray-800 mb-4",children:"Medications"}),l.jsx("div",{className:"space-y-4",children:a.medications.map((m,w)=>l.jsxs("div",{className:"border border-gray-200 rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx(mm,{className:"w-5 h-5 text-emerald-600"}),l.jsx("h5",{className:"font-semibold text-gray-800",children:m.medicine}),l.jsxs("span",{className:"text-sm text-gray-600",children:["(",m.quantity,")"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Frequency:"}),l.jsx("p",{className:"font-medium",children:m.frequency})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Duration:"}),l.jsx("p",{className:"font-medium",children:m.duration})]})]}),m.instructions&&l.jsxs("div",{className:"mt-2",children:[l.jsx("span",{className:"text-gray-600",children:"Instructions:"}),l.jsx("p",{className:"text-sm text-gray-700",children:m.instructions})]})]},w))})]}),a.notes&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Doctor's Notes"}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(hs,{className:"w-5 h-5 text-blue-600 mt-0.5"}),l.jsx("p",{className:"text-blue-800",children:a.notes})]})})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs("button",{className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-emerald-500 text-white rounded-xl hover:bg-emerald-600 transition-colors",children:[l.jsx(fm,{className:"w-4 h-4"}),l.jsx("span",{children:"Download PDF"})]}),l.jsx("button",{className:"px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors",children:"Share"})]})]})})}):null;return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50",children:[l.jsxs("div",{className:"bg-white shadow-sm p-6",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[l.jsx("button",{onClick:()=>e("/home"),className:"p-2 hover:bg-gray-100 rounded-full",children:l.jsx(bs,{className:"w-6 h-6 text-gray-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"My Prescriptions"}),l.jsx("p",{className:"text-sm text-gray-600",children:"View and manage your medical prescriptions"})]})]}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(ix,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",value:n,onChange:m=>s(m.target.value),placeholder:"Search prescriptions...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),l.jsxs("select",{value:i,onChange:m=>o(m.target.value),className:"px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"ACTIVE",children:"Active"}),l.jsx("option",{value:"COMPLETED",children:"Completed"}),l.jsx("option",{value:"EXPIRED",children:"Expired"})]})]})]}),l.jsx("div",{className:"p-6",children:d.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(mm,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Prescriptions Found"}),l.jsx("p",{className:"text-gray-500",children:n?"Try adjusting your search terms":"Your prescriptions will appear here after consultations"})]}):l.jsx("div",{className:"space-y-4",children:d.map((m,w)=>l.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},className:"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("h3",{className:"font-semibold text-gray-800",children:m.diagnosis}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h(m.status)}`,children:m.status.charAt(0).toUpperCase()+m.status.slice(1)})]}),l.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Dr. ",m.doctor.name,"  ",m.doctor.specialty]}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[l.jsx(ir,{className:"w-4 h-4"}),l.jsx("span",{children:f(m.createdAt)})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>c(m),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:l.jsx(yl,{className:"w-5 h-5"})}),l.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:l.jsx(fm,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Medications:"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.medications.slice(0,3).map((x,p)=>l.jsxs("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-800 text-sm rounded-full",children:[x.medicine," ",x.quantity]},p)),m.medications.length>3&&l.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 text-sm rounded-full",children:["+",m.medications.length-3," more"]})]})]})]},m.id))})}),y()]})}const MA=({name:e,specialty:t,isOnline:r,onToggleOnline:n,onLogout:s})=>l.jsx("div",{className:"bg-white shadow-sm p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:e||"Doctor Dashboard"}),l.jsx("p",{className:"text-gray-600",children:t||"General Medicine"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:r?"Online":"Offline"}),l.jsx("button",{onClick:n,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${r?"bg-emerald-500":"bg-gray-300"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${r?"translate-x-6":"translate-x-1"}`})})]}),l.jsx("button",{className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200",children:l.jsx(tx,{className:"w-5 h-5 text-gray-600"})}),l.jsx("button",{className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200",children:l.jsx(aC,{className:"w-5 h-5 text-gray-600"})}),l.jsx("button",{onClick:s,className:"p-2 bg-red-100 rounded-full hover:bg-red-200",children:l.jsx(Nh,{className:"w-5 h-5 text-red-600"})})]})]})}),UA=({label:e,value:t,icon:r,trend:n})=>l.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-500 text-sm",children:e}),l.jsx("p",{className:"text-2xl font-semibold text-gray-800",children:t}),n&&l.jsx("p",{className:"text-xs text-emerald-600 mt-1",children:n})]}),l.jsx("div",{className:"p-3 rounded-full bg-emerald-50 text-emerald-600",children:r})]})}),$A=({stats:e})=>{const t=[{label:"Today's Appointments",value:0,icon:l.jsx(KN,{className:"w-5 h-5"})},{label:"Pending",value:0,icon:l.jsx(js,{className:"w-5 h-5"})},{label:"New Messages",value:0,icon:l.jsx(tC,{className:"w-5 h-5"})},{label:"Patients",value:0,icon:l.jsx(hC,{className:"w-5 h-5"})}],r=e!=null&&e.length?e:t;return l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:r.map((n,s)=>l.jsx(UA,{...n},s))})},FA=({consultations:e,onSelect:t,onAccept:r,onDecline:n,onContinue:s})=>{const i=o=>{switch(o){case"pending":return"bg-yellow-100 text-yellow-800";case"active":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e!=null&&e.length?l.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:l.jsx("ul",{className:"divide-y",children:e.map(o=>{var a;return l.jsx("li",{className:"p-4 hover:bg-gray-50",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer",onClick:()=>t==null?void 0:t(o),children:[l.jsx("div",{className:"p-2 rounded-full bg-emerald-50 text-emerald-600",children:l.jsx(dC,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-800",children:o.patientName}),l.jsx("p",{className:"text-sm text-gray-500",children:o.reason||"General consultation"})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${i(o.status)}`,children:(((a=(o.status||"unknown")[0])==null?void 0:a.toUpperCase())||"U")+(o.status||"unknown").slice(1)}),o.date&&l.jsxs("span",{className:"hidden sm:flex items-center space-x-1 text-gray-500 text-sm",children:[l.jsx(ir,{className:"w-4 h-4"})," ",l.jsx("span",{children:o.date})]}),l.jsxs("span",{className:"flex items-center space-x-1 text-gray-500 text-sm",children:[l.jsx(js,{className:"w-4 h-4"})," ",l.jsx("span",{children:o.time})]}),o.status==="pending"&&l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>r==null?void 0:r(o.id),className:"px-3 py-1.5 bg-emerald-500 text-white rounded-md text-sm hover:bg-emerald-600",children:"Accept"}),l.jsx("button",{onClick:()=>n==null?void 0:n(o.id),className:"px-3 py-1.5 bg-gray-500 text-white rounded-md text-sm hover:bg-gray-600",children:"Decline"})]}),o.status==="active"&&l.jsx("button",{onClick:()=>s==null?void 0:s(o.id),className:"px-3 py-1.5 bg-blue-500 text-white rounded-md text-sm hover:bg-blue-600",children:"Continue"})]})]})},o.id)})})}):l.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 text-center text-gray-500",children:"No consultations yet."})};function VA(){var m,w,x;const{state:e,dispatch:t}=wt(),r=Me(),[n,s]=S.useState([]),[i,o]=S.useState(((m=e.user)==null?void 0:m.isAvailable)||!1),[a,c]=S.useState({totalPatients:0,todayConsultations:0,pendingRequests:0,rating:4.5});S.useEffect(()=>{var g;const p=(g=e.user)==null?void 0:g.isAvailable;p!==void 0&&(console.log("User context changed, updating isAvailable to:",p),o(p))},[e.user]),S.useEffect(()=>(u(),d(),()=>{}),[]);const u=async()=>{const p=e.user,g=(p==null?void 0:p.id)||localStorage.getItem("echomed_user_id");if(!g){console.log("No doctor user ID found for loading status. State.user:",e.user);return}console.log("Loading doctor status for ID:",g);try{const v=await es.getDoctorProfile(g);console.log("Doctor profile response:",v);const b=v.doctor||v;console.log("Doctor data:",b),console.log("Doctor isAvailable:",b.isAvailable),o(b.isAvailable||!1),t({type:"SET_USER",payload:b}),console.log("Set isAvailable to:",b.isAvailable||!1)}catch(v){console.error("Failed to load doctor status:",v)}},d=async()=>{var p;try{if(!e.user||e.user.id===void 0)return;const b=((await Bu.getConsultations(e.user.id)).consultations||[]).map(k=>{var C;return{...k,status:(C=k.status)==null?void 0:C.toLowerCase()}});s(b);const E=new Date().toDateString(),_=b.filter(k=>new Date(k.createdAt).toDateString()===E),j=b.filter(k=>k.status==="pending");c({totalPatients:b.length,todayConsultations:_.length,pendingRequests:j.length,rating:((p=e.user)==null?void 0:p.rating)||4.5})}catch(g){console.error("Failed to load consultations:",g)}},h=async()=>{const p=e.user,g=(p==null?void 0:p.id)||localStorage.getItem("echomed_user_id");if(!g){console.log("No doctor user ID found. State.user:",e.user),console.log("localStorage echomed_user_id:",localStorage.getItem("echomed_user_id"));return}console.log("Toggling status from:",i,"to:",!i);try{const v=!i,b=await es.updateDoctorStatus(g,v);console.log("Status update response:",b);const E=b.doctor||b;console.log("Updated doctor:",E),o(v),t({type:"SET_USER",payload:E}),console.log("Status updated successfully to:",v)}catch(v){console.error("Failed to update status:",v)}},f=async(p,g)=>{try{await Bu.updateConsultationStatus(p,g.toUpperCase()),d(),g==="active"&&r(`/chat/${p}`)}catch(v){console.error("Failed to update consultation:",v)}},y=async()=>{const p=e.user,g=(p==null?void 0:p.id)||localStorage.getItem("echomed_user_id");if(g)try{await es.updateDoctorStatus(g,!1)}catch(v){console.error("Failed to set offline status:",v)}localStorage.clear(),t({type:"LOGOUT"}),r("/auth",{replace:!0})};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50",children:[l.jsx(MA,{name:(w=e.user)==null?void 0:w.name,specialty:(x=e.user)==null?void 0:x.specialty,isOnline:i,onToggleOnline:h,onLogout:y}),l.jsxs("div",{className:"p-6",children:[l.jsx($A,{stats:[{label:"Total Patients",value:a.totalPatients,icon:l.jsx(Ra,{className:"w-5 h-5"})},{label:"Today's Consultations",value:a.todayConsultations,icon:l.jsx(ir,{className:"w-5 h-5"})},{label:"Pending Requests",value:a.pendingRequests,icon:l.jsx(js,{className:"w-5 h-5"})},{label:"Rating",value:Number(a.rating||0).toFixed(1),icon:l.jsx(Mu,{className:"w-5 h-5"})}]}),l.jsxs("div",{className:"mt-8",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Recent Consultations"}),l.jsx(FA,{consultations:n.map(p=>{var g;return{id:p.id,patientName:p.patientName||((g=p.patient)==null?void 0:g.name)||"Patient",time:new Date(p.createdAt).toLocaleTimeString(),date:new Date(p.createdAt).toLocaleDateString(),status:p.status,reason:p.symptoms||p.reason}}),onSelect:p=>{const g=n.find(v=>v.id===p.id);g&&(g.status==="pending"?f(g.id,"active"):g.status==="active"&&r(`/chat/${g.id}`))},onAccept:p=>f(String(p),"active"),onDecline:p=>f(String(p),"cancelled"),onContinue:p=>r(`/chat/${p}`)})]})]})]})}const BA=()=>{const[e,t]=S.useState({email:"",password:""}),[r,n]=S.useState(!1),[s,i]=S.useState(""),[o,a]=S.useState(!1),c=Me(),u=async h=>{var f,y;h.preventDefault(),i(""),a(!0);try{const{data:m,error:w}=await Bt.auth.signInWithPassword({email:e.email,password:e.password});if(w)throw w;if(!m.user)throw new Error("Authentication failed");const x=await K.post("/auth/doctor/login",{supabaseUserId:m.user.id,email:e.email}),{doctor:p,token:g}=x.data||{};if(!p||!g)throw new Error("Invalid server response");if(!p.isAdmin){i("This account does not have admin access"),await Bt.auth.signOut();return}localStorage.clear(),localStorage.setItem("echomed_admin_token",g),localStorage.setItem("echomed_admin_user",JSON.stringify(p)),c("/admin/dashboard")}catch(m){let w="Login failed. Please try again.";ue.isAxiosError(m)?w=((y=(f=m.response)==null?void 0:f.data)==null?void 0:y.error)||m.message||w:m instanceof Error&&(w=m.message||w),i(w)}finally{a(!1)}},d=h=>{const{name:f,value:y}=h.target;t(m=>({...m,[f]:y})),s&&i("")};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto h-16 w-16 bg-blue-600 rounded-full flex items-center justify-center",children:l.jsx(Aa,{className:"h-8 w-8 text-white"})}),l.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Admin Access"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to access the EchoMed admin dashboard"})]}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),l.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:d,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter admin email"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"password",name:"password",type:r?"text":"password",required:!0,value:e.password,onChange:d,className:"appearance-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter admin password"}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!r),children:r?l.jsx(nx,{className:"h-4 w-4 text-gray-400 hover:text-gray-600"}):l.jsx(yl,{className:"h-4 w-4 text-gray-400 hover:text-gray-600"})})]})]})]}),s&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:s}),l.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 p-3 rounded-md border",children:[l.jsx("strong",{children:"Note:"})," Use an admin doctor account (isAdmin=true)."]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:o||!e.email||!e.password,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in"})})]}),l.jsx("div",{className:"text-center",children:l.jsx("button",{onClick:()=>c("/"),className:"text-sm text-blue-600 hover:text-blue-500 transition-colors",children:" Back to main app"})})]})})},je=(e={})=>{const t=localStorage.getItem("echomed_admin_token");return t&&(e["x-custom-auth"]=t),{headers:e}},ii={list:async e=>{const t=new URLSearchParams;e!=null&&e.page&&t.append("page",String(e.page)),e!=null&&e.limit&&t.append("limit",String(e.limit)),e!=null&&e.role&&t.append("role",e.role);const r=t.toString(),n=r?`/admin/users?${r}`:"/admin/users";return(await K.get(n,je())).data},search:async(e,t,r,n)=>{const s=new URLSearchParams;return s.append("q",e),t&&s.append("role",t),r&&s.append("page",String(r)),n&&s.append("limit",String(n)),(await K.get(`/admin/users/search?${s.toString()}`,je())).data},get:async e=>(await K.get(`/admin/users/${e}`,je())).data,create:async e=>(await K.post("/admin/users",e,je())).data,update:async(e,t)=>(await K.put(`/admin/users/${e}`,t,je())).data,updateVerification:async(e,t)=>(await K.put(`/admin/users/${e}/verification`,{isVerified:t},je())).data,remove:async e=>(await K.delete(`/admin/users/${e}`,je())).data},Tc={getPending:async e=>{const t=new URLSearchParams;return e!=null&&e.page&&t.append("page",String(e.page)),e!=null&&e.limit&&t.append("limit",String(e.limit)),(await K.get(`/admin/doctors/pending?${t.toString()}`,je())).data},verify:async e=>(await K.post(`/admin/doctors/${e}/verify`,{},je())).data,reject:async(e,t)=>(await K.post(`/admin/doctors/${e}/reject`,{reason:t},je())).data},Ha={list:async()=>(await K.get("/admin/consultations",je())).data,get:async e=>(await K.get(`/admin/consultations/${e}`,je())).data,updateStatus:async(e,t)=>(await K.put(`/admin/consultations/${e}/status`,{status:t},je())).data},od={list:async e=>{const t=new URLSearchParams;return e!=null&&e.page&&t.append("page",String(e.page)),e!=null&&e.limit&&t.append("limit",String(e.limit)),e!=null&&e.status&&t.append("status",e.status),e!=null&&e.doctorId&&t.append("doctorId",e.doctorId),e!=null&&e.patientId&&t.append("patientId",e.patientId),(await K.get(`/admin/prescriptions?${t.toString()}`,je())).data},get:async e=>(await K.get(`/admin/prescriptions/${e}`,je())).data,updateStatus:async(e,t)=>(await K.put(`/admin/prescriptions/${e}/status`,{status:t},je())).data},zA={stats:async()=>(await K.get("/admin/stats",je())).data,health:async()=>(await K.get("/admin/health",je())).data},ng=({label:e,color:t})=>l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t}`,children:e}),HA=({title:e,message:t,isOpen:r,onConfirm:n,onCancel:s})=>r?l.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e}),l.jsx("p",{className:"text-gray-600 mb-6",children:t}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{onClick:s,className:"px-4 py-2 text-sm rounded-md border",children:"Cancel"}),l.jsx("button",{onClick:n,className:"px-4 py-2 text-sm rounded-md bg-red-600 text-white",children:"Delete"})]})]})}):null,qA=({onEdit:e,onCreate:t,onDeleted:r})=>{var x;const[n,s]=S.useState([]),[i,o]=S.useState(!0),[a,c]=S.useState(""),[u,d]=S.useState("ALL"),[h,f]=S.useState({open:!1});S.useEffect(()=>{let p=!0;return(async()=>{try{o(!0);const g=await ii.list(),v=g.users||g;p&&s(v)}catch(g){console.error(g)}finally{p&&o(!1)}})(),()=>{p=!1}},[]);const y=S.useMemo(()=>{let p=n;if(u!=="ALL"&&(p=p.filter(g=>(g.role||g.type)===u)),a.trim().length>=2){const g=a.toLowerCase();p=p.filter(v=>{var b,E;return v.name.toLowerCase().includes(g)||((b=v.email)==null?void 0:b.toLowerCase().includes(g))||((E=v.phone)==null?void 0:E.toLowerCase().includes(g))})}return p},[n,a,u]),m=async p=>{try{await ii.remove(p.id),s(g=>g.filter(v=>v.id!==p.id)),r==null||r(p.id),f({open:!1})}catch(g){console.error(g)}},w=async p=>{try{const g=!(p.isVerified??!1);await ii.updateVerification(p.id,g),s(v=>v.map(b=>b.id===p.id?{...b,isVerified:g}:b))}catch(g){console.error(g)}};return l.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between gap-3",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Users"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx(ix,{className:"h-4 w-4 text-gray-400 absolute left-2 top-2.5"}),l.jsx("input",{value:a,onChange:p=>c(p.target.value),placeholder:"Search name, email, phone...",className:"pl-8 pr-3 py-2 border rounded-md text-sm"})]}),l.jsxs("select",{value:u,onChange:p=>d(p.target.value),className:"border rounded-md text-sm py-2 px-3",children:[l.jsx("option",{value:"ALL",children:"All"}),l.jsx("option",{value:"PATIENT",children:"Patients"}),l.jsx("option",{value:"DOCTOR",children:"Doctors"})]}),l.jsxs("button",{onClick:t,className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-sm px-3 py-2 rounded-md",children:[l.jsx(iC,{className:"h-4 w-4"})," New User"]})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Contact"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Joined"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:i?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-500",children:"Loading..."})}):y.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-500",children:"No users found."})}):y.map(p=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-medium text-gray-700",children:p.name.charAt(0).toUpperCase()})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.name}),p.specialty&&l.jsx("div",{className:"text-xs text-gray-500",children:p.specialty})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx(ng,{label:p.role||p.type||"UNKNOWN",color:(p.role||p.type)==="DOCTOR"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.email||p.phone}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center gap-2",children:[p.isOnline&&l.jsx(ng,{label:"Online",color:"bg-green-100 text-green-800"}),p.isVerified?l.jsxs("button",{onClick:()=>w(p),className:"inline-flex items-center gap-1 text-xs text-green-700",children:[l.jsx(GN,{className:"h-4 w-4"})," Verified"]}):l.jsxs("button",{onClick:()=>w(p),className:"inline-flex items-center gap-1 text-xs text-gray-600",children:[l.jsx(fC,{className:"h-4 w-4"})," Not verified"]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(p.createdAt).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsxs("button",{onClick:()=>e(p),className:"inline-flex items-center gap-1 text-blue-600 hover:text-blue-900",children:[l.jsx(sC,{className:"h-4 w-4"})," Edit"]}),l.jsxs("button",{onClick:()=>f({open:!0,user:p}),className:"inline-flex items-center gap-1 text-red-600 hover:text-red-900",children:[l.jsx(cC,{className:"h-4 w-4"})," Delete"]})]})})]},p.id))})]})}),l.jsx(HA,{isOpen:h.open,title:"Delete user",message:`Are you sure you want to delete ${(x=h.user)==null?void 0:x.name}? This action cannot be undone.`,onCancel:()=>f({open:!1}),onConfirm:()=>h.user&&m(h.user)})]})},WA=({isOpen:e,onClose:t,children:r,title:n})=>e?l.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[l.jsxs("div",{className:"px-6 py-4 border-b flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n}),l.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:""})]}),l.jsx("div",{className:"p-6",children:r})]})}):null,KA=({user:e,onClose:t,onSaved:r})=>{const[n,s]=S.useState({role:"PATIENT"}),[i,o]=S.useState(!1),a=!!(e!=null&&e.id);S.useEffect(()=>{e&&s({...e,allergies:Array.isArray(e.allergies)?e.allergies.join(", "):e.allergies})},[e]);const c=(d,h)=>{s(f=>({...f,[d]:h}))},u=async d=>{d.preventDefault();try{o(!0);const h={name:n.name,email:n.email,phone:n.phone,role:n.role,specialty:n.role==="DOCTOR"?n.specialty:void 0,hospital:n.role==="DOCTOR"?n.hospital:void 0,age:n.role==="PATIENT"?n.age:void 0,gender:n.gender,allergies:typeof n.allergies=="string"?n.allergies.split(",").map(y=>y.trim()):n.allergies};let f;a&&e?(f=await ii.update(e.id,h),r(f.user||f)):(f=await ii.create(h),r(f.user||f)),t()}catch(h){console.error(h)}finally{o(!1)}};return l.jsx(WA,{isOpen:!0,onClose:t,title:a?"Edit User":"Create User",children:l.jsxs("form",{onSubmit:u,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),l.jsx("input",{required:!0,value:n.name||"",onChange:d=>c("name",d.target.value),className:"mt-1 block w-full border rounded-md px-3 py-2"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),l.jsxs("select",{value:n.role,onChange:d=>c("role",d.target.value),className:"mt-1 block w-full border rounded-md px-3 py-2",children:[l.jsx("option",{value:"PATIENT",children:"Patient"}),l.jsx("option",{value:"DOCTOR",children:"Doctor"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),l.jsx("input",{value:n.phone||"",onChange:d=>c("phone",d.target.value),className:"mt-1 block w-full border rounded-md px-3 py-2"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsx("input",{type:"email",value:n.email||"",onChange:d=>c("email",d.target.value),className:"mt-1 block w-full border rounded-md px-3 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),l.jsxs("select",{value:n.gender||"",onChange:d=>c("gender",d.target.value),className:"mt-1 block w-full border rounded-md px-3 py-2",children:[l.jsx("option",{value:"",children:"Select"}),l.jsx("option",{value:"MALE",children:"Male"}),l.jsx("option",{value:"FEMALE",children:"Female"}),l.jsx("option",{value:"OTHER",children:"Other"})]})]})]}),n.role==="DOCTOR"?l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Specialty"}),l.jsx("input",{value:n.specialty||"",onChange:d=>c("specialty",d.target.value),className:"mt-1 block w-full border rounded-md px-3 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hospital"}),l.jsx("input",{value:n.hospital||"",onChange:d=>c("hospital",d.target.value),className:"mt-1 block w-full border rounded-md px-3 py-2"})]})]}):l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Age"}),l.jsx("input",{type:"number",min:0,value:n.age||"",onChange:d=>c("age",Number(d.target.value)),className:"mt-1 block w-full border rounded-md px-3 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Allergies"}),l.jsx("input",{value:n.allergies||"",onChange:d=>c("allergies",d.target.value),className:"mt-1 block w-full border rounded-md px-3 py-2",placeholder:"Comma separated"})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[l.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm rounded-md border",children:"Cancel"}),l.jsx("button",{disabled:i,type:"submit",className:"px-4 py-2 text-sm rounded-md bg-blue-600 text-white",children:i?"Saving...":"Save"})]})]})})};function GA(){var w;const[e,t]=S.useState([]),[r,n]=S.useState(!0),[s,i]=S.useState(null),[o,a]=S.useState(!1),[c,u]=S.useState(""),[d,h]=S.useState(!1),f=async()=>{try{n(!0);const x=await Tc.getPending({limit:50});t(x.doctors||[])}catch(x){console.error("Error fetching pending doctors:",x)}finally{n(!1)}};S.useEffect(()=>{f()},[]);const y=async x=>{var p,g;if(confirm("Are you sure you want to approve this doctor?")){a(!0);try{await Tc.verify(x),alert("Doctor verified successfully! An approval email has been sent."),f(),i(null)}catch(v){alert(((g=(p=v.response)==null?void 0:p.data)==null?void 0:g.error)||"Failed to verify doctor")}finally{a(!1)}}},m=async x=>{var p,g;a(!0);try{await Tc.reject(x,c),alert("Doctor rejected. A notification email has been sent."),f(),i(null),h(!1),u("")}catch(v){alert(((g=(p=v.response)==null?void 0:p.data)==null?void 0:g.error)||"Failed to reject doctor")}finally{a(!1)}};return r?l.jsx("div",{className:"flex items-center justify-center p-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Pending Doctor Verifications"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Review and approve doctor applications"})]}),l.jsxs("div",{className:"bg-yellow-100 text-yellow-800 px-4 py-2 rounded-full font-semibold",children:[e.length," Pending"]})]}),e.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[l.jsx(dm,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No pending verifications"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"All doctor applications have been reviewed."})]}):l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(x=>l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Dr. ",x.name]}),l.jsx("p",{className:"text-sm text-indigo-600",children:x.specialty})]}),l.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:"Pending"})]}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qi,{className:"h-4 w-4"}),l.jsx("span",{className:"truncate",children:x.email})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(WN,{className:"h-4 w-4"}),l.jsx("span",{children:x.hospital})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(dm,{className:"h-4 w-4"}),l.jsxs("span",{children:["License: ",x.licenseNumber]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ci,{className:"h-4 w-4"}),l.jsxs("span",{children:[x.experience," years experience"]})]})]}),l.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Applied: ",new Date(x.createdAt).toLocaleDateString()]}),l.jsx("div",{className:"flex gap-2",children:l.jsxs("button",{onClick:()=>i(x),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors text-sm",children:[l.jsx(yl,{className:"h-4 w-4"}),"Details"]})})]},x.id))}),s&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Doctor Application Details"}),l.jsx("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600",children:l.jsx(ym,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Full Name"}),l.jsxs("p",{className:"text-gray-900",children:["Dr. ",s.name]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Specialty"}),l.jsx("p",{className:"text-gray-900",children:s.specialty})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Email"}),l.jsx("p",{className:"text-gray-900",children:s.email})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"License Number"}),l.jsx("p",{className:"text-gray-900",children:s.licenseNumber})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Hospital/Clinic"}),l.jsx("p",{className:"text-gray-900",children:s.hospital})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Years of Experience"}),l.jsxs("p",{className:"text-gray-900",children:[s.experience," years"]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Consultation Fee"}),l.jsxs("p",{className:"text-gray-900",children:["$",s.consultationFee]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Languages"}),l.jsx("p",{className:"text-gray-900",children:((w=s.languages)==null?void 0:w.join(", "))||"Not specified"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Application Date"}),l.jsx("p",{className:"text-gray-900",children:new Date(s.createdAt).toLocaleString()})]})]}),l.jsxs("div",{className:"border-t pt-6 flex gap-3",children:[l.jsxs("button",{onClick:()=>y(s.id),disabled:o,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l.jsx(Eh,{className:"h-5 w-5"}),o?"Processing...":"Approve & Send Email"]}),l.jsxs("button",{onClick:()=>{h(!0)},disabled:o,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l.jsx(ym,{className:"h-5 w-5"}),"Reject"]})]})]})]})})}),d&&s&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Reject Application"}),l.jsxs("p",{className:"text-gray-600 mb-4",children:["Provide a reason for rejecting Dr. ",s.name,"'s application (optional):"]}),l.jsx("textarea",{value:c,onChange:x=>u(x.target.value),className:"w-full border border-gray-300 rounded-md p-3 mb-4 h-32",placeholder:"e.g., Invalid license number, incomplete information..."}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>{h(!1),u("")},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancel"}),l.jsx("button",{onClick:()=>m(s.id),disabled:o,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:o?"Sending...":"Confirm Rejection"})]})]})})]})}const JA=({label:e,color:t})=>l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t}`,children:e}),XA=({onOpen:e})=>{const[t,r]=S.useState([]),[n,s]=S.useState(!0);return S.useEffect(()=>{let i=!0;return(async()=>{try{s(!0);const o=await Ha.list(),a=o.consultations||o;i&&r(a)}catch(o){console.error(o)}finally{i&&s(!1)}})(),()=>{i=!1}},[]),l.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Consultations"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Patient"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Doctor"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:n?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-500",children:"Loading..."})}):t.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-500",children:"No consultations found."})}):t.map(i=>l.jsxs("tr",{children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",i.id.slice(-8)]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.patientName||"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.doctorName||"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx(JA,{label:i.status,color:i.status==="ACTIVE"?"bg-green-100 text-green-800":i.status==="COMPLETED"?"bg-blue-100 text-blue-800":i.status==="CANCELLED"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(i.createdAt).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsx("button",{onClick:()=>e(i.id),className:"text-blue-600 hover:text-blue-900",children:"Open"})})]},i.id))})]})})]})},QA=({isOpen:e,onClose:t,children:r,title:n})=>e?l.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[l.jsxs("div",{className:"px-6 py-4 border-b flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n}),l.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:""})]}),l.jsx("div",{className:"p-6",children:r})]})}):null,YA=({consultationId:e,onClose:t})=>{var u,d,h,f,y,m,w,x;const[r,n]=S.useState(null),[s,i]=S.useState(""),[o,a]=S.useState(!1);S.useEffect(()=>{let p=!0;if(e)return(async()=>{try{const g=await Ha.get(e);p&&(n(g),i(g.status))}catch(g){console.error(g)}})(),()=>{p=!1}},[e]);const c=async()=>{if(e)try{a(!0),await Ha.updateStatus(e,s),a(!1),t()}catch(p){console.error(p),a(!1)}};return l.jsx(QA,{isOpen:!!e,onClose:t,title:`Consultation ${e==null?void 0:e.slice(-8)}`,children:r?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Participants"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{className:"p-3 rounded-md border",children:[l.jsx("div",{className:"text-gray-500",children:"Patient"}),l.jsx("div",{className:"font-medium",children:(u=r.patient)==null?void 0:u.name}),l.jsx("div",{className:"text-gray-500",children:(d=r.patient)==null?void 0:d.phone})]}),l.jsxs("div",{className:"p-3 rounded-md border",children:[l.jsx("div",{className:"text-gray-500",children:"Doctor"}),l.jsx("div",{className:"font-medium",children:(h=r.doctor)==null?void 0:h.name}),l.jsx("div",{className:"text-gray-500",children:(f=r.doctor)==null?void 0:f.specialty})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Status"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("select",{value:s,onChange:p=>i(p.target.value),className:"border rounded-md px-3 py-2",children:[l.jsx("option",{value:"PENDING",children:"PENDING"}),l.jsx("option",{value:"ACTIVE",children:"ACTIVE"}),l.jsx("option",{value:"COMPLETED",children:"COMPLETED"}),l.jsx("option",{value:"CANCELLED",children:"CANCELLED"})]}),l.jsx("button",{disabled:o,onClick:c,className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:o?"Saving...":"Save"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Message Stats"}),l.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center text-sm",children:[l.jsxs("div",{className:"p-3 rounded-md border",children:[l.jsx("div",{className:"text-gray-500",children:"Total"}),l.jsx("div",{className:"font-semibold",children:((y=r.messageStats)==null?void 0:y.totalMessages)??0})]}),l.jsxs("div",{className:"p-3 rounded-md border",children:[l.jsx("div",{className:"text-gray-500",children:"Patient"}),l.jsx("div",{className:"font-semibold",children:((m=r.messageStats)==null?void 0:m.patientMessages)??0})]}),l.jsxs("div",{className:"p-3 rounded-md border",children:[l.jsx("div",{className:"text-gray-500",children:"Doctor"}),l.jsx("div",{className:"font-semibold",children:((w=r.messageStats)==null?void 0:w.doctorMessages)??0})]}),l.jsxs("div",{className:"p-3 rounded-md border",children:[l.jsx("div",{className:"text-gray-500",children:"Last"}),l.jsx("div",{className:"font-semibold",children:(x=r.messageStats)!=null&&x.lastMessageAt?new Date(r.messageStats.lastMessageAt).toLocaleString():"-"})]})]})]})]}):l.jsx("div",{className:"text-gray-500",children:"Loading..."})})},ZA=({label:e,color:t})=>l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t}`,children:e}),eR=({onOpen:e})=>{const[t,r]=S.useState([]),[n,s]=S.useState(!0),[i,o]=S.useState("");return S.useEffect(()=>{let a=!0;return(async()=>{try{s(!0);const c=await od.list({status:i||void 0}),u=c.prescriptions||c;a&&r(u)}catch(c){console.error(c)}finally{a&&s(!1)}})(),()=>{a=!1}},[i]),l.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Prescriptions"}),l.jsxs("select",{value:i,onChange:a=>o(a.target.value),className:"border rounded-md px-3 py-2 text-sm",children:[l.jsx("option",{value:"",children:"All"}),l.jsx("option",{value:"ACTIVE",children:"Active"}),l.jsx("option",{value:"COMPLETED",children:"Completed"}),l.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Patient"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Doctor"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:n?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-500",children:"Loading..."})}):t.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-500",children:"No prescriptions found."})}):t.map(a=>{var c,u;return l.jsxs("tr",{children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",a.id.slice(-8)]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((c=a.patient)==null?void 0:c.name)||"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((u=a.doctor)==null?void 0:u.name)||"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx(ZA,{label:a.status,color:a.status==="ACTIVE"?"bg-green-100 text-green-800":a.status==="COMPLETED"?"bg-blue-100 text-blue-800":a.status==="CANCELLED"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(a.createdAt).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsx("button",{onClick:()=>e(a.id),className:"text-blue-600 hover:text-blue-900",children:"Open"})})]},a.id)})})]})})]})},tR=({isOpen:e,onClose:t,children:r,title:n})=>e?l.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[l.jsxs("div",{className:"px-6 py-4 border-b flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n}),l.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:""})]}),l.jsx("div",{className:"p-6",children:r})]})}):null,rR=({prescriptionId:e,onClose:t})=>{var u,d,h,f,y;const[r,n]=S.useState(null),[s,i]=S.useState(""),[o,a]=S.useState(!1);S.useEffect(()=>{let m=!0;if(e)return(async()=>{try{const w=await od.get(e);m&&(n(w),i(w.status))}catch(w){console.error(w)}})(),()=>{m=!1}},[e]);const c=async()=>{if(e)try{a(!0),await od.updateStatus(e,s),a(!1),t()}catch(m){console.error(m),a(!1)}};return l.jsx(tR,{isOpen:!!e,onClose:t,title:`Prescription ${e==null?void 0:e.slice(-8)}`,children:r?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Participants"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{className:"p-3 rounded-md border",children:[l.jsx("div",{className:"text-gray-500",children:"Patient"}),l.jsx("div",{className:"font-medium",children:(u=r.patient)==null?void 0:u.name}),l.jsx("div",{className:"text-gray-500",children:(d=r.patient)==null?void 0:d.phone})]}),l.jsxs("div",{className:"p-3 rounded-md border",children:[l.jsx("div",{className:"text-gray-500",children:"Doctor"}),l.jsx("div",{className:"font-medium",children:(h=r.doctor)==null?void 0:h.name}),l.jsx("div",{className:"text-gray-500",children:(f=r.doctor)==null?void 0:f.specialty})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Status"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("select",{value:s,onChange:m=>i(m.target.value),className:"border rounded-md px-3 py-2",children:[l.jsx("option",{value:"ACTIVE",children:"ACTIVE"}),l.jsx("option",{value:"COMPLETED",children:"COMPLETED"}),l.jsx("option",{value:"CANCELLED",children:"CANCELLED"})]}),l.jsx("button",{disabled:o,onClick:c,className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:o?"Saving...":"Save"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Medications"}),l.jsx("ul",{className:"list-disc pl-5 text-sm text-gray-700",children:(y=r.medications)==null?void 0:y.map(m=>l.jsxs("li",{children:[m.name," - ",m.dosage," - ",m.frequency]},m.id))})]})]}):l.jsx("div",{className:"text-gray-500",children:"Loading..."})})},nR=()=>{const e=Me(),[t,r]=S.useState({totalPatients:0,totalDoctors:0,totalConsultations:0,activeConsultations:0,onlineDoctors:0,verifiedDoctors:0}),[n,s]=S.useState([]),[i,o]=S.useState(!0),[a,c]=S.useState("overview"),[u,d]=S.useState(null),[h,f]=S.useState(!1),[y,m]=S.useState(0),[w,x]=S.useState(null),[p,g]=S.useState(null);S.useEffect(()=>{v()},[]);const v=async()=>{try{o(!0);const _=await zA.stats(),j=_.stats||_;r(j);const k=await Ha.list(),C=k.consultations||k;s(C)}catch(_){console.error("Error fetching admin data:",_)}finally{o(!1)}},b=()=>{localStorage.clear(),e("/admin/login",{replace:!0})},E=({title:_,value:j,icon:k,color:C})=>l.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4",style:{borderLeftColor:C},children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:_}),(j||0).toLocaleString()]}),l.jsx("div",{className:"text-3xl",style:{color:C},children:k})]})});return i?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow-sm border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center py-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Aa,{className:"h-8 w-8 text-blue-600 mr-3"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"EchoMed Admin Dashboard"})]}),l.jsxs("button",{onClick:b,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",children:[l.jsx(Nh,{className:"h-4 w-4 mr-2"}),"Logout"]})]})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:l.jsx("div",{className:"border-b border-gray-200",children:l.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"overview",label:"Overview",icon:Mu},{key:"pending-doctors",label:"Pending Doctors",icon:js},{key:"users",label:"All Users",icon:Ra},{key:"consultations",label:"Consultations",icon:pm},{key:"prescriptions",label:"Prescriptions",icon:sx}].map(({key:_,label:j,icon:k})=>l.jsxs("button",{onClick:()=>c(_),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${a===_?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(k,{className:"h-4 w-4 mr-2"}),j]},_))})})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:[a==="overview"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsx(E,{title:"Total Patients",value:t.totalPatients,icon:l.jsx(Ra,{}),color:"#10b981"}),l.jsx(E,{title:"Total Doctors",value:t.totalDoctors,icon:l.jsx(uC,{}),color:"#3b82f6"}),l.jsx(E,{title:"Total Consultations",value:t.totalConsultations,icon:l.jsx(pm,{}),color:"#8b5cf6"}),l.jsx(E,{title:"Active Consultations",value:t.activeConsultations,icon:l.jsx(ir,{}),color:"#f59e0b"}),l.jsx(E,{title:"Online Doctors",value:t.onlineDoctors,icon:l.jsx(Mu,{}),color:"#ef4444"}),l.jsx(E,{title:"Verified Doctors",value:t.verifiedDoctors,icon:l.jsx(Aa,{}),color:"#06b6d4"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Consultations"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Patient"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Doctor"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:n.slice(0,5).map(_=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_.patientName}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_.doctorName}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_.status==="ACTIVE"?"bg-green-100 text-green-800":_.status==="COMPLETED"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:_.status})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(_.createdAt).toLocaleDateString()})]},_.id))})]})})]})]}),a==="users"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx(qA,{onEdit:_=>{d(_),f(!0)},onCreate:()=>{d(null),f(!0)}},y),h&&l.jsx(KA,{user:u,onClose:()=>f(!1),onSaved:()=>{f(!1),m(_=>_+1)}})]}),a==="pending-doctors"&&l.jsx("div",{className:"space-y-4",children:l.jsx(GA,{})}),a==="consultations"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx(XA,{onOpen:_=>x(_)}),l.jsx(YA,{consultationId:w,onClose:()=>x(null)})]}),a==="prescriptions"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx(eR,{onOpen:_=>g(_)}),l.jsx(rR,{prescriptionId:p,onClose:()=>g(null)})]})]})]})};function St({children:e,requireAuth:t=!0}){const{state:r}=wt();if(r.isLoading)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-50 to-teal-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});if(t&&!r.isAuthenticated)return l.jsx(wr,{to:"/auth",replace:!0});if(!t&&r.isAuthenticated){const n=localStorage.getItem("echomed_user_type");return l.jsx(wr,{to:n==="doctor"?"/doctor-dashboard":"/home",replace:!0})}return l.jsx(l.Fragment,{children:e})}function sR({children:e}){const t=localStorage.getItem("echomed_admin_token");if(!t)return l.jsx(wr,{to:"/admin/login",replace:!0});const n=(i=>{try{const o=i.split(".");if(o.length!==3)return null;const a=o[1].replace(/-/g,"+").replace(/_/g,"/"),c=a.padEnd(a.length+(4-a.length%4)%4,"="),u=atob(c);return JSON.parse(u)}catch{return null}})(t);return n?n.exp&&Date.now()>=n.exp*1e3?(localStorage.removeItem("echomed_admin_token"),l.jsx(wr,{to:"/admin/login",replace:!0})):n.role==="ADMIN"||n.isAdmin===!0?l.jsx(l.Fragment,{children:e}):l.jsx(wr,{to:"/admin/login",replace:!0}):(localStorage.removeItem("echomed_admin_token"),l.jsx(wr,{to:"/admin/login",replace:!0}))}function iR(){const{dispatch:e}=wt(),t=Me(),r=ll();return S.useEffect(()=>((async()=>{const s=localStorage.getItem("echomed_token"),i=localStorage.getItem("echomed_user_type"),o=localStorage.getItem("echomed_user_id"),a=localStorage.getItem("echomed_user_name"),c=localStorage.getItem("echomed_user_email");if(s&&i){const u={id:o||"",name:a||"",email:c||"",role:i==="doctor"?"DOCTOR":"PATIENT",createdAt:new Date().toISOString()};e({type:"SET_USER",payload:u}),e({type:"SET_AUTHENTICATED",payload:!0}),e({type:"SET_USER_TYPE",payload:i});try{if(i==="doctor"&&o){const f=await es.getDoctorProfile(o);e({type:"SET_USER",payload:f})}}catch(f){console.error("Failed to load full user data:",f)}["/","/splash","/onboarding","/auth","/doctor-auth","/doctor-registration","/patient-registration"].includes(r.pathname)&&(i==="doctor"?t("/doctor-dashboard",{replace:!0}):t("/home",{replace:!0}))}else r.pathname==="/"&&t("/splash",{replace:!0});e({type:"SET_LOADING",payload:!1})})(),()=>{}),[]),l.jsx("div",{className:"font-sans antialiased",children:l.jsxs(wS,{children:[l.jsx(Ae,{path:"/splash",element:l.jsx(St,{requireAuth:!1,children:l.jsx(pC,{})})}),l.jsx(Ae,{path:"/onboarding",element:l.jsx(St,{requireAuth:!1,children:l.jsx(mC,{})})}),l.jsx(Ae,{path:"/auth",element:l.jsx(St,{requireAuth:!1,children:l.jsx(pA,{})})}),l.jsx(Ae,{path:"/doctor-registration",element:l.jsx(St,{requireAuth:!1,children:l.jsx(vA,{})})}),l.jsx(Ae,{path:"/patient-registration",element:l.jsx(St,{requireAuth:!1,children:l.jsx(_A,{})})}),l.jsx(Ae,{path:"/home",element:l.jsx(St,{children:l.jsx(TA,{})})}),l.jsx(Ae,{path:"/consultation",element:l.jsx(St,{children:l.jsx(RA,{})})}),l.jsx(Ae,{path:"/chat/:consultationId",element:l.jsx(St,{children:l.jsx(OA,{consultationId:"sample-consultation-id",doctorInfo:{id:"doc1",name:"Dr. Akosua Mensah",avatar:"https://images.pexels.com/photos/5327656/pexels-photo-5327656.jpeg?auto=compress&cs=tinysrgb&w=400",specialty:"General Medicine",isOnline:!0}})})}),l.jsx(Ae,{path:"/home-visit",element:l.jsx(St,{children:l.jsx(LA,{})})}),l.jsx(Ae,{path:"/prescriptions",element:l.jsx(St,{children:l.jsx(DA,{})})}),l.jsx(Ae,{path:"/doctor-dashboard",element:l.jsx(St,{children:l.jsx(VA,{})})}),l.jsx(Ae,{path:"/admin/login",element:l.jsx(BA,{})}),l.jsx(Ae,{path:"/admin/dashboard",element:l.jsx(sR,{children:l.jsx(nR,{})})}),l.jsx(Ae,{path:"/",element:l.jsx(wr,{to:"/splash",replace:!0})}),l.jsx(Ae,{path:"*",element:l.jsx(wr,{to:"/splash",replace:!0})})]})})}function oR(){return l.jsx(SS,{children:l.jsx(ES,{children:l.jsx(iR,{})})})}v0(document.getElementById("root")).render(l.jsx(S.StrictMode,{children:l.jsx(oR,{})}));
